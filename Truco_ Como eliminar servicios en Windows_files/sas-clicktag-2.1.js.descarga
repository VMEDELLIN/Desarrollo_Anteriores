var sas=sas||{};sas.clicktag=sas.clicktag||{},function(){var t=!1,i="",a=!1;!function(t,i){"use strict";t=t||"docReady",i=i||window;var a=[],n=!1,c=!1;function e(){if(!n){n=!0;for(var t=0;t<a.length;t++)a[t].fn.call(window,a[t].ctx);a=[]}}function d(){"complete"===document.readyState&&e()}i[t]=function(t,i){n?setTimeout((function(){t(i)}),1):(a.push({fn:t,ctx:i}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(e,1):c||(document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):(document.attachEvent("onreadystatechange",d),window.attachEvent("onload",e)),c=!0))}}("docReady",sas.clicktag),sas.clicktag.register=function(n){i=n,t&&i&&0==a&&(a=!0,i())},_addEvent=function(t,i,a){t&&i&&a&&(t.addEventListener?t.addEventListener(i,a,!1):t.attachEvent&&t.attachEvent("on"+i,a))};log=function(t){false},document.location.href.indexOf("sasfid")>0&&window.parent&&window.parent.postMessage&&(_addEvent(window,"message",(function(n){if(n.data){try{log("new logic");var c=JSON.parse(n.data);if(log(c),!c.isSmart||!c.clickUrls)return;if("undefined"!=typeof clickTag){log("single clicktag");var e=c.clickUrls[0].indexOf("&go=http")>0;clickTag=e?c.clickUrls[0]:c.clickUrls[0]+clickTag}else if(void 0!==window.clickTag0){log("multiclick");var d=0;do{var o="";e=(o=c.clickUrls[d]?c.clickUrls[d]:c.clickUrls[0]).indexOf("&go=http")>0;window["clickTag"+d]=e?o:o+window["clickTag"+d],log(window["clickTag"+d]),d++}while(void 0!==window["clickTag"+d])}}catch(t){if(log("old logic"),!n.data||n.data.indexOf("http")<0||n.data.indexOf("imgid")<0)return;e=n.data.indexOf("&go=http")>0;if("undefined"!=typeof clickTag)clickTag=e?n.data:n.data+clickTag;else if(void 0!==window.clickTag0){d=0;do{window["clickTag"+d]=e?n.data:n.data+window["clickTag"+d],d++}while(void 0!==window["clickTag"+d])}}t=!0,i&&0==a&&(a=!0,i())}})),sas.clicktag.docReady((function(){log("document ready"),window.parent.postMessage(function(){var t=document.URL.split("?")[1];if(null!=t){t=t.split("&");for(var i=0;i<t.length;i++)if(!t[i].indexOf("sasfid="))return t[i].split("=")[1]}return null}(),"*")})))}();