(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{device:()=>qe,isAndroid:()=>Ue,isAndroidPhone:()=>Be,isAndroidTablet:()=>ze,isDesktop:()=>Ye,isIOs:()=>_e,isIPad:()=>We,isIPhone:()=>Ze,isMobile:()=>$e,isTablet:()=>je,isWindows:()=>xe,isWindowsPhone:()=>He,isWindowsTablet:()=>Ge});var i={};function n(t){return"function"==typeof t}function r(t){return n(t)?function(){return!t(...arguments)}:!t}t.r(i),t.d(i,{deviceDetector:()=>e,globalObject:()=>ni});let{toString:s}=Object.prototype;function o(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s.call(t)}function a(t){const e=typeof t;return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===o(t)}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r(a(t)))throw new Error(`${e||t} should be a string!`)}const l={TAGS:["smsh","smtag","smtags","smt"],DEBUG:["smdebug","sm-debug"]},c={SUNMEDIA:"sm",CLIENT:"client"},h={TYPE:{DEFAULT:"d",INTEGRATION:"s"},MODE:{VAST:"v",BANNER:"b"}},u={TYPES:{VIDEO:"Video",SOCIAL:"SocialAd",SCROLLER:"Scroller",IMAGE:"AdImage",DISPLAY:"Display",PROGRAMMATIC_DISPLAY:"SSP",SURVEY:"Survey",NO_VIDEO_REMINDER:"NoVideoReminder"},PROVIDER:"SM",TAG_PARAMS:{SIZE:"s"}},p=1,m=1,A=0,v={NOT_FOUND:"notFound",SEARCHING:"searching",FOUND:"found"},g="sm",f="cmpValues",b={DEBUG:`${g}-debug`,CONFIG:`${g}-config`};class y{constructor(){this.debug=!1}setMode(t){this.debug=Boolean(t)}log(){let{type:t="log",style:e="font-weight: bold",args:i=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.debug){var n;const r=`${g}-${t}:`.toUpperCase();null===(n=console[t]||console.log)||void 0===n||n.apply(console,[`%c${r}`,e,...i])}}info(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"info",style:"color: blue; font-weight: bold",args:e})}warning(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"warn",args:e})}warnDeprecation(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"warn",style:"font-weight: bold; color: #ff0000;",args:["Calling deprecated function \n*\n",...e,"\n*\n"]})}error(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"error",args:e})}}const E=new y;E.wrapWithName=t=>{d(t,"loggerName");const e=t.toUpperCase();return{info:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return E.info(`[${e}]`,...i)},error:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return E.error(`[${e}]`,...i)},warning:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return E.warning(`[${e}]`,...i)},warnDeprecation:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return E.warnDeprecation(`[${e}]`,...i)}}};const C=E;function I(){}function T(t){if(!n(t))throw new Error("reverseArgs argument must be a function");return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t(...i.reverse())}}function w(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];if(!n(t))throw new Error("pipe requires at least one function argument");return function(){const e=t(...arguments);return i.reduce(((t,e)=>e(t)),e)}}function S(){if(!arguments.length)throw new Error("compose requires at least one argument");return T(w)(...arguments)}function k(t,e){return function i(n){return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];const a=[...n,...s];return a.length>=t?e(...a):i(a)}}([])}function R(t){return"[object Array]"===o(t)}function M(t){return null!==t&&("object"==typeof t||n(t))}function P(t){return M(t)&&!n(t)&&!R(t)}const D=k(2,((t,e)=>{if(R(e))return e.filter(t);if(P(e))return Object.entries(e).reduce(((e,i)=>{let[n,r]=i;return{...e,...t(r,n)&&{[n]:r}}}),{});throw new Error(`Cannot apply filter to ${e}`)})),L=k(2,((t,e)=>D(r(t),e))),N=k(2,((t,e)=>{if(R(e))return e.map(t);if(P(e))return Object.entries(e).reduce(((e,i)=>{let[n,r]=i;return Object.assign(e,{[n]:t(r,n)})}),{});throw new Error(`Cannot apply map to ${e}`)}));function O(){return(new Date).getTime().toString()}function V(t){return a(t)&&""!==t}function F(t,e){const{callback:i}=t||{};if(V(i)&&n(window[i]))try{C.info("Fire options callback",{callback:i,payload:e}),window[i](e)}catch(t){C.error("Fire options callback",{err:t})}}function x(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),R(t))for(let i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}const U={RANDOM:"random",DOMAIN:"domain",REFERRER_URL:"referrerUrl",GFK_CATEGORY:"gfkCategory",CATEGORY:"category",CATEGORY_ENCODE:"categoryEncode",GDPR_APPLIES:"gdprApplies",CONSENT_STRING:"consentString",WIDTH:"width",HEIGHT:"height",SUPPLY_CHAIN:"supplyChain",TARGETING:"targeting",IP:"ip",UA:"ua",IC:"ic",POD_MAX_DUR:"podMaxDur",POD_AD_SLOTS:"podAdSlots",APP_BUNDLE:"appBundle",APP_NAME:"appName",APP_STORE_URL:"appStoreUrl",CONTENT_GENRE:"contentGenre",CONTENT_TITLE:"contentTitle",CHANNEL_NAME:"channelName",DID:"did"},B={[U.RANDOM]:"random",[U.DOMAIN]:"domain",[U.REFERRER_URL]:"request.referrerurl",[U.GFK_CATEGORY]:"gfk_category",[U.CATEGORY]:"page_category",[U.CATEGORY_ENCODE]:"page_category.encode",[U.GDPR_APPLIES]:"gdpr",[U.CONSENT_STRING]:"gdpr_consent",[U.WIDTH]:"request.width",[U.HEIGHT]:"request.height",[U.SUPPLY_CHAIN]:"supply_chain",[U.TARGETING]:"VALUE",[U.IP]:"IP",[U.UA]:"UA",[U.IC]:"IC",[U.POD_MAX_DUR]:"POD_MAX_DUR",[U.POD_AD_SLOTS]:"POD_AD_SLOTS",[U.APP_BUNDLE]:"APP_BUNDLE",[U.APP_NAME]:"APP_NAME",[U.APP_STORE_URL]:"APP_STORE_URL",[U.CONTENT_GENRE]:"CONTENT_GENRE",[U.CONTENT_TITLE]:"CONTENT_TITLE",[U.CHANNEL_NAME]:"CHANNEL_NAME",[U.DID]:"DID"},z=/(\${)([\w.]+)(})/g,W=t=>{try{return decodeURIComponent(t)}catch{return t}},H=t=>"string"==typeof t&&W(t)!==t;const G={encode:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r(e)&&H(t)?t:encodeURIComponent(t)},decode:W};function j(t){return void 0===t}function Z(t){return j(t)||null===t}const{DOMAIN:$,REFERRER_URL:Y,RANDOM:q}=U;const _=function(t){let{str:e,values:i={},pattern:n=z,macros:r=B,useDefaultValues:s=!0}=t;d(e);const o=s?function(t){const e={[$]:window.location.hostname,[Y]:G.encode(window.location.href,!0),[q]:Math.abs(Math.floor(1e9*Math.random()))};return Object.assign({},e,t)}(i):i;return e.replace(n,((t,e,i)=>{const n=Object.keys(r).find((t=>r[t]===i)),s=o[n];return Z(s)?t:s}))};function Q(t){return"number"==typeof t}function X(t){return Q(null==t?void 0:t.nodeType)&&a(t.nodeName)}function K(t){return 1===(null==t?void 0:t.nodeType)&&a(t.nodeName)}function J(t){var e;r(K(t))||null===(e=t.parentNode)||void 0===e||e.removeChild(t)}function tt(t){return Q(t)&&!Number.isNaN(t)}function et(t){return N(((t,e)=>(t=>["line-height"].every((e=>r(t.includes(e)))))(e)&&(t=>["top","left","right","bottom","width","height","margin","padding","border"].some((e=>t.includes(e))))(e)&&tt(t)?`${t}px`:t),t)}function it(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(r(K(t)))return;i&&t.removeAttribute("style");const n=et(e);Object.assign(t.style,n)}function nt(t){return k(t.length,t)}function rt(){let t=window;try{for(;t.parent&&t!==t.parent&&t.parent.location.href;)t=t.parent}catch{}return t}function st(t){return t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\r?\n|\r/g,"").replace(/\s\s+/g," ").trim()}let ot=window;const at=S(r,V);function dt(t){ot=t}function lt(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(X(t)){const i=t.ownerDocument,n=i.defaultView||i.parentWindow;return e&&dt(n),n}return null}function ct(t){if(!K(t))return{};const{top:e,left:i,width:n,height:r}=t.getBoundingClientRect(),{x:s,y:o}=function(){let{x:t,y:e}={};if(void 0!==ot.pageXOffset){const i="CSS1Compat"===(ot.document.compatMode||"")?ot.document.documentElement:ot.document.body;t=i.scrollLeft,e=i.scrollTop}else t=ot.pageXOffset,e=ot.pageYOffset;return{x:t,y:e}}();return{top:o+e,left:s+i,width:n,height:r}}function ht(t,e){t.addEventListener("click",e)}function ut(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:e="div",name:i=null,prefix:n=g,id:r=null,style:s=null,content:o=null,events:a=null,children:d}=t;let l={...t.attributes};const c=ot.document.createElement(e),h=n?`${n}-`:"";if(i){const t=`${h}${i}${l.class?` ${l.class}`:""}`;delete l.class,l={class:t,...l}}return r&&(l={id:`${h}${i?`${i}-`:""}${r}`,...l}),x(l,((t,e)=>{"data"===e&&M(t)?x(t,((t,e)=>{c.setAttribute(`data-${e}`,t)})):c.setAttribute(e,t)})),o&&(c.innerHTML=o),s&&it(c,s),a&&x(a,((t,e)=>{"click"===e?ht(c,t):c.addEventListener(e,t)})),d&&pt(c,d),c}function pt(t,e){if(r(X(t))||r(e))return;S((e=>x(e,(e=>{K(e)?t.appendChild(e):M(e)&&t.appendChild(ut(e))}))),(t=>R(t)?t:[t]))(e)}function mt(t,e){let{overwrite:i=!1,concat:n=!1,$container:s,wind:o=ot}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(at(t)||at(e))return;const a=s?lt(s).document:o.document,d=`${g}-${t}`,l=a.getElementById(d),c=st(e),h=t=>{if(t.styleSheet)t.styleSheet.cssText+=c;else{const e=a.createTextNode(c);t.appendChild(e)}return t},u=()=>st(l.textContent).includes(c);if(l&&r(i))return void(n&&r(u())&&h(l));i&&J(l);const p=s||a.head,m=nt(pt)(p),A={type:"style",attributes:{id:d,type:"text/css"}};S(m,h,ut)(A)}function At(t){if(K(t)){const e=ot.getComputedStyle(t);let i=t.clientWidth,n=t.clientHeight;return n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),i-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),{height:n,width:i}}return null}function vt(t,e){const i=`inner${e}`,n=`client${e}`;let r;return t[i]?r=t[i]:t.document&&t.document.documentElement&&t.document.documentElement[n]&&(r=t.document.documentElement[n]),r}function gt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return vt(t,"Width")}function ft(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return vt(t,"Height")}function bt(t){if(r(K(t)))return null;const e=(t,i)=>{let n;try{n=t.defaultView.frameElement}catch{n=null}if(r(n))return i;const{top:s}=n.getBoundingClientRect();return e(n.ownerDocument,i+s)},i=t.getBoundingClientRect(),n=e(ot.document,i.top),s=i.height+n,o=ft(rt());return{isIntersecting:n>=0&&n<=o||s>=0&&s<=o,isInViewport:n>=0&&s<=o,isAbove:n>o,isBelow:s<0}}function yt(t){return new Promise((e=>{try{d(t);const i=new Image(1,1);i.addEventListener("load",(()=>{e(!0)})),i.addEventListener("error",(t=>{C.warning("",t),e(!1)})),i.src=t}catch(t){C.warning("",t),e(!1)}}))}function Et(t){return new Promise((e=>{try{d(t);const i=ut({type:"script",attributes:{async:!0,src:t},events:{load:()=>{e(!0)},error:t=>{C.warning("",t),e(!1)}}});pt(document.body,i)}catch(t){C.warning("",t),e(!1)}}))}function Ct(t){let{ap:e,it:i,tp:n,pb:r,pos:s,loop:o,pbt:a,pbid:d,errorMsg:l}=t;return yt(`https://track.sunmedia.tv/?${[...V(e)?[`ap=${e}`]:[],...V(i)?[`it=${i}`]:[],...V(n)?[`tp=${n}`]:[],...Q(r)?[`pb=${r}`]:[],...Q(s)?[`pos=${s}`]:[],...Q(o)?[`loop=${o}`]:[],...V(a)?[`pbt=${a}`]:[],...V(d)?[`pbid=${d}`]:[],...V(l)?[`err=${l}`]:[]].join("&")}`)}const It={SCRIPT:"SCRIPT",IMAGE:"IMAGE",HTML:"HTML"},Tt=/(\[ad\.)([\w]+)(])/gi,wt={adSystem:"system",adTitle:"title",category:"category",advertiser:"advertiser",pricing:"pricing",adServingId:"servingid"};function St(t){let{data:e,macroValues:i,adDataValues:n}=t,r=e;return r=_({str:r,values:i}),r=_({str:r,values:n,pattern:Tt,macros:wt}),r}function kt(t){return r(j(t))}function Rt(t){return tt(t)&&t>0}const Mt={OPPORTUNITY:{key:"opportunity",val:"op"},REQUEST:{key:"request",val:"req"},REQUEST_ERROR:{key:"requestError",val:"reqe"},MAX_REQUESTS_REACHED:{key:"maxRequestsReached",val:"maxreq"},EFFECTIVE:{key:"effective",val:"ef"},INVENTORY:{key:"inventory",val:"inv"},UNFILLED:{key:"unfilled",val:"unf"},START:{key:"start",val:"st"},IMPRESSION:{key:"impression",val:"imp"},FIRST_QUARTILE:{key:"firstQuartile",val:"fq"},MIDPOINT:{key:"midpoint",val:"mp"},THIRD_QUARTILE:{key:"thirdQuartile",val:"tq"},COMPLETE:{key:"complete",val:"co"},SKIP:{key:"skip",val:"sk"},CLICK:{key:"click",val:"clk"},MUTE:{key:"mute",val:"mu"},UNMUTE:{key:"unmute",val:"um"},PAUSE:{key:"pause",val:"pa"},REWIND:{key:"rewind",val:"rw"},PLAYER_EXPAND:{key:"playerExpand",val:"pe"},PLAYER_COLLAPSE:{key:"playerCollapse",val:"pc"},ACCEPT_INVITATION_LINEAR:{key:"acceptInvitationLinear",val:"ai"},TIME_SPENT_VIEWING:{key:"timeSpentViewing",val:"ts"},OTHER_AD_INTERACTION:{key:"otherAdInteraction",val:"oa"},PROGRESS:{key:"progress",val:"pr"},CREATIVE_VIEW:{key:"creativeView",val:"cv"},ACCEPT_INVITATION:{key:"acceptInvitation",val:"ac"},MINIMIZE:{key:"minimize",val:"mi"},CLOSE:{key:"close",val:"cl"},OVERLAY_VIEW_DURATION:{key:"overlayViewDuration",val:"ov"},VIEWABILITY:{key:"viewability",val:"vw"},ERROR:{key:"error",val:"err"},RESUMED:{key:"resumed",val:"rs"},CLOSE_MODE:{key:"closeMode",val:"mc"},NOVIEWABILITY:{key:"noviewability",val:"nvw"},AD_LOADED:{key:"adLoaded",val:"adl"},AD_STARTED:{key:"AdStarted",val:"adt"},AD_RESUMED:{key:"adResumed",val:"adr"},AD_STOPPED:{key:"adStopped",val:"ads"},AD_PLAYING:{key:"adPlaying",val:"adp"},AD_EXPAND:{key:"adExpand",val:"ad"},AD_COLLAPSE:{key:"adCollapse",val:"ao"},AD_SIZE_CHANGE:{key:"adSizeChange",val:"asz"},AD_EXPANDED_CHANGE:{key:"adExpandedChange",val:"aec"},AD_VIDEO_START:{key:"adVideoStart",val:"avs"},AD_VIDEO_COMPLETE:{key:"adVideoComplete",val:"avc"},AD_VOLUME_CHANGE:{key:"adVolumeChange",val:"avh"},AD_SECOND_CREATIVE_OPENED:{key:"AdSecondCreativeOpened",val:"asco"},AD_ELAPSED_TIME:{key:"AdElapsedTime",val:"aet"},NATIVE_REQUEST:{key:"nativeRequest",val:"nreq"},NATIVE_IMPRESSION:{key:"nativeImpression",val:"nimp"},NATIVE_UNFILLED:{key:"nativeUnfilled",val:"nunf"},NATIVE_CREATIVE_IMPRESSION:{key:"nativeCreativeImpression",val:"ncimp"},NATIVE_CREATIVE_UNFILLED:{key:"nativeCreativeUnfilled",val:"ncunf"},NATIVE_CREATIVE_CLICK:{key:"nativeCreativeClick",val:"ncclk"},PLAYER_IMPRESSION:{key:"playerImpression",val:"vimp"},CONTAINER_SIZE_ERROR:{key:"sizerr",val:"sizerr"},ALTERNATIVE:{key:"alternative",val:"alt"},REMINDER:{key:"reminder",val:"rem"}},Pt={},Dt={};Object.keys(Mt).forEach((t=>{const e=Mt[t],{key:i,val:n}=e;Pt[t]=i,Dt[i]=n}));const Lt=Object.assign({},Pt),Nt=t=>Dt[t],Ot={CLIENT:0,SUNMEDIA:1},Vt=[Lt.OPPORTUNITY,Lt.REQUEST,Lt.EFFECTIVE,Lt.UNFILLED],Ft=async(t,e,i,n)=>{C.info(`Firing tracking for ${t} Default event`);const r=e.filter((e=>t===e.event));if(r.length>0){const t=N((t=>{let{type:e,data:r}=t;return async function(t){let{data:e="",type:i=It.IMAGE,macroValues:n={},adDataValues:r={}}=t;d(e);let{jsElements:s,js:o,uri:a}={},l=document.createElement("div");switch(i.toUpperCase()){case It.IMAGE:return a=St({data:e,macroValues:n,adDataValues:r}),yt(a);case It.HTML:l=document.createElement("div"),l.innerHTML=St({data:e,macroValues:n,adDataValues:r}),document.body.appendChild(l);break;case It.SCRIPT:l.innerHTML=St({data:e,macroValues:n,adDataValues:r}),s=l.getElementsByTagName("script"),s&&s.length>0&&(x(Array.from(s),(t=>{o=document.createElement("script"),t.src?o.src=t.src:window.eval(t.innerHTML)})),document.getElementsByTagName("head")[0].appendChild(o));break;default:throw new Error("Unknown data type.")}return!0}({type:e,data:r,macroValues:i,adDataValues:n})}),r);return Promise.all(t)}return[]};class xt{constructor(t){let{it:e,app:i,pos:n,defaultTrackers:r}=t;this.it=e,this.app=i,this.pos=n,this.defaultTrackers=[],x(r,(t=>{let{event:e,type:i,data:n}=t;const r=Nt(e);kt(r)&&this.defaultTrackers.push({event:r,type:i,data:n})})),this.loop=1,this.silent=!1,this.macroValues={},this.trackersLog=[],this.firedTrackerByName={},x(Lt,(t=>{this.firedTrackerByName[`${t}-1`]=0,this.firedTrackerByName[`${t}-0`]=0}))}setMode(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.silent=t}setLoop(t){kt(t)&&(this.loop=t)}logTracker(t){this.trackersLog.push(t)}hasBeenFired(t,e){return Rt(this.firedTrackerByName[`${t}-${e}`])}async _fire(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{tp:r,pb:s}=e;if(this.firedTrackerByName[`${t}-${s}`]+=1,this.logTracker(t),!1===this.silent){const t=Ct({loop:this.loop,pos:this.pos,ap:this.app,it:this.it,...e}),s=Ft(r,this.defaultTrackers,i,n);return Promise.all([t,s]).then((function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return[t,...i]}))}return Promise.resolve([])}async _fireOnlyOnce(t,e,i,n){const{pb:r}=e;return this.firedTrackerByName[`${t}-${r}`]?Promise.reject():this._fire(t,e,i,n)}async fire(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Nt(t),{pb:n}=e;if(j(i)||j(n))return Promise.reject();const{pbt:r,pbid:s,macroValues:o,adDataValues:a,errorMsg:d}=e,l={tp:i,pb:n,pbt:r,pbid:s,errorMsg:d};return Vt.includes(t)?this._fireOnlyOnce(t,l,o,a):this._fire(t,l,o,a)}static create(t){const e=new xt(t);return e.PB_CHOICES=Ot,e}}function Ut(t){if(!M(t))return t;let e;return e=R(t)?t.map((t=>Ut(t))):n(t)?function(t){const e=t.__isClone?t.__clonedFrom:t,i=e.bind({});return x(e,((t,e)=>{i[e]=t})),i.__isClone=!0,i.__clonedFrom=e,i}(t):M(t)?function(t){const e=t.constructor?new t.constructor:{};return x(t,((t,i)=>{e[i]=Ut(t)})),e}(t):JSON.parse(JSON.stringify(t)),e}function Bt(t){return/(https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(t)}function zt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r(Bt(t)))throw new Error(`${e||t} should be a secure URL!`)}function Wt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>null;return function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];try{return t(...n)}catch(t){return e(t,...n)}}}function Ht(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const n=new Promise(((t,n)=>{e=setTimeout((()=>{n(new Error(`Promise timed out in ${i} ms`))}),i)}));return Promise.race([t,n]).then((t=>(clearTimeout(e),t))).catch((t=>{throw clearTimeout(e),t}))}function Gt(t){return/^([a-z][a-z\d+-.]*:)?\/\//i.test(t)}function jt(){const t={};function e(e,i){t[i]=P(e)?jt(t[i],e):t[i]=e}for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.forEach((t=>{x(t,e)})),t}const Zt=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.defaults=t}dispatchRequest(t){if(t.baseURL&&t.url&&!Gt(t.url)){const e=t.baseURL.replace(/\/+$/,""),i=t.url.replace(/^\/+/,"");t.url=`${e}/${i}`}t.headers=t.headers||{},x(t.transformRequest,(e=>{t.data=e(t.data,t.headers)})),t.headers=jt(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),x(["delete","get","head","post","put","patch","common"],(e=>{delete t.headers[e]}));return(t.adapter||this.defaults.adapter)(t).then((e=>(x(t.transformResponse,(t=>{e.data=t(e.data,e.headers)})),e)),(e=>(e&&e.response&&x(t.transformResponse,(t=>{e.response.data=t(e.response.data,e.response.headers)})),Promise.reject(e))))}request(t){return t=a(t)?{url:t}:t||{},(t=jt(this.defaults,t)).method=t.method?t.method.toLowerCase():"get",this.dispatchRequest(t)}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(jt(e,{method:"GET",url:t}))}};function $t(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e=new URL(t)}catch{return!1}return i?"https:"===e.protocol:"https:"===e.protocol||"http:"===e.protocol}function Yt(t,e){if(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r($t(t)))throw new Error(`${e||t} should be a valid HTTP(s) URL!`)}(t,"url"),Z(e))return t;return`${t}?${new URLSearchParams(e).toString()}`}function qt(t){let{children:e,childNodes:i}=t;return kt(e)?Array.from(e):D(K,Array.from(i))}function _t(t){let{attributes:e}=t;const i={};return x(e,(t=>{let{name:e,value:n}=t;i[e]=n})),i}function Qt(t){const e={$:_t(t)},i=qt(t);return i.length>0?x(i,(t=>{const{tagName:i}=t;e[i]=e[i]||[],e[i].push(Qt(t))})):e._=t.textContent.trim(),e}const Xt=function(t){let e;if(DOMParser){e=(new DOMParser).parseFromString(t,"text/xml")}else e=new window.ActiveXObject("Microsoft.XMLDOM"),e.async=!1,e.loadXML(t);return function(t){const{firstChild:e}=t;return{[e.tagName]:Qt(e)}}(e)};function Kt(t,e){kt(t)&&j(t["Content-Type"])&&(t["Content-Type"]=e)}function Jt(){const t={};function e(e,i){P(e)?"object"==typeof t[i]&&"object"==typeof e?t[i]=Jt(t[i],e):"object"==typeof e&&(t[i]=Jt({},e)):t[i]=e}for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.forEach((t=>{x(t,e)})),t}const te=new Zt({adapter:function(t){return new Promise(((e,i)=>{let n=t.data;const r=t.headers;let s=new XMLHttpRequest;const o=Yt(t.url,t.params);if(s.open(t.method.toUpperCase(),o,!0),s.timeout=t.timeout,s.onreadystatechange=()=>{if(!s||4!==s.readyState)return;if(0===s.status&&(!s.responseURL||0!==s.responseURL.indexOf("file:")))return;const n="getAllResponseHeaders"in s?s.getAllResponseHeaders():null,r={data:t.responseType&&"text"!==t.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:n,config:t,request:s},{validateStatus:o}=r.config;!o||o(r.status)?e(r):i(new Error(`Request failed with status code ${r.status}`)),s=null},s.onabort=function(){s&&(i(new Error("Request aborted")),s=null)},s.onerror=function(){i(new Error("Network Error")),s=null},s.ontimeout=function(){i(new Error(`timeout of ${t.timeout}ms exceeded`)),s=null},"setRequestHeader"in s&&x(r,((t,e)=>{j(n)&&"content-type"===e.toLowerCase()?delete r[e]:s.setRequestHeader(e,t)})),t.withCredentials&&(s.withCredentials=!0),t.responseType)try{s.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}void 0===n&&(n=null),s.send(n)}))},transformRequest:[function(t,e){return i=t,"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams?(Kt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):M(t)?(Kt(e,"application/json;charset=utf-8"),JSON.stringify(t)):t;var i}],transformResponse:[function(t){if(a(t))try{t=JSON.parse(t)}catch{}return t},function(t){if(a(t))try{t=Xt(t)}catch{}return t}],timeout:0,maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}});te.create=function(t){const e=Jt(te.defaults,t);return new Zt(e)};const ee=te,ie={};const ne=ee.create({transformResponse:[function(t){if(a(t))try{t=function(t){const e=function(t){const e=[];let i=t;return 0!==i.indexOf('"use strict"')&&(i=`'use strict';${i}`),i=i.replace(/export default/,"exports.default =").replace(/export\s*\{([\s\S]*?)\}/gi,((t,e)=>{let i="";return e.split(",").forEach((t=>{const e=t.trim().split(" as ");i+=`exports.${e[1]||e[0]} = ${e[0]};`})),i})).replace(/export\s+(const|function|class|let|var)\s+(.+?)(?=(\(|\s|=))/gi,((t,i,n)=>e.push(n)&&`${i} ${n}`)),e.forEach((t=>{i+=`exports.${t} = ${t};`})),i}(t),i={};return new Function("exports",e)(i),i}(t)}catch{}return t}]});function re(t,e){return Wt(zt,Promise.reject)(t),Ht(function(t){return ie[t]?Promise.resolve(ie[t]):ne.get(t).then((e=>{let{data:i}=e;return ie[t]=i,i}))}(t),e)}function se(t){return!0===t||!1===t||"[object Boolean]"===o(t)}function oe(t){if(Z(t)||Q(t)||se(t))return!1;try{return 0===Object.keys(t).length}catch{return!0}}function ae(t){return t.filter(((t,e,i)=>i.indexOf(t)===e))}const de=k(2,((t,e)=>{if(Z(t))throw new Error("object argument");if(!n(e))throw new Error("function argument");return e.bind(t)}));function le(t){return t}const ce=k(2,((t,e)=>{if(!n(t))throw new Error("flatMap argument must be a function");return e.flatMap(t)}));function he(t){return M(t)?Object.entries(t).map((t=>{let[e,i]=t;return{[e]:i}})):[]}function ue(t,e){const i=Z(e)?le:function(t){return N(de(t))}(e);return S(N(i),ce(he),N((t=>{let{hooks:e}=t;return e})),D(P))(t)}function pe(t){return Array.from(new URL(t).searchParams.entries()).reduce(((t,e)=>({...t,[e[0]]:e[1]})),{})}function me(t,e){const i=e.document.getElementsByTagName("script");return Array.from(i).find((e=>e.src.includes(`${t}.js`)))}function Ae(t){const e=Object.assign({},null==t?void 0:t.dataset);if(r(oe(e)))return e;const{gdpr_consent:i,referrerurl:n,gdpr:s,rh:o,rw:a}=pe(null==t?void 0:t.src);return{...i&&{[U.CONSENT_STRING]:i},...n&&{[U.REFERRER_URL]:n},...s&&{[U.GDPR_APPLIES]:s},...o&&{[U.HEIGHT]:o},...a&&{[U.WIDTH]:a}}}function ve(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(Z(null==t?void 0:t.it))throw new Error("Wrong arguments passed in");const n=null!=e&&e.parentElement?e:me(t.it,i);return n?{$element:n,$container:n.parentElement,macros:Ae(n)}:null}const ge=["true","1","yes"],fe=["false","0","no"];function be(t){if(!a(t))throw new Error("stringToBoolean expects one argument of type string");const e=t.toLowerCase().trim();return!!ge.includes(e)||!fe.includes(e)&&null}const{CATEGORY:ye,GDPR_APPLIES:Ee}=U;const Ce=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={...t};return null!=t&&t[ye]&&(e[ye]=G.decode(t[ye])),null!=t&&t[Ee]&&(e[Ee]=be(t[Ee])?m:A),e};const Ie=function(t,e){if(r(!!B[t]))return!1;const i=V(e)&&r(e.match(z)||"undefined"===e||"null"===e);if(r(i))return!1;if(t===U.GDPR_APPLIES){if(r(se(be(e))))return!1}return!0},Te="1.0,1",we=t=>`!sunmedia.tv,${t},1,,,`;function Se(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te;d(t,"publisherId"),d(e,"prefix");const i=we(t);return`${e}${i}`}const ke=k(3,((t,e,i)=>(i-t)*(i-e)<=0));function Re(){const t=navigator.userAgent||navigator.vendor||window.opera;return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1}function Me(t){return r(t)?t:Math.round(t-273.15)}function Pe(t,e){try{const{clusters:i=[],weather:n={}}=t||{};return Z(e)?i:L((t=>n[t]&&r(ke(n[t].temp_min,n[t].temp_max,e))))(i)}catch{return[]}}function De(){var t;let{geoTarget:e,contextual:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Me(null==e||null===(t=e.main)||void 0===t?void 0:t.temp),r=[...Re()?["FB"]:[],...tt(n)?[`T${n}`]:[],...Pe(i,n)];return r.length>0?r.join(","):null}function Le(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r(n(t)))throw new Error(`${e||t} should be a function!`)}const Ne=t=>{d(t,"Event name")},Oe=t=>{Le(t,"Handler")};const Ve=class{constructor(t){this.logger=t||C,this.listeners={}}on(t,e){Ne(t),Oe(e);let i=this.listeners[t];i||(i=[],this.listeners[t]=i),i.push(e)}once(t,e){Oe(e);const i=n=>{this.off(t,i),e.call(this,n)};this.on(t,i)}off(t,e){Ne(t),Oe(e);const i=this.listeners[t];if(!i)return;const n=i.indexOf(e);i.splice(n,1),0===i.length&&delete this.listeners[t]}offAll(t){j(t)?this.listeners={}:(Ne(t),this.listeners[t]=[],delete this.listeners[t])}emit(t,e){Ne(t);const i=this.listeners[t];i&&i.forEach((t=>{try{t.call(this,e)}catch(t){this.logger.error({message:"Calling event listener",error:t})}}))}hasListeners(t){return Ne(t),R(this.listeners[t])&&this.listeners[t].length>0}},Fe=t=>window.navigator.userAgent.toLowerCase().includes(t);function xe(){return Fe("windows")}function Ue(){return r(xe())&&Fe("android")}function Be(){return Ue()&&Fe("mobile")}function ze(){return Ue()&&r(Fe("mobile"))}function We(){return Fe("ipad")}function He(){return xe()&&Fe("phone")}function Ge(){return xe()&&(Fe("touch")||Fe("tablet"))&&r(He())}function je(){return ze()||We()||Ge()}function Ze(){return r(xe())&&Fe("iphone")}function $e(){return Be()||Ze()||He()}function Ye(){return r($e())&&r(je())}const qe=Ye()?"desktop":"mobile";function _e(){return Ze()||We()}function Qe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(!a(t))return!1;const i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},n=i[e];return n&&n.test(t)}function Xe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r(Q(t)))throw new Error(`${e||t} should be a number!`)}const Ke=t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r(Qe(t)))throw new Error(`${e||t} should be a valid UUID!`)}(t,"uuid"),Je=t=>Xe(t,"instanceIndex"),ti=t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Z(t))throw new Error(`${e||t} is required!`)}(t,"instance"),ei=t=>{if(!tt(t)&&!V(t))throw new Error('"api" should be a valid number or string!')};class ii{constructor(){this.wind=rt(),this.wind.__sm__=this.wind.__sm__||{}}register(t){ti(t);const{instanceIndex:e,config:{it:i}}=t;Ke(i),Je(e),this.wind.__sm__.instances=this.wind.__sm__.instances||[];if(this.wind.__sm__.instances.some((t=>t.instanceIndex===e&&t.config.it===i)))throw new Error("Integration already exists");this.wind.__sm__.instances.push(t)}removeByApi(t){ei(t);this.wind.__sm__.instances=L((e=>e.api===t),this.wind.__sm__.instances)}fetchInstancesOfPlugin(t){var e;return(t=>{d(t,"sdkType")})(t),(null===(e=this.wind.__sm__.instances)||void 0===e?void 0:e.filter((e=>{let{config:i}=e;return(null==i?void 0:i.sdkType)===t})))||[]}fetchInstancesOfIntegration(t){var e;return Ke(t),(null===(e=this.wind.__sm__.instances)||void 0===e?void 0:e.filter((e=>e.config.it===t)))||[]}fetchAllInstances(){return[...this.wind.__sm__.instances||[]]}fetchInstance(t,e){var i;return Ke(t),Je(e),null===(i=this.wind.__sm__.instances)||void 0===i?void 0:i.find((i=>i.config.it===t&&i.instanceIndex===e))}fetchInstanceByApi(t){var e;return ei(t),null===(e=this.wind.__sm__.instances)||void 0===e?void 0:e.find((e=>e.api===t))}nextInstanceIndex(t){const e=this.fetchInstancesOfIntegration(t);let i=0;return e.forEach((t=>{i=Math.max(t.instanceIndex+1,i)})),i}getState(t){const{store:e={}}=this.wind.__sm__;return e[t]?{...e[t]}:void 0}setState(t,e){this.wind.__sm__.store=this.wind.__sm__.store||{};const{store:i}=this.wind.__sm__;i[t]={...e}}}const ni=new ii,ri={get:(t,e,i)=>Reflect.has(t,e)?Reflect.get(t,e,i):function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.emit(e,...n)}};class si extends Ve{constructor(t,e){if(!t)throw new Error("A plugin is required!");return super(),this.plugin=t,this.addMany(e),new Proxy(this,ri)}addMany(t){R(t)?t.forEach((t=>{const[e,i]=Object.entries(t)[0];this.add(e,i)})):x(t,((t,e)=>{this.add(e,t)}))}add(t,e){this.on(t,e)}emit(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const s=this.listeners[t];s&&s.forEach((e=>{e.call(null,this.plugin,i,...n),C.info(`Hook "${t}" was called`)}))}static async beforeCreate(t,e){const r=t=>n(t.beforeCreate),s=(t||[]).filter(r);for(const{beforeCreate:t}of s)await t(e,i);return L(r,t)}}class oi{constructor(t){let{currentScript:e,pluginFactory:i,config:n={},services:r=[],components:s=[],genericExtras:o={},validateIntegration:a=I}=t;this.app="smptf",this.pluginFactory=i,this.config=n,this.services=r,this.components=s,this.genericExtraDefinitions=o,this.currentScript=e,this.validateIntegration=a,this.hooks=[],this.macroValues=null,this.integrationScript=null}async setup(){var t,e;const i=await async function(t){let e=[];const i={};return e=await Promise.all(t.map((t=>t().catch((t=>C.error("calling service",t)))))),e.forEach((function(){let{key:t,data:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(t)&&M(e)&&(i[t]=e)})),i}(this.services);Object.assign(this.config,i);const n=await function(t,e){const i=a(t)?t.trim():null,n=t=>S(r,V)(t);return n(i)||n(e)?Promise.resolve(null):re(`https://static.sunmedia.tv/${e}/extras/${i}/extra.js`,7e3).then((t=>t.default||t)).catch((t=>(C.error("Importing the extra",t),null)))}(this.config.options.extra,this.config.path),s=function(t){const e=e=>(null==t?void 0:t[e])||{};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return S(L(oe),N(e),ae)(n)}(this.genericExtraDefinitions,...this.config.options.genericExtras||[],...(null==n?void 0:n.generics)||[])||[],o=ue([...this.components,...s,n]);this.hooks=await si.beforeCreate(o,this.config),this.validateIntegration(this.config),this.integrationScript=ve(this.config,this.currentScript);const d=null===(t=this.integrationScript)||void 0===t?void 0:t.$element.getAttribute("data-publisher");d&&(this.config.publisher=d),this.macroValues=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{GFK_CATEGORY:i,CATEGORY:n,CATEGORY_ENCODE:r,SUPPLY_CHAIN:s,TARGETING:o}=U,a=S(Ce,D(T(Ie)))(e),d=Ce({[i]:t.gfkCategory,[n]:t.category,[r]:G.encode(t.category),[s]:Se(t.publisher),[o]:De(t),...t.geoTarget});return Ut({...d,...a})}(this.config,null===(e=this.integrationScript)||void 0===e?void 0:e.macros)}createPluginInstances(){const t=this.config.integrationInstances||[{}];return S(L(Z),N((t=>{let{index:e}=t;return this.createInstance(e)})))(t)}createInstance(t){let e;try{const{macroValues:i,integrationScript:r}=this,s=O(),o=Ut(this.config),a=(n={app:this.app,it:o.it,pos:t,defaultTrackers:o.defaultTrackers},xt.create(n));e=this.pluginFactory.create({api:s,instanceIndex:t,config:o,appTrackingEvents:a,macroValues:i,integrationScript:r}),e.hooksManager.addMany(this.hooks)}catch(t){var i;C.error("Creating or Initializing the plugin instance",t),null===(i=e)||void 0===i||i.close({err:t}),e=null}var n;return e}}async function ai(t){let{pluginFactory:e,config:i={},services:n=[],components:r=[],genericExtras:s={},currentScript:o,validateIntegration:a=I}=t,d=new oi({pluginFactory:e,config:i,services:n,components:r,genericExtras:s,currentScript:o,validateIntegration:a});try{await d.setup()}catch(t){d=null,F(i.options,{status:"SunMediaEnd",ads:0}),C.error(t)}return d}const di={ADD:"add",REMOVE:"remove",REPLACE:"replace",TOGGLE:"toggle"},li=t=>Object.values(di).includes(t);function ci(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r(K(t)&&li(e)&&(i||n)))return;if(n&&(e===di.ADD||e===di.REMOVE)&&(t.removeAttribute("class"),e===di.REMOVE))return;const s=R(i)?i:[i];t.classList[e](...s)}const hi="SMAdPreload",ui="SMAdFactory",pi="SMAdFactorySSPVpaidSize",mi="SMResizeProgrammaticDisplay",Ai="SMNoMoreTags",vi="SMRequest",gi="SMRequestError",fi="SMMaxRequestsReached",bi="SMUpdateOptions",yi="AdLoaded",Ei="AdStarted",Ci="AdStopped",Ii="AdSkipped",Ti="AdSkippableStateChange",wi="AdSizeChange",Si="AdLinearChange",ki="AdDurationChange",Ri="AdExpandedChange",Mi="AdVolumeChange",Pi="AdImpression",Di="AdVideoStart",Li="AdVideoFirstQuartile",Ni="AdVideoMidpoint",Oi="AdVideoThirdQuartile",Vi="AdVideoComplete",Fi="AdClickThru",xi="AdInteraction",Ui="AdUserAcceptInvitation",Bi="AdUserMinimize",zi="AdUserClose",Wi="AdPaused",Hi="AdPlaying",Gi="AdLog",ji="AdError",Zi="impression",$i="clickTracking",Yi="error",qi="viewable",_i="notViewable",Qi="viewabilityUndetermined",Xi="creativeView",Ki="start",Ji="firstQuartile",tn="midpoint",en="thirdQuartile",nn="complete",rn="mute",sn="unmute",on="pause",an="resume",dn="skip",ln="close",cn="collapse",hn="acceptInvitation",un="userInteract";function pn(t,e){return Object.entries(t).every((t=>{let[i,n]=t;return e[i]===n}))}const mn=k(2,((t,e)=>P(t)&&P(e)&&pn(t,e)&&pn(e,t))),An={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},vn={SUBSCRIBE:"on",UNSUBSCRIBE:"off"},gn=t=>n(t[An.SUBSCRIBE])&&n(t[An.UNSUBSCRIBE]),fn=t=>{const{SUBSCRIBE:e,UNSUBSCRIBE:i}=gn(t)?An:vn;return{subscribeFn:t[e].bind(t),unsubscribeFn:t[i].bind(t)}};function bn(t,e,i,r){return function(s){return function(o,a){if(!M(o))throw new Error("No listeners provided");const d=n(a),l=gn(r);x(o,((n,r)=>{const o=function(){if(l&&d&&!i[r])return;d&&(l?delete i[r]:a(r));const s=e.logWrapper?C.wrapWithName(e.logWrapper):C;for(var o=arguments.length,c=new Array(o),h=0;h<o;h++)c[h]=arguments[h];s.info(r,...c),e.emitHooks&&t.hooksManager&&t.hooksManager.emit(`before${r}`,...c),n.apply(t,c),e.emitHooks&&t.hooksManager&&t.hooksManager.emit(`after${r}`,...c),e.propagate&&t.emit&&t.emit(r,...c)};s(r,o,t),i[r]=o}))}}}function yn(t){if(!M(t))throw new Error("The context needs to be provided");return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!M(e))throw new Error("No emitter provided");const n={},{subscribeFn:r,unsubscribeFn:s}=fn(e),o=bn(t,i,n,e),a=o(r),d=t=>{s(t,n[t]),delete n[t]},l=t=>a(t,d),c=()=>Object.keys(n).forEach(d),h=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return n[t]?n[t](...i):void 0};return{subscribe:a,subscribeOnce:l,unsubscribe:d,unsubscribeAll:c,emitEvent:h}}}function En(t){return a(t)?parseInt(t,10):t}function Cn(t){return/^\d+\:\d+$/gm.test(t)}const In={width:function(t,e){const i=En(t);if(!tt(i)||!Cn(e))return null;const[n,r]=e.split(":");return i*n/r},height:function(t,e){const i=En(t);if(!tt(i)||!Cn(e))return null;const[n,r]=e.split(":");return i*r/n},ratio:function(t,e){let i=En(t),n=En(e);if(!tt(i)||!tt(n))return null;const r=t=>En(t.toFixed(3)),s=t=>1e3*t;i=s(r(i)),n=s(r(n));const o=function t(e,i){return 0===i?e:t(i,e%i)}(i,n);return`${i/o}:${n/o}`}},Tn=t=>In[t]||(()=>null);function wn(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0;Le(i,"listener"),d(e,"event");const r=()=>{n()&&(t.removeEventListener(e,r),i())};return t.addEventListener(e,r),r}async function Sn(t){return new Promise((e=>{setTimeout(e,t)}))}function kn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=Math.pow(10,e);return Math.round(t*i)/i}class Rn{constructor(t,e){this.target=t,this.options=e}getTarget(){return this.target}hasNativeSupport(){return!1}createObserver(){throw new Error("Not implemented!")}createInterval(t){return setInterval(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}subscribe(t){let e;if(Le(t,"callback"),this.hasNativeSupport())e=this.createObserver(t);else{e=function(t){return{disconnect(){clearInterval(t)}}}(this.createInterval(t))}return i=e,{unsubscribe(){i.disconnect()}};var i}subscribeOnce(t){Le(t,"callback");const e=this.subscribe((()=>{e.unsubscribe(),t()}));return e}}const Mn="attributes";class Pn extends Rn{hasNativeSupport(){return!0}createObserver(t){const e=this.getTarget(),i=new MutationObserver((e=>{e.some((e=>{let{attributeName:i,oldValue:n,type:r,target:s}=e;return r===Mn&&n!==s[i]&&(t(),!0)}))}));return i.observe(e,{attributes:!0,childList:!1,subtree:!1,attributeFilter:["src"],attributeOldValue:!0}),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Pn(...e)}}const Dn=k(3,((t,e,i)=>{if(R(i))return i.reduce(t,e);if(P(i))return Object.entries(i).reduce(((e,i)=>{let[n,r]=i;return t(e,r,n)}),e);throw new Error(`Cannot apply reduce to ${i}`)})),Ln="UIPlayClicked",Nn="UISkipClicked",On="UIVolumeChanged",Vn={FLASH:/\/x-shockwave-flash/i,IMAGE:/^image\/(gif|jpeg|jpg|png)$/i,HTTPS:/^https:?\/\//i,VPAID:/vpaid/i,JS:/javascript/i},Fn={ADFORM:"https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js"},xn="https://vast.adsafeprotected.com/vast?anId=925802",Un="videoplaza.tv",Bn=20,zn=10,Wn="Reached maximum number of requests allowed (5000)",Hn="sm-skip-cross",Gn=k(2,((t,e)=>Dn(((e,i,n)=>({...e,[t(n)]:i})),{},e))),jn=k(3,((t,e,i)=>i.replace(t,e))),Zn="sm-visible",$n=t=>{ci(t,"add",Zn)},Yn=t=>{ci(t,"remove",Zn)};class qn extends Ve{constructor(t){let{$adContainer:e,$videoSlot:i}=t;super(),this.$videoSlot=i,this.$adContainer=e,this.device=this.$adContainer.getAttribute("data-device"),mt("ui-styles","\n@import url('https://fonts.googleapis.com/css?family=Lato');\n\n.sm-ui-container {\n    position: relative;\n    overflow: hidden;\n    min-height: 0;\n    height: 100%;\n    width: 100%;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    outline: none;\n    cursor: pointer;\n}\n\n.sm-ui-container .sm-media {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 3;\n    display: none;\n}\n.sm-ui-container .sm-media.sm-visible {\n    display: block;\n}\n\n.sm-ui-container .sm-media .sm-video {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: auto;\n    background-color: #000;\n    object-fit: contain;\n    visibility: hidden;\n}\n.sm-ui-container .sm-controls {\n    float: none;\n    cursor: pointer;\n    display: none;\n    z-index: 8;\n    position: absolute;\n    background-size: contain;\n    background-repeat: no-repeat;\n    box-sizing: border-box;\n}\n.sm-ad-container.sm-moving .sm-ui-container .sm-controls {\n    visibility: hidden;\n}\n.sm-ui-container .sm-controls.sm-visible {\n    display: block;\n}\n.sm-ui-container .sm-controls.sm-play {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAABCFBMVEUAAAD///////4AAAD+/v4yMjIAAAAAAAAAAAAAAAAAAAD5+fnw8PD+/fz9/fxoaGhbW1v7+/re3t7Q0NC8vLz8/Pz8+/v39/fy8vLt7e3s7Ozk5OTb29vJycmnp6eXl5d8fHxKSkoWFhb19fXh4eHW1tbAwMC6urqtra2fn5+MjIz4+Pj39/f19fXx8fHp6eno6Ojb29vU1NSvr6/0mDH//v7///7//////fz1oUL++PH97t73sGH0mzb96tX2pk31nTv//Pj+9u36zJj5w4X4vHn2q1X++vT+8eP848X73bv60aL5yZL3tWr1pEn+9Oj84cP727b72bL61Kn3uHD2rVr85sz85MlUJu7kAAAANHRSTlMm/f0A/C4kIRMKAuG9+PM6NumSe2bt7NTHuLKejnNXTEEyKdSZhGpjWlFH29XPwqynjYJcGlQq3QAAAipJREFUaN7t2mdu20AQhuHhiqpUtVpiy3Isl8ROT7apU122inty/5tk/WuQA3wEEvC9wANQs1pRGEokErlMmlClMzknOCWbImSp7KuSJXTZBOVShC6VowzBc0aa4DkjLi4uLu4fK5+nCDImXyJ4nhGfTwidp3qiXiNQrOympnhMmFiRy74SR6cEiRU5/q1EPkkcQnFtlHeGmgFWhrOJCN4Th1Bcz2vj8wygFLmc6sI5zwBIkfsbJd7yDIAUGT5Zr3lNLoTCzaz42CYOo8jnO+1XicCKHExNsZVEK7L7OgNllMLMgxXNEkrhtlYHH+CKXPREsQpX5KBvxAVckd2R8g9LKIWZWyW+lNGKHG5XptFGKdzc6splB6bwDCj/AK7I8UiLr2W0IoduBvLv0IoMNyvdOEEp3MLNQA2uyN1aFQ46aEUu3QwcwRX50jMBWhnOe+6RgZXwUZmgRiCFz794UwKfytnEPa0kQZX9vfL4bgYpu74Wh0mCKuHGisYPRiDKeKTE2RX4Flvc8YFHKd1HKyrHHazysnaH5JoIovBXivYv0L+Tb60IaoRVBlPt8yWMUcJZj1+TUMr4RolmmwiqLFa68K1EHEDpPk108ZI4hLL85Q4Jf+wYZW518bxMHEDZP0xMHf1vz2D094sxRNlaXf9+ShxAGd9bL/hJkFjpK753UXlGVKpohHzz6YrgtVoUFxcXF/e/FMluTzR7StHsXEWyPxbRLlw0e31/AII+8glq6EtVAAAAAElFTkSuQmCC');\n    transform: translateX(-50%);\n    z-index: 9;\n    left: 50%;\n    bottom: 1%;\n    height: 11%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 45px;\n    max-height: 45px;\n\n}\n.sm-ui-container .sm-controls.sm-skip {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAABlCAMAAAAGY+3HAAAAWlBMVEUAAADf39/9/f2cnJytra1NTU36+vqoqKgAAAD4+Pj09PTr6+v5+fnOzs5/f3+ysrKjo6P8/Pz7+/vv7+/BwcH+/v7m5ubY2Nh2dnYAAAAAAAAAAABOTk7///9dlaOYAAAAHXRSTlMmk/NPWTTlVwDZya7heUFcUu3nvGr6oYU+IhMKNDuKZ8kAAAO3SURBVHja7ZzrjqsgEIAHEF1vaNVetlve/zWPlVqkI243h81pOfP9aBpsjF9mGAabAB8j50+Ihs/z1WjU+oLI+Bq14rMavUYtiJAPOEOEnCGianEnTimCIAiCIAiCIAiCIAjCIOsy1Vd4wRREgmRcLygaWMLGIQYWdOlFEal+4BCBluAaUb69lrxNqrJuRtgtcuzdtdik0Uu4UZvgqXd49g34ZAWW2qThe2s1c2ws5TQkX0wrYcn2NZyDuVtDJq3hxbTYvspgnazaszWtAhymssFeTCupNM/Wrbiukie0ir/QqnM9wvsaQpNxnWdr47nxxVpcAgZr2ZnHxfKS/SpyPZMOEBj8/H7bwda9bS1shbUER71KQHC2+XPzYp6kV99oYSusdbBWv+RV6S5xrTq9XkmYNpTD91oyt1ZYy1DUTTOUeqKBUFiLXbb03BlPzMVMBzPPlU8LWXm0+AATavppCqFJdrpqYaat9A5b3UNgyZnwaWErrMWFe9dfqIeV3gswiL3NQIzs9ZL0qLAWtsJabtZJbpqy0LT7uW4ko2ELGzSFdmASP7uxyiVsaJVo0kJ4xJh57dVvzEcB26hD6kQMZZq12tAanFs64Qs7v3bJ7fN7xNFOMlQXBJ9sJWxq4b3BEUJj4pTWqYnZM6i6v3s5HXzPzajY0sI9mLkanuSaWmnyo3dQ6cO+n2lL/hpaUP+8ysrSKFwetPjUOLyEluB6b+fJs5hMHFyt0hSN5gW0kk7zmqP+Au9LXKTzlobNOSlM1fjnWqLTnTCfW1q4xylMvj2uSEcz7NVKcSWsITjZFCcTs8w/90Yk1nKj1S/GG3+BV+jdgYDQtNU8qwRf9ocr7y3qTS37XXGbhkjrcZU6oPiF2nNltj/0xStdyUKJSsasaNMQa7nGoLj9adAViy86eI5WL6cgHN0xVOCZE8fBp6XLh32BCm+VOvut1ON14SgNBV6OmRMDLn1auriJiNy1DNYNpsmDp6czPGpjoe4DRlQhLVtjeq+W5uXQNHWpbU6Go81HB2yar9aNQhvwfwtYa16rh1Utrh24CGy113mCI5ijXdc8CzAl+LTknIZYi5WezU2wfXHr2VdmvibQhYFXC4Y5DbHWsi0+BM7AU6er1reSdacndseFAKz1kIb1qhaokk93OCoIzGnfed/Bd9xoIdSx/5v/xLF8eE6nH13CvKbWM5AWaUF0kNY7QVrvRKRaBEEQBEEQBEEQBEEQ/w1RHmD1GesZapGeeBfr+YTxeX19fER69ucfzEOOkuTWtYUAAAAASUVORK5CYII=');\n    top: 2%;\n    left: 0.7%;\n    width: 16%;\n    height: 10%;\n    min-width: 56px;\n    min-height: 26px;\n    max-width: 85px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-skip-cross {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF5GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDUgNzkuMTY0NTkwLCAyMDIwLzEyLzA5LTExOjU3OjQ0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRvdCBHYWluIDE1JSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YmJjYzRiNC0yNjVmLTRjODItYmI1Yy1mOWM3MTM2NGU0NmIiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMTI6MjY6MzIrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9bcmgAAACdSURBVDiN7ZNLEoMgEERfUzmZ4KUjHE06C81GUPPZpFLOcmoezXSDzPsVPmAu6Cvotm0kZ0Yt6QkDwXfQoZKVmGxgBRukfz0likWggieitgMNVDBBickVnBnVnttRKswEJeRCFNRXIBAzXhdxZ2THcrlQlSj21oVdyJkokEZK5++o7S1JgTEg53PLB2eGFQmAFJ+RHSmd14+/8n+EHjIPOOda016cAAAAAElFTkSuQmCC');\n    top: 10px;\n    left: inherit;\n    right: 10px;\n    width: 20px;\n    height: 20px;\n    min-width: 20px;\n    min-height: 20px;\n}\n.sm-ui-container .sm-controls.sm-label {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAPFBMVEUAAADf398AAACysrL9/f35+fnr6+v39/fNzc1/f39NTU3BwcH09PTl5eWcnJzY2Njv7+8AAAAAAAD///+0QK99AAAAE3RSTlMmkwBc8uWu13hBNGrJoU+FvBMKsepXMwAAAd9JREFUaN7tmuuOwiAQRkGgFEpbdd7/XZdLKlBaV1BMdjPnj5eaHKYfHTCBXCw30o+bE1jLnfTlbi39JFFjLaQ71nEj3bEOBEEQBEEQBPlvMOpg5AWopdEiwSHJC4ClTbJAYOlqGSAwdLVwCPCelhEsvp6xo8W4MnxBpp9F+VJCOKqbZfbTK0y0uZtFAICIr6dP7bq8YZl8DVtNEynQM4eAYc2Wq89jy+dazkAOkbXRomJvkUf5j5BB2yyrH2L6NmMCDzfGRFVb9qBiWSLPhPtSWbx3TRbmw0gjYsUsHx5O2Wh5NJbYavalmOSzaLJocOjs/uhd9KyIqa1RFpWln2UZY9MiOeVDlfllWrajlkWS71eaJWtarCy+JXtJI7624YmFNVg4HME/axnhmPGjFnNiMZ+0KHDQHHCoxDK9aZmPtnoyXTJlsXzSaovYMiiyEskcFOUgqhdJ0Ic9Z0p+woqbXL1IXp9/zV0xer+hrs5+OilRJTHITaMH8NQukvzsUV3T7PgY/AICtdkPZ21H7P4OGGO4F9ZZGDjY8ytlf5gqLHHEv1e5iKz3VFk0nG9Y53yKa7p5zELqLIo61IvX2PrYwVILQRAEQRAEQZC/z3fOKV1If75zfuxLZ+G+c67vB3fdN7CN6+nmAAAAAElFTkSuQmCC');\n    top: 2%;\n    right: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 25px;\n    min-height: 25px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-volume {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAvVBMVEUAAAD9/f38/Pz+/v7s7OwaGhr+/v739/cAAAD39/f9/f0wMDD8/Pz9/f37+/vNzc3Q0ND7+/vV1dX8/Pz5+fnw8PC9vb3Ly8uMjIxnZ2ff39/4+Pju7u7S0tL5+fnCwsL39/f19fXy8vLz8/NVVVVFRUX////v7+/Y2Njr6+usrKybm5t9fX0AAAAAAAAAAAD8/Pz19fXx8fHIyMg7Ozvn5+dycnLp6enb29u3t7elpaXi4uKxsbGXl5fk5ORvx7c5AAAAP3RSTlMm9uz4sir61gDY8i7t9Od4e+mC8eS+ZnRGOZPctn7ga9rTxso1Mf27hq1YTkAhEwrvzcFxL6I9p4thU5pcS5yLjhx7AAAEGElEQVRo3u2aaXPaMBCGtV5LrmXZxhcYbMx9kzaQkLPt//9ZNR3S8dE41MiZ6QzvJ5gxPKxWu6zeEfmS6usNaUo3X4+AlPKNNKtvKaUMkY9JKaRxpYyvpHGljBvSuFLGVVddddVV0kUHgzZpWtR1vNHpdWi/Hnr9dZdKp3S0+Vw5vW5PFM49YWnxcmNIZBh9Hedz7w9FcG4Cgun5C/tBGqWlITL2FkvYf1yMR77jpSRTGT115eTEHiLqAEo+vo0b6w5HFCN3KgFyjETvKCmlqO4gTkyGlrq+eCfYGqDukhOlqBfVB+TacnZZ4t0hotYy3qMQ2l44iP6qe1kkiHqLkAylqG5PA+aswvqRtHTEoWvkKGWtJx5T4vCSxGsdQj6gkE0smIi3Nbewjqi79GMKCVXBnMN93eXSbErOoJBt7LGkX7Pi9fSDZ1FIOAYcrf85EvsYSd84l0IGQ8bj6i7Q7qkFBT6ibhNSooRqZEWT3rqYBNpTmNWqpAQCoSBEzaV/owQcATw/aBUKcboHGFe2aJ/NixQ+6pwgxVgS4XFAcPYDI78gCTpuFUVBUAvqtclR5bzQWdg+7BwTQevRXCpVDpNSpyl/x/lPTAcLC5n/mkv3s4/OnURKqpmtAUty0RgBmLFEyumvGXA4yPVWgclWMoWsdwj7bCK6EXq2bAqxfSZ6uYoAUKVT7leAo2wwS46adApZW0xkd9XmllmGdAoJTDO7RIbDxEY+peXhMLuZI/Q68imhgk62MifAe/Ip1MfcEgXAH+VTSAS3z5m3MZirBigJeFnKohEKtfD2R27FzAZWLBTozBrPfssDPZ8m70465X5h8mxVzhwUP6RT2j5a2d/+0kSHmcUmjLPd8qmBbkmXTn6eoAGYK9mUtoYQZEN5SKraGFEYlEaYjyj0eQJMH+R2nMBoWzWPsepxrEyZLnXAaJl96H4PXK2eLatGyzLF6IwVxKhHiztu8C9zcpCcxuQyhXZf7JWmIOOjp2mueGITJtNaI3+ZshwJjyNDK/5emPp9dPo1jy9ligUA3AruCuX3cJzGu3WOYnqHlij9caIHTy+0+PxPwfxOPWdEc+mZFXUXMa7O6phiv72R8yg/xoC7F1JDtPP7kGycQQkDziKb1FP/ZF18fBJPm/FPo7Z5cbJhqinfF4Ip6sOlllI15XnHmbXaXm6P0fcpD68RMuewlWD1ueIdCr3bK4jJYSrDttT43ynrhXVsaO69FAsWGZYpXXtvAQP/cSPJTsb5XBTc0eViqJiIyq4zk2WN6/O59WYf9R+D3dAS3AQwnZ1bn1HuApE1fiuOsTBNQATzNlEHMyJT7Xb7D0Xh3q2wNLUVUtKUtvbr4WkQGuSqq6666qr/6t7NzSfdU/pCmtfn3B/7pLtwn3Ov7xeYwU213Se1GAAAAABJRU5ErkJggg==');\n    right: 1.5%;\n    bottom: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container.sm-volume-off .sm-controls.sm-volume {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAXVBMVEUAAAD8/Pz+/v7+/v6KioqFhYX7+/vu7u5/f3/r6+sAAADv7+/s7Oz////p6enw8PDx8fH9/f10dHT39/fs7OwAAAAAAAAAAAAAAAC8vLz5+fn09PTt7e3o6Oi8vLw06Bc/AAAAH3RSTlMm7vz4RUTqtkGsALqx/qi9wfE+2bAkIRMKZeDNsqVm/TFS9QAAAgJJREFUaN7tmttu4jAURbft40tKEgIJ12n7/585ONLoTIG0qsiOFMnrkZcl42PvDTLebpyOYHE8ZcHNcj6AyeGcLWewOd8sB7A5vOEEPiccweeIQqFQKKwU6boINim65goyEk3T7MBlXwVLt6TO2OCcARNfGWuqHdciMVjT7Q3VItHYUCVQLak21kQPqsVvskRAtaS88bWAZdGVbBKoFhnyCHtQLVKHcSVUi2yMDYMH1ZLaMG78c4tcLoJf89GbO3bOho1gwnL501f+eUTEdtLS28beE1rBpKV3ZvtEI21w02lnGnu/lmtMmLRIPkitf9zLYMM3FmswiVoUvzX2YTVSGxva9LpFNW0+TPLloyGPvmAei64mRIFufB79WjCrBb4K+br+EnaDYFaLRo+uxGw8ZrZojP7beJONM1u0EkgOO13JrBatNzGNEVEnkCxjVTPbUSJgWHQEnNOI4FiQOtc0Lnqs3/L/N7bu3b+f5PWeymc3zDpvy6mbf30p9kIis9tFY78rSq83JW19j6Vv5tb30U8V2Ncb7M9lfMoin59C+GGhFsKPpK0nWyCDzhHLomeCatHzTbXoXUW16L1LtWiGUC2ah1SLZjvToj1lR7Ro53KWZ9ER4P/TixQD06LZ6OwVdPbv7y0KhUKhsG4WeduzzDulRd5cLfN+bKG3cMu86/sLjm0XKsolsPgAAAAASUVORK5CYII=');\n}\n.sm-ui-container .sm-controls.sm-counter {\n    border-radius: 100%;\n    z-index: 5;\n    bottom: 1%;\n    left: 2%;\n    width: 10%;\n    height: auto;\n    min-width: 32px;\n    min-height: 32px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-counter .sm-counter-number {\n    font-family: 'Lato', sans-serif;\n    font-size: 10px;\n    fill: #ffffff;\n}\n"),this.$uiContainer=null,this.$mediaLayer=null,this.$video=null,this.controlElems={},this.isMuted=null,this.videoSlotSubscription=null,this.createUIElements()}getSlot(){return this.$mediaLayer}getVideoSlot(){return K(t=this.$videoSlot)&&"VIDEO"===t.nodeName?this.$videoSlot:this.$video;var t}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setVideoSettings(t),this.createVideoControls(),this.isMuted&&ci(this.$uiContainer,"add","sm-volume-off"),pt(this.$uiContainer,[this.$mediaLayer,...Object.values(this.controlElems)]),pt(this.$adContainer,this.$uiContainer),this.$counterNumber=this.$adContainer.querySelector(".sm-counter-number")}setVideoSettings(t){let{muted:e,autoplay:i}=t;this.isMuted=e,this.$video.muted=this.isMuted,this.$video.autoplay=i}createUIElements(){this.$uiContainer=ut({name:"ui-container"});this.$video=ut({type:"video",name:"video",attributes:{width:"100%",playsinline:"","webkit-playsinline":""}}),this.videoSlotSubscription=Pn.createObservable(this.$video).subscribe((()=>{const t=this.$video.getAttribute("src");if(t){var e,i;if(t===(null===(e=window)||void 0===e||null===(i=e.location)||void 0===i?void 0:i.href))return;this.displayVideo()}else this.hideVideo()}));const t={name:"media",children:[this.$video]};this.$mediaLayer=ut(t)}createVideoControls(){const t={class:"sm-controls"},e={name:"play",attributes:t,events:{click:()=>{this.hidePlayControl(),this.emit(Ln)}}};this.controlElems.$play=ut(e);const i={name:"skip",attributes:t,events:{click:()=>this.emit(Nn)}};this.controlElems.$skip=ut(i);const n={name:"label",attributes:t};this.controlElems.$label=ut(n);const r={name:"volume",attributes:t,events:{click:()=>this.onVolumeChange()}};this.controlElems.$volume=ut(r);const s={name:"counter",attributes:t,content:'\n  <svg viewport="0 0 100 100" viewBox="0 0 34 34">\n    <defs>\n      <linearGradient id="gradient_bg" x1="0%" x2="100%" y1="100%" y2="0%">\n        <stop offset="0%" stop-color="#333" stop-opacity="0.3"></stop>\n        <stop offset="100%" stop-color="#333" stop-opacity="0"></stop>\n      </linearGradient>\n    </defs>\n    <circle r="12" cx="17" cy="17" stroke="url(#gradient_bg)" fill="#333" fill-opacity="0.2"></circle>\n    <circle r="12" cx="17" cy="17" stroke="#F49831" fill-opacity="0"></circle>\n    <text class="sm-counter-number" style="" text-anchor="middle" y="21" x="17"> </text>\n  </svg>'};this.controlElems.$counter=ut(s)}onStateChange(t,e){return ci(this.$uiContainer,t?"remove":"add",e),!t}onVolumeChange(){this.isMuted=this.onStateChange(this.isMuted,"sm-volume-off"),this.$video.muted=this.isMuted,this.emit(On,{muted:this.isMuted})}updateVideoPlayer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={...Gn(jn("$",""),this.controlElems),videoPlayer:this.$video},i=e=>{const i={enable:!0,disable:!1};return n=>{var r;return t[n]===i[e]||(null===(r=t[n])||void 0===r?void 0:r.enabled)===i[e]}};x(e,((e,n)=>{var r,s,o,a;(i("disable")(n)?it(e,{display:"none"}):i("enable")(n)&&(t=>{t.style.removeProperty("display")})(e),null!==(r=t[n])&&void 0!==r&&r.style)&&it(e,null===(o=t[n])||void 0===o?void 0:o.style);null!==(s=t[n])&&void 0!==s&&s.class&&ci(e,"add",null===(a=t[n])||void 0===a?void 0:a.class)}))}resetVideoPlayer(t){this.$video.removeAttribute("style"),x(this.controlElems,(t=>{t.removeAttribute("style")})),ci(this.controlElems.$skip,"remove",Hn),t&&this.updateVideoPlayer(t)}displayVideo(){it(this.$video,{visibility:"visible"})}resetVideoSource(){this.$video.setAttribute("src","")}displayInitialControls(){const t=["$play","$skip"];x(this.controlElems,((e,i)=>{t.includes(i)||$n(e)}))}hideControls(){x(this.controlElems,(t=>{Yn(t)}))}displaySkipControl(){$n(this.controlElems.$skip)}hideSkipControl(){Yn(this.controlElems.$skip)}hideVideo(){it(this.$video,{visibility:"hidden"})}displayPlayControl(){$n(this.controlElems.$play)}hidePlayControl(){Yn(this.controlElems.$play)}displayMediaLayer(){$n(this.$mediaLayer)}hideMediaLayer(){Yn(this.$mediaLayer)}updateRemainingTime(t){if(t<=0)return clearTimeout(this.counterLastSecondTimeout),Yn(this.controlElems.$counter),void(this.$counterNumber.textContent="");Number(this.$counterNumber.textContent)!==t&&(this.$counterNumber.textContent=tt(t)?t:0,1===t&&(this.counterLastSecondTimeout=setTimeout((()=>{this.updateRemainingTime(0)}),1e3)))}destroy(){var t,e;clearTimeout(this.counterLastSecondTimeout),null===(t=(e=this.videoSlotSubscription).unsubscribe)||void 0===t||t.call(e),this.$adContainer=null,this.$uiContainer=null,this.$mediaLayer=null,this.$video=null,this.controlElems=null,this.$counterNumber=null}static create(t){return new qn(t)}}const _n={playerUIFactory:t=>qn.create(t)};class Qn{constructor(){this.trackers=[]}add(t){let{event:e,url:i}=t;this.trackers.push({event:e,url:i})}concat(t){if(!(t instanceof Qn))throw new Error("trackingEvents argument value must be an instance of TrackingEvents");this.trackers=[...this.trackers,...t.trackers]}getTrackersFor(t){return d(t,"event"),this.trackers.filter((e=>t===e.event))}async fire(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>t;C.info(`Firing tracking for ${t} VAST event`);const i=this.getTrackersFor(t);if(i.length>0){const t=t=>n(URL)?new URL(t).pathname.includes(".js"):t.includes(".js"),r=N((i=>{let{url:n}=i;return S(t(n)?Et:yt,e)(n)}),i);return Promise.all(r)}return[]}static create(){return new Qn}}const Xn=()=>Qn.create(),Kn={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",204:"Ad category was required but not provided.",300:"General Wrapper error.",301:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element. (URI was either unavailable or reached a timeout as defined by the video player.)",302:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response.",303:"No Ads VAST response after one or more Wrappers.",304:"InLine response returned ad unit that failed to result in ad display within defined time limit.",400:"General Linear error. Video player is unable to display the Linear Ad.",401:"File not found. Unable to find Linear/MediaFile from URI.",402:"Timeout of MediaFile URI.",403:"Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element.",405:"Problem displaying MediaFile. Video player found a MediaFile with supported type but couldn't display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc.",406:"Mezzanine was required but not provided. Ad not served.",407:"Mezzanine is in the process of being downloaded for the first time. Download may take several hours. Ad will not be served until mezzanine is downloaded and transcoded.",408:"Conditional ad rejected.",409:"Interactive unit in the InteractiveCreativeFile node was not executed.",410:"Verification unit in the Verification node was not executed.",411:"Mezzanine was provided as required, but file did not meet required specification. Ad not served.",500:"General NonLinearAds error.",501:"Unable to display NonLinearAd Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large).",502:"Unable to fetch NonLinearAds/NonLinearAd resource.",503:"Couldn't find NonLinearAd resource with supported type.",600:"General CompanionAds error.",601:"Unable to display CompanionAd because creative dimensions do not fit within CompanionAd display area (i.e., no available space).",602:"Unable to display Required CompanionAd.",603:"Unable to fetch CompanionAds/CompanionAd resource.",604:"Couldn't find CompanionAd resource with supported type.",900:"Undefined Error.",901:"General VPAID error."};class Jn{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=>{if(j(t)||j(Kn[t]))throw new Error(`Invalid vast error code: ${t}`)})(t),this.code=t,this.data=e,this.message=Kn[this.code]}toString(){return`[${this.code}] ${this.message}`}}const tr=C.wrapWithName("VIDEOPLAZA MANAGER"),er=t=>{if(a(t)){const e=t.indexOf("&amp;")>-1?t.replace(/&amp;/g,"&"):t;return e.indexOf("videoplaza")>-1&&e.indexOf("s=")>-1?e.replace(/%2F/g,"/"):e}return null},ir=t=>{let{event:e,fromList:i,adTrackingEvents:n}=t;i.length>0&&x(i,(t=>{const i=er((null==t?void 0:t.value)||t);a(i)&&n.add({event:e,url:i})}))},nr=t=>{const e=Xn(),i=[];let n=[],r=[],s={};const{error:o,impression:d,creatives:l}=t;if(kt(o)){x(R(o)?o:[o],(t=>{const n=er((null==t?void 0:t.value)||t);n.includes(Un)?i.push(n):e.add({event:Yi,url:n})}))}if(kt(d)){const t=R(d)?d:[d];ir({event:Zi,fromList:t,adTrackingEvents:e})}if(kt(l)){const{creative:t=[]}=l,{linear:i}=t.shift();if(kt(i)){const{trackingEvents:t={},videoClicks:o={}}=i;({mediaFiles:n,adParameters:r}=i),((t,e)=>{t.tracking.length>0&&x(t.tracking,(t=>{let{event:i,value:n}=t;const r=er(n);a(r)&&e.add({event:i,url:r})}))})(t,e);const{clickTracking:d=[],customClick:l=[]}=o;({clickThrough:s}=o),ir({event:$i,fromList:[...N((t=>{let{value:e}=t;return e}),d),...N((t=>{let{value:e}=t;return e}),l)],adTrackingEvents:e});const c=new RegExp(`\\be=${Bn}\\b`,"g");ir({event:un,fromList:d.filter((t=>{let{value:e}=t;return e.includes(Un)&&!!e.match(c)})).map((t=>{let{value:e}=t;return e.replace(c,`e=${zn}`)})),adTrackingEvents:e})}}return{adTrackingEvents:e,videoplazaErrors:i,mediaFiles:n,adParameters:r,clickThrough:s}},rr=(t,e)=>{const i=JSON.parse(t),{slot:n=[]}=i.insertionPoint.shift(),{vast:r}=n.shift(),{inLine:s}=r.ad.shift(),{linear:o}=s.creatives.creative.shift(),{value:d}=o.adParameters,l=JSON.parse(d),{ad:c}=l;return tr.info(c),((t,e)=>{let{isSunmedia:i,trafficType:n}=e;const r=[];let s=[];return x(t,(t=>{const{wrapper:e,inLine:o}=t;if(j(o)&&j(e))throw new Jn(101);let d,l=!1;if(kt(e))l=!0,d=e;else{d=o;const{creatives:t,impression:e}=d;!t&&e&&(d.error=e,delete d.impression)}const{adTrackingEvents:c,videoplazaErrors:h,clickThrough:u,mediaFiles:p,adParameters:m}=nr(d);if(s=[...s,...h],l){const{vastadTagURI:t}=d;if(a(t)){const e={url:t.replace(/&amp;/g,"&"),isSunmedia:i,trafficType:n};r.push({isWrapper:l,ad:{tag:e,trackingEvents:c}})}}else try{var A;let t=[];null!=p&&null!==(A=p.mediaFile)&&void 0!==A&&A.length&&(t=p.mediaFile.map((t=>{const e={$:{},_:null};return Object.entries(t).forEach((t=>{let[i,n]=t;"value"===i?e._=n:e.$[i]=n})),e})),r.push({isWrapper:l,ad:{mediaFile:t,parameters:m,trackingEvents:c,clickThroughUrl:(null==u?void 0:u.value)||u}}))}catch(t){C.error("Adding a videoplaza inline to the adPod",t)}})),s=ae(s),{adPod:r,podErrors:s}})(c,e)};class sr{constructor(t){let{adData:e,fromAdTag:i,adParametersData:n,vastManager:r}=t;const{adPod:s,podErrors:o}=rr(n,i);this.adPod=s,this.podErrors=o,this.vastManager=r,this.currentIndex=0,this.videoplazaTag=i,this.adData=e,this.emptyWaterfallErrorFired=!1}hasNext(){return this.currentIndex<this.adPod.length}nextAdFromPod(){try{const t=this.adPod[this.currentIndex];return this.currentIndex+=1,t}catch(t){return!1}}async loadAds(){for(;this.hasNext();){let t=null;const e=this.nextAdFromPod();try{if(e.isWrapper){const{ad:{tag:i,trackingEvents:n}}=e;tr.info("loading waterfall ads from...",i),this.vastManager.init([i]),t=await this.vastManager.loadAds(),t.adTrackingEvents.concat(n)}else{const{ad:{mediaFile:i,parameters:n,trackingEvents:r,clickThroughUrl:s}}=e;t=await this.vastManager.setLinearMediaFile({linear:{MediaFiles:[{MediaFile:i}],AdParameters:n},companionAds:[],trackingEvents:r,clickThroughUrl:s,adData:this.adData})}}catch(t){}if(t)return t.initialAdTag=this.videoplazaTag,t;e.ad.trackingEvents.fire(Yi)}return this.fireEmptyWaterfallError(),null}fireEmptyWaterfallError(){if(!this.emptyWaterfallErrorFired){this.emptyWaterfallErrorFired=!0,tr.info("FIRE WATERFALL ERRORS",this.podErrors);const t=Xn();x(this.podErrors,(e=>{t.add({event:Yi,url:e})})),t.fire(Yi)}}}function or(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{tagName:i,attributes:n=[],childNodes:r=[]}=t,s=document.createElement(i);return Array.from(n).forEach((t=>{let{name:e,value:i}=t;return s.setAttribute(e,i)})),e&&Array.from(r).forEach((t=>{const i=t.nodeType===Node.TEXT_NODE?t.cloneNode(e):or(t,e);s.appendChild(i)})),s}const ar={isVPAID:function(t){let{apiFramework:e}=t;return e&&Vn.VPAID.test(e)},isJavascript:function(t){let{type:e}=t;return Vn.JS.test(e)},isFlash:function(t){let{type:e}=t;return Vn.FLASH.test(e)},isVideoplaza:function(t){let{url:e}=t;return e.indexOf("passback_vpaid/passback_vpaid")>-1},isYoutube:function(t){let{url:e}=t;return e.indexOf("www.youtube.com")>-1},isNoVideoReminder:function(t){let{url:e}=t;return e.indexOf("https://novideoreminder.com/")>-1},isImage:function(t){return Vn.IMAGE.test(t)},isHttps:function(t){return Vn.HTTPS.test(t)}},dr=t=>"script"===(t||"").toLowerCase();function lr(t,e){let{content:i}=t;return new Promise((t=>{if(null==i)throw new Error("Missing content for resource");const s={width:"100%",height:"100%"},o=ut({type:"iframe",name:"resource-html",style:{...s},attributes:{...s,scrolling:"no",frameborder:"0"}});o.onload=async()=>{const{contentDocument:e,contentWindow:s}=o;e.body.style.margin="0 auto";const a=ut({content:decodeURIComponent(i)}),{childNodes:d}=or(a,!0),l=Array.from(d);var c;l.filter((t=>{let{nodeName:e}=t;return r(dr(e))})).forEach((t=>pt(e.body,t.cloneNode(!0)))),l.filter((t=>{let{nodeName:e,src:i}=t;return dr(e)&&i})).forEach(function(t){if(r(n(t)))throw new Error("unary argument must be a function");return e=>t(e)}((c=e.body,t=>{try{pt(c,t.cloneNode(!0))}catch(t){C.warning("loading JS node.",t)}}))),l.filter((t=>{let{nodeName:e,src:i}=t;return dr(e)&&r(i)})).forEach((t=>{let{innerHTML:e}=t;return s.eval(e)})),t(o)},pt(e,o)}))}async function cr(t){let{htmlResource:e,staticResource:i,iframeResource:n,resourceSlot:r}=t,s=null;if(null!=e?s=await lr(e,r):null!=i?s=await function(t,e){let{$:i,content:n}=t;return new Promise(((t,r)=>{const{creativeType:s}=i;if(null==n||null==s||""===s||!ar.isImage(s))throw new Error("We only support images for StaticResource");const o=ut({type:"img",name:"resource-img",style:{width:"100%",height:"100%",cursor:"pointer"},attributes:{src:n}});o.onerror=t=>{r(t)},o.onload=()=>{t(o)},pt(e,o)}))}(i,r):null!=n&&(s=await function(t,e){let{content:i}=t;return new Promise(((t,n)=>{if(null==i)throw new Error("Missing content for resource");const r={width:"100%",height:"100%"},s=ut({type:"iframe",name:"resource-iframe",style:{...r},attributes:{...r,src:i,scrolling:"no",frameborder:"0"}});s.onerror=t=>{n(t)},s.onload=()=>{t(s)},pt(e,s)}))}(n,r)),s)return s;throw new Error("Unknown type of resource")}const hr={CONCURRENT:"concurrent",ENDCARD:"end-card",DEFAULT:"default"},ur="Remember",pr="Main";class mr{constructor(t){({staticResource:this.staticResource,iframeResource:this.iframeResource,htmlResource:this.htmlResource,altText:this.altText,clickThroughUrl:this.clickThroughUrl,trackingEvents:this.trackingEvents}=t);const{width:e,height:i,id:n,adSlotId:r,pxratio:s=0,renderingMode:o=hr.DEFAULT}=t.$;this.height=parseInt(i,10),this.width=parseInt(e,10),this.id=n,this.adSlotId=r,this.pxratio=s,this.renderingMode=o,this.id!==pr&&this.id!==ur||(this.renderingMode=hr.ENDCARD),j(this.id)&&(this.id=pr),j(this.adSlotId)&&(this.adSlotId=this.id)}get isRemember(){return this.id===ur}get isEndcard(){return this.renderingMode===hr.ENDCARD}async loadAd(t){return cr({staticResource:this.staticResource,iframeResource:this.iframeResource,htmlResource:this.htmlResource,resourceSlot:t})}}const Ar={ALL:"all",ANY:"any",NONE:"none"},vr=C.wrapWithName("COMPANION ADS"),gr=(t,e)=>{x(t,(t=>{const i=window.document.getElementById(t.adSlotId);i?t.startAd(i,e):vr.warning(`missing companion container for id: ${t.adSlotId}`)}))};class fr extends Ve{constructor(t){let{required:e=Ar.NONE,companionList:i=[]}=t;super(),this.required=e,this.companions=i,this.ratio=(()=>{let t=1;return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?t=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),Math.floor(t)})(),this.endcardCompanions=[],this.alongsideCompanions=[],x(this.companions,(t=>{const e=new mr(t);e.pxratio&&1!==this.ratio&&e.pxratio!==this.ratio||(e.isEndcard?this.endcardCompanions.push(e):this.alongsideCompanions.push(e))}))}startAlongside(t){gr(this.alongsideCompanions,t)}startEndcard(t){gr(this.endcardCompanions,t)}static create(t){let{required:e,companionList:i}=t;return new fr({required:e,companionList:i})}}const br={companionAdsFactory:t=>fr.create(t)};class yr extends Ve{constructor(t){let{url:e}=t;super(),this.adMediaUrl=e,this.quartiles=null,this.firstQuartileEventFired=!1,this.midpointEventFired=!1,this.thirdQuartileEventFired=!1,this.videoCompleteEventFired=!1,this.slot=null,this.videoSlot=null,this.adLinear=!0,this.adWidth=null,this.adHeight=null,this.adExpanded=null,this.adSkippableState=null,this.adRemainingTime=null,this.adCurrentTime=0,this.adDuration=null,this.adVolume=null,this.adCompanions=null,this.adIcons=null}getAdQuartiles(){if(null==this.quartiles){const t=Math.round(this.adDuration/4);this.quartiles=[t,2*t,3*t]}return this.quartiles}getAdLinear(){return this.adLinear}getAdWidth(){return this.adWidth}getAdHeight(){return this.adHeight}getAdExpanded(){return this.adExpanded}getAdSkippableState(){return this.adSkippableState}getAdRemainingTime(){return this.adRemainingTime=this.adDuration-this.adCurrentTime,this.adRemainingTime}getAdCurrentTime(){return this.adCurrentTime}getAdDuration(){return this.adDuration}getAdCompanions(){return this.adCompanions}getAdIcons(){return this.adIcons}getAdVolume(){return this.adVolume}setAdVolume(t){this.adVolume!==t&&(this.adVolume=t,this.emit(Mi))}handshakeVersion(){this.emit(Gi,{method:"handshakeVersion",crea:this})}initAd(t,e,i,n,r,s){const{slot:o,videoSlot:a}=s;this.slot=o,this.videoSlot=a,this.emit(yi)}startAd(){this.emit(Ei)}stopAd(){this.emit(Ci)}resizeAd(t,e,i){this.emit(Gi,{method:"resizeAd",args:[t,e,i],crea:this})}pauseAd(){this.emit(Wi)}resumeAd(){this.emit(Hi)}expandAd(){this.emit(Gi,{method:"expandAd",crea:this})}collapseAd(){this.emit(Gi,{method:"collapseAd",crea:this})}skipAd(){this.emit(Ii)}subscribe(t,e,i){this.on(e,t.bind(i))}unsubscribe(t,e){this.off(e,t)}emitAdVideoComplete(){this.videoCompleteEventFired=!0,this.emit(Vi)}tick(t){if(t>0&&this.adDuration>0&&t<=this.adDuration){const e=Math.round(t);e>this.adCurrentTime&&(this.adCurrentTime=e);const[i,n,r]=this.getAdQuartiles();this.adCurrentTime>=i&&!this.firstQuartileEventFired?(this.firstQuartileEventFired=!0,this.emit(Li)):this.adCurrentTime>=n&&!this.midpointEventFired?(this.midpointEventFired=!0,this.emit(Ni)):this.adCurrentTime>=r&&!this.thirdQuartileEventFired?(this.thirdQuartileEventFired=!0,this.emit(Oi)):this.adCurrentTime>=this.adDuration&&!this.videoCompleteEventFired&&this.emitAdVideoComplete()}}}class Er extends yr{initAd(){this.emit(ui,{provider:u.PROVIDER,type:u.TYPES.NO_VIDEO_REMINDER}),this.emit(yi)}startAd(){this.emit(Ei),this.emit(Pi),this.emit(Di),this.emit(Ci)}}function Cr(t,e,i){return new Promise((n=>{pt(e,t),wn(t,"load",(()=>n(t.contentWindow))),t.contentWindow.document.open().write(i),t.contentWindow.document.close()}))}async function Ir(t){let{args:e=[],attempts:i=5,delay:n=500}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await t(...e)}catch(r){if(i-1)return await Sn(n),Ir(t,{args:e,attempts:i-1,delay:n});throw new Error(`Max attempts reached. ${r}`)}}function Tr(t){return new Promise(((e,i)=>{const{getIMASdk:r}=t.contentWindow;n(r)?e(r):i()}))}async function wr(){const t=`${g}-ima-iframe`;let e=document.getElementById(t);if(r(e)){const i='\n      <!doctype html>\n      <html style="height:100%;">\n      <head>\n        <meta charset=utf-8></meta>\n        <meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport>\n      </head>\n      <body style="margin:0px;height:100%;">\n        <script>var inDapIF = true;<\/script>\n        <script async \n          src="//imasdk.googleapis.com/js/sdkloader/ima3.js" \n          onload="(function(e){ window.getIMASdk = () => google.ima;})(this)"><\/script>\n      </body>\n      </html>';e=function(t){return ut({id:t,prefix:null,type:"iframe",style:{position:"absolute",left:"0",bottom:"0",width:"0",height:"0",border:"0"},attributes:{scrolling:"no",title:"ima-iframe"}})}(t),await Cr(e,document.body,i)}return(await Ir(Tr,{args:[e],attemps:5,delay:200}))()}function Sr(t){return t?wr():new Promise(((t,e)=>{const i=`${g}-imasdk`;if(document.getElementById(i))return void t(google.ima);const n=ut({id:i,prefix:null,type:"script",attributes:{type:"text/javascript",src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",async:!0},events:{load:()=>t(google.ima),error:e}});pt(document.body,n)}))}const kr=(t=>{const e=N((t=>e=>(null==e?void 0:e.includes(t))||(null==e?void 0:e.includes(G.encode(t)))),t);return t=>e.some((e=>e(t)))})(["https://ad.doubleclick.net/ddm"]);class Rr extends yr{constructor(t){let{url:e,adTagUrl:i,encapsulateIMA:n}=t;super({url:e}),this.adTagUrl=i,this.encapsulateIMA=n,this.$imaAdContainer=null,this.googleIMA=null,this.adDisplayContainer=null,this.adsLoader=null,this.adsManager=null,this.onAdsManagerLoaded=this.onAdsManagerLoaded.bind(this),this.onAdLoaded=this.onAdLoaded.bind(this),this.onAdProgress=this.onAdProgress.bind(this),this.onAdError=this.onAdError.bind(this)}async initAd(t,e,i,n,r,s){this.adWidth=t,this.adHeight=e,this.googleIMA=await Sr(this.encapsulateIMA),super.initAd(t,e,i,n,r,s)}async startAd(){const{AdDisplayContainer:t,AdsLoader:e,AdsManagerLoadedEvent:i,AdErrorEvent:n}=this.googleIMA;this.$imaAdContainer=ut({name:`ima-ad-container-${O()}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),pt(this.slot,this.$imaAdContainer),this.adDisplayContainer=new t(this.$imaAdContainer,this.videoSlot),this.adsLoader=new e(this.adDisplayContainer),this.adsLoader.addEventListener(i.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1),this.adsLoader.addEventListener(n.Type.AD_ERROR,this.onAdError,!1);const{AdsRequest:r}=this.googleIMA,s=new r;s.adTagUrl=this.adTagUrl,s.linearAdSlotWidth=this.adWidth,s.linearAdSlotHeight=this.adHeight,s.setAdWillAutoPlay(!0),s.setAdWillPlayMuted(!0),this.adsLoader.requestAds(s)}onAdsManagerLoaded(t){const{AdsRenderingSettings:e}=this.googleIMA,i=new e;this.adsManager=t.getAdsManager(this.videoSlot,i),this.adsManager.setVolume(0),this.subscribeToAdsManagerEvents(),this.playAds()}subscribeToAdsManagerEvents(){const{AdErrorEvent:t,AdEvent:e}=this.googleIMA,i={[e.Type.ALL_ADS_COMPLETED]:Ci,[e.Type.LOADED]:Ei,[e.Type.STARTED]:Di,[e.Type.IMPRESSION]:Pi,[e.Type.FIRST_QUARTILE]:Li,[e.Type.MIDPOINT]:Ni,[e.Type.THIRD_QUARTILE]:Oi,[e.Type.COMPLETE]:Vi,[e.Type.SKIPPED]:Ii,[e.Type.PAUSED]:Wi,[e.Type.RESUMED]:Hi,[e.Type.VOLUME_CHANGED]:Mi,[e.Type.VOLUME_MUTED]:Mi,[e.Type.CLICK]:Fi,[e.Type.LOG]:Gi};this.adsManager.addEventListener(t.Type.AD_ERROR,this.onAdError),this.adsManager.addEventListener(e.Type.ALL_ADS_COMPLETED,I),this.adsManager.addEventListener(e.Type.LOADED,this.onAdLoaded),this.adsManager.addEventListener(e.Type.AD_PROGRESS,this.onAdProgress),Object.entries(i).forEach((t=>{let[e,i]=t;this.adsManager.addEventListener(e,(()=>this.emit(i)))}))}onAdLoaded(t){const e=t.getAd();this.adMediaUrl=null==e?void 0:e.getMediaUrl(),this.adDuration=null==e?void 0:e.getDuration()}onAdProgress(t){const e=t.getAdData();this.adCurrentTime=null==e?void 0:e.currentTime}onAdError(t){const e=t.getError();this.destroy(),this.emit(ji,e)}playAds(){const{ViewMode:t}=this.googleIMA;try{this.adDisplayContainer.initialize(),this.adsManager.init(this.adWidth,this.adHeight,t.NORMAL),this.adsManager.start()}catch(t){this.onAdError(t)}}destroy(){try{var t;null===(t=this.adsManager)||void 0===t||t.destroy(),this.adsLoader.destroy(),this.adDisplayContainer.destroy()}catch(t){}J(this.$imaAdContainer)}getAdSkippableState(){var t;return null===(t=this.adsManager)||void 0===t?void 0:t.getAdSkippableState()}getAdRemainingTime(){var t;return null===(t=this.adsManager)||void 0===t?void 0:t.getRemainingTime()}getAdVolume(){var t;return null===(t=this.adsManager)||void 0===t?void 0:t.getVolume()}setAdVolume(t){var e;null===(e=this.adsManager)||void 0===e||e.setVolume(t)}skipAd(){var t;null===(t=this.adsManager)||void 0===t||t.skip()}stopAd(){var t;null===(t=this.adsManager)||void 0===t||t.stop()}resizeAd(t,e,i){var n;this.adWidth=t,this.adHeight=e,null===(n=this.adsManager)||void 0===n||n.resize(t,e,i)}pauseAd(){this.adsManager.pause()}resumeAd(){var t;null===(t=this.adsManager)||void 0===t||t.resume()}expandAd(){var t;null===(t=this.adsManager)||void 0===t||t.expand()}collapseAd(){var t;null===(t=this.adsManager)||void 0===t||t.collapse()}}function Mr(t){return new Promise(((e,i)=>{const{getVPAIDAd:r}=t.contentWindow;n(r)?e(r):i()}))}async function Pr(t){let{slot:e,adParameters:i,adMediaUrl:n}=t;const r=function(t){let{adMediaUrl:e,adParameters:i}=t;const n=Object.values(Fn);return![e,i].some((t=>t&&n.some((e=>t.includes(e)))))}({adMediaUrl:n,adParameters:i}),s=`\n    <!doctype html>\n    <html style="height:100%;"><head>\n      <meta charset=utf-8></meta>\n      <meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport>\n    </head><body style="margin:0px;height:100%;">\n      <script>var inDapIF = ${r};<\/script>\n      <script src="${n}"><\/script>\n    </body></html>`,o=ut({type:"iframe",name:"vpaid-iframe",style:{display:"block",position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",border:"0px"},attributes:{scrolling:"no",width:"100%",title:"vpaid-iframe"}}),a=await Cr(o,e,s);return{creative:(await Ir(Mr,{args:[o],attemps:5,delay:200}))(),vpaidSlot:a.document.body}}const Dr={ERROR:"error",DURATION_CHANGE:"durationchange",LOAD_METADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",ENDED:"ended",VOLUME_CHANGE:"volumechange",TIME_UPDATE:"timeupdate"};class Lr extends yr{constructor(t){let{url:e}=t;super({url:e}),this.adSkippableState=!0,this.onClick=this.onClick.bind(this),this.callbacks={},this.callbacks[Dr.ERROR]=this.onPlaybackError.bind(this),this.callbacks[Dr.DURATION_CHANGE]=this.onDurationChange.bind(this),this.callbacks[Dr.LOAD_METADATA]=this.onLoadedmetadataPlay.bind(this),this.callbacks[Dr.PAUSE]=this.onPause.bind(this),this.callbacks[Dr.PLAY]=this.onPlay.bind(this),this.callbacks[Dr.PLAYING]=this.onPlaying.bind(this),this.callbacks[Dr.ENDED]=this.onEnded.bind(this),this.callbacks[Dr.VOLUME_CHANGE]=this.onVolumeChange.bind(this),this.callbacks[Dr.TIME_UPDATE]=this.onTimeupdate.bind(this)}setAdVolume(t){this.adVolume!==t&&(this.videoSlot.muted=0===t,this.videoSlot.volume=t)}destroyAd(){this.slot.removeEventListener("click",this.onClick,!1),x(this.callbacks,((t,e)=>{this.videoSlot.removeEventListener(e,t)})),this.videoSlot.removeAttribute("src"),this.videoSlot.load()}initAd(t,e,i,n,r,s){const{slot:o,videoSlot:a}=s;o.addEventListener("click",this.onClick,!1),x(this.callbacks,((t,e)=>{a.addEventListener(e,t,!1)})),super.initAd(t,e,i,n,r,s)}startAd(){!0!==function(t,e){let i=t.split(".").pop();const n=i.indexOf("?");if(i=n>-1?i.substr(0,n):i,e.canPlayType)return""!==e.canPlayType(`video/${i}`);return!0}(this.adMediaUrl,this.videoSlot)?this.emit(ji,{message:"Video can not play"}):(this.videoSlot.src=this.adMediaUrl,this.videoSlot.load())}stopAd(){this.destroyAd(),super.stopAd()}skipAd(){this.destroyAd(),super.skipAd()}pauseAd(){this.videoSlot.pause()}resumeAd(){const t=this.videoSlot.play();kt(t)&&t.then((()=>{this.emit(Gi,{method:"resumeAd",message:"Automatic playback started!",crea:this})})).catch((t=>{this.emit(Gi,{method:"resumeAd",message:"Automatic playback failed!",error:t,crea:this})}))}onClick(){this.emit(Fi),this.pauseAd()}removeEventListener(t){this.videoSlot.removeEventListener(t,this.callbacks[t])}onPlaybackError(t){this.emit(ji,{DOMEvent:t}),this.stopAd()}onDurationChange(){this.removeEventListener(Dr.DURATION_CHANGE),this.adDuration=Math.round(this.videoSlot.duration)}onLoadedmetadataPlay(){this.removeEventListener(Dr.LOAD_METADATA),this.resumeAd()}onPause(){this.vastPlayerPaused||(this.vastPlayerPaused=!0,super.pauseAd())}onPlay(){this.vastPlayerPaused&&(this.vastPlayerPaused=!1,super.resumeAd())}onPlaying(){this.removeEventListener(Dr.PLAYING),super.startAd(),this.emit(Pi),this.emit(Di)}onEnded(){this.emitAdVideoComplete(),this.stopAd()}onVolumeChange(){super.setAdVolume(this.videoSlot.volume)}onTimeupdate(){const t=this.videoSlot.currentTime;this.tick(t)}}const Nr=(t,e)=>{const i=e.indexOf(t);return-1===i?i:i+t.length};class Or extends yr{constructor(t){let{url:e}=t;const i=(t=>{let e=Nr("v=",t);if(-1===e&&(e=Nr("video_id=",t),-1===e))throw new Error("Not found video ID");return t.substr(e,11)})(e);super({url:e}),this.isPaused=!1,this.adSkippableState=!0,this.youtubePlayer=null,this.youtubeId=i,this.youtubeContainerDiv=document.createElement("div"),this.youtubeContainerDiv.setAttribute("id",this.youtubeId),this.youtubeApiScript=document.createElement("script"),this.youtubeApiScript.setAttribute("src","https://www.youtube.com/iframe_api"),this.bindFn={onReady:this.onReady.bind(this),onError:this.onError.bind(this),onStateChange:this.onStateChange.bind(this)}}setAdVolume(t){this.youtubePlayer.setVolume(t),super.setAdVolume(this.youtubePlayer.getVolume())}destroyAd(){try{this.youtubePlayer.removeEventListener("onReady",this.bindFn.onReady),this.youtubePlayer.removeEventListener("onError",this.bindFn.onError),this.youtubePlayer.removeEventListener("onStateChange",this.bindFn.onStateChange),clearInterval(this.adTimerInterval),this.youtubePlayer.stopVideo(),this.youtubePlayer.destroy()}catch(t){}}initAd(t,e,i,n,r,s){const{slot:o}=s;o.appendChild(this.youtubeContainerDiv),super.initAd(t,e,i,n,r,s)}startAd(){document.head.appendChild(this.youtubeApiScript),n(window.onYouTubeIframeAPIReady)||(window.onYouTubeIframeAPIReady=()=>{this.youtubePlayer=new window.YT.Player(this.youtubeId,{playerVars:{controls:0,modestbranding:1,disablekb:0,autoplay:1,rel:0},videoId:this.youtubeId,height:"100%",width:"100%"}),this.youtubePlayer.addEventListener("onReady",this.bindFn.onReady),this.youtubePlayer.addEventListener("onError",this.bindFn.onError),this.youtubePlayer.addEventListener("onStateChange",this.bindFn.onStateChange)})}stopAd(){this.destroyAd(),super.stopAd()}skipAd(){this.destroyAd(),super.skipAd()}resizeAd(t,e){this.youtubePlayer&&this.youtubePlayer.setSize(t,e)}pauseAd(){this.isPaused||(this.isPaused=!0,this.youtubePlayer.pauseVideo())}resumeAd(){this.isPaused&&(this.isPaused=!1,this.youtubePlayer.playVideo())}onReady(t){this.adDuration=Math.round(t.target.getDuration()),this.setAdVolume(0),t.target.playVideo(),super.startAd(),this.emit(Pi),this.emit(Di)}onError(t){this.emit(ji,{event:t})}onStateChange(t){let{data:e}=t;const{YT:i}=window;switch(e){case i.PlayerState.PLAYING:this.isPaused=!1,this.adTimerInterval=setInterval((()=>this.adTimerTickCallback()),1e3),super.resumeAd();break;case i.PlayerState.PAUSED:this.isPaused||this.emit(Fi),this.isPaused=!0,clearInterval(this.adTimerInterval),super.pauseAd();break;case i.PlayerState.ENDED:this.emitAdVideoComplete(),this.stopAd();break;default:this.emit(Gi,{method:"onStateChange",data:e,crea:this})}}adTimerTickCallback(){const t=this.youtubePlayer.getCurrentTime();this.tick(t)}}const Vr=t=>{if(null!=t&&!(n((e=t).handshakeVersion)&&n(e.initAd)&&n(e.startAd)&&n(e.stopAd)&&n(e.skipAd)&&n(e.resizeAd)&&n(e.pauseAd)&&n(e.resumeAd)&&n(e.expandAd)&&n(e.collapseAd)&&n(e.subscribe)&&n(e.unsubscribe)))throw new Error("The VPAIDCreative doesn't conform to the VPAID spec");var e};class Fr{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vr(t),this._creative=t,this.vpaidSlot=e,this.adMedia=i}getAdLinear(){return this._creative.getAdLinear()}getAdWidth(){return this._creative.getAdWidth()}getAdHeight(){return this._creative.getAdHeight()}getAdExpanded(){return this._creative.getAdExpanded()}getAdSkippableState(){return!0}getAdRemainingTime(){let t=this._creative.getAdRemainingTime();return t=t!==1/0?parseInt(t,10):0,t>0&&(this.remainingTime=Math.round(t)),this.remainingTime}getAdDuration(){let t=this._creative.getAdDuration();return t=t!==1/0?parseInt(t,10):0,t>0&&(this.duration=Math.round(t)),this.duration}getAdCurrentTime(){return this.getAdDuration()-this.getAdRemainingTime()}getAdCompanions(){var t,e;return null===(t=(e=this._creative).getAdCompanions)||void 0===t?void 0:t.call(e)}getAdIcons(){return this._creative.getAdIcons()}getAdVolume(){return this._creative.getAdVolume()}setAdVolume(t){var e,i;null===(e=(i=this._creative).setAdVolume)||void 0===e||e.call(i,t)}getAdSecondsForViewable(){return this.adMedia.type&&this.adMedia.type.includes("video")?2:1}handshakeVersion(){return this._creative.handshakeVersion()}initAd(t,e,i,n,r,s){this._creative.initAd(t,e,i,n,r,s)}startAd(){this._creative.startAd()}stopAd(){this._creative.stopAd()}resizeAd(t,e,i){this._creative.resizeAd(t,e,i)}pauseAd(){this._creative.pauseAd()}resumeAd(){this._creative.resumeAd()}expandAd(){this._creative.expandAd()}collapseAd(){this._creative.collapseAd()}skipAd(){this._creative.skipAd()}subscribe(t,e,i){this._creative.subscribe(e,t,i)}unsubscribe(t,e){this._creative.unsubscribe(e,t)}adFactoryInitialize(t){try{this._creative.SMInitialize(t)}catch(t){}}static async create(t){let{adMedia:e,slot:i,adParameters:n,loadingModuleTime:r=3e4}=t,s=null,o=null;if(ar.isVPAID(e))try{if(!ar.isJavascript(e))throw ar.isFlash(e)?new Error("Flash is not supported"):new Error("Unsupported media type");({creative:s,vpaidSlot:o}=await Ht(Pr({adMediaUrl:e.url,adParameters:n,slot:i}),r))}catch(t){throw C.error("Loading VPAID",t),new Jn(101,{reason:t?t.message:""})}else s=ar.isYoutube(e)?new Or(e):new Lr(e);return new Fr(s,o,e)}}const xr={vpaidWrapperFactory:t=>Fr.create(t),imaWrapperFactory(t,e){const i=new Rr({adTagUrl:t,encapsulateIMA:e});return new Fr(i,null,{type:"video"})},reminderWrapperFactory(t){const e=new Er(t);return new Fr(e,null,t)}};function Ur(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e={},i=t.startsWith(xn);return i&&(e.ratio="16:9"),e}function Br(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=j(t._)?t:t._;if(a(i)){if(i=i.trim(),!e)return i;if(ar.isHttps(i))return i}return null}function zr(t){x(Array.from(t.children).filter((t=>"VIDEO"!==t.tagName&&r(t.dataset.deleting))),(t=>{r(t.className.includes(`${g}-vpaid-iframe`))?J(t):(it(t,{height:0,margin:0,visibility:"hidden"}),t.setAttribute("data-deleting",!0),function(t){setTimeout((()=>{J(t)}),5e3)}(t))}))}const{CATEGORY:Wr}=U;function Hr(t){let e,{adTagUrl:i,macroValues:n={}}=t,s=i;if(i.includes("spotxchange")&&r(i.includes("&ad_volume"))&&(s+="&ad_volume=0"),s=_({str:s,values:n[Wr]?{...n,[Wr]:G.encode(n[Wr])}:n}),s.includes("vast.sunmedia.tv/creatives"))try{({url:s,params:e}=function(t){const[,e,i]=t.match(/^(http|https):\/\/vast.sunmedia.tv\/creatives\/([a-zA-Z0-9_.-]+)/)||[];return r(e&&i)?{url:t}:{url:`${e}://creatives.sunmedia.tv/${i}/${i}.xml`,params:{rnd:Math.abs(Math.floor(1e9*Math.random())),...pe(t)}}}(s))}catch(t){C.error(`replacing ${s} with direct xml VAST`,t)}return{url:s,tagMacros:e}}const Gr={},jr=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];C.info("[HELPER getAdMediaFile]",...e)},Zr=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];C.warning("[HELPER getAdMediaFile]",...e)};function $r(t){const{youtubeMediaFile:e,vpaidMediaFile:i,mediaFileItems:n}=function(t){let e=[];const i=[];let n=null,r=null;try{x(t,(t=>{const s={},o=Br(t,!0);if(null===o)return;const{width:a,height:d,type:l="",codec:c="",bitrate:h="",apiFramework:u=""}=t.$;if(""===l)return;const p=o.split(".").pop().toLowerCase();if(s.url=o,s.type=l,""!==c&&(s.codec=c),s.width=a?parseInt(a,10):null,s.height=d?parseInt(d,10):null,s.apiFramework=u,ar.isVPAID(s))return jr("VPAID creative detected"),ar.isJavascript(s)?void(n=s):ar.isFlash(s)?void(r=s):void Zr("no supported vpaid",l);ar.isYoutube(s)?e=s:(s.bitrate=""===h||h<10?0:parseInt(h,10),Ye()?p.indexOf("mp4")>-1&&i.push(s):(p.indexOf("mp4")>-1||p.indexOf("ogg")>-1||p.indexOf("webm")>-1||p.indexOf("mov")>-1&&_e())&&i.push(s))}))}catch(t){t!==Gr&&Zr(t.message,t)}return{vpaidMediaFile:n||r,youtubeMediaFile:e,mediaFileItems:i}}(t);let r=null;if(null!=i)r=i;else if(n.length>0){n.sort(((t,e)=>t.bitrate-e.bitrate));const[t,e,...i]=n;r=t,je()&&kt(e)?r=e:x(n,(t=>{t.bitrate>=512&&t.bitrate<720&&t.width>400&&t.width<800&&r.bitrate<t.bitrate&&(r=t)}))}else e&&(r=e);return jr("selected mediafile",r),r}const Yr="VAST MANAGER",qr=C.wrapWithName(Yr),_r={message:"VAST/EMPTY"};let Qr=0;const Xr=t=>{let e=null;try{e={},a(t)&&(-1!==t.indexOf("SM_NOSKIP")&&(e.skip=!1),-1!==t.indexOf("SM_NOAVA")&&(e.ava=!1),-1!==t.indexOf("SM_AUDIOON")&&(e.sound=!0),-1!==t.indexOf("SM_NORESTART")&&(e.restart=!1),-1!==t.indexOf("InVPAID")&&(e.InVPAIDSunMedia=!0))}catch(t){}return e},Kr=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...Ur(t.fromTag),...Xr(t.adTitle)}},Jr=(t,e)=>parseInt(t.$.sequence,10)-parseInt(e.$.sequence,10),ts=t=>{let{event:e,node:i,trackingEvents:n,isUrl:r=!0}=t;x(i,(t=>{const i=Br(t,r);null!=i&&n.add({event:e,url:i})}))},es=t=>{let{node:e={},trackingEvents:i}=t;const{Tracking:n=[]}=e;n.length>0&&x(n,(t=>{const{event:e=""}=t.$;if(""!==e){const n=Br(t,!0);i.add({event:e,url:n})}}))},is=t=>{let{$:e={},Companion:i=[]}=t;qr.info("registerCompanions",e,i);const{required:n}=e,r=[];return x(i,(t=>{const{StaticResource:e=[],IFrameResource:i=[],HTMLResource:n=[],AltText:s=[],TrackingEvents:o=[],CompanionClickThrough:a=[],CompanionClickTracking:d=[]}=t;let l=null,c=null,h=null;if(e.length>0){const t=e.shift();l={},l.$=t.$,l.content=Br(t,!0)}if(i.length>0){const t=i.shift();c={},c.$=t.$,c.content=Br(t,!0)}if(n.length>0){const t=n.shift();h={},h.$=t.$,h.content=Br(t)}if(!(null!=l&&l.content||null!=c&&c.content||null!=h&&h.content))return;const u={$:t.$,staticResource:l,iframeResource:c,htmlResource:h};s.length>0&&(u.altText=Br(s.shift())),a.length>0&&(u.clickThroughUrl=Br(a.shift(),!0));const p=Xn();ts({event:$i,node:d,trackingEvents:p}),es({node:o.shift(),trackingEvents:p}),u.trackingEvents=p,r.push(u)})),br.companionAdsFactory({required:n,companionList:r})},ns=t=>{let{code:e,trackingEvents:i}=t;if(i.fire(Yi,(t=>_({str:t,values:Q(e)?{errorCode:e}:{},pattern:/(\[)(ERRORCODE)(])/g,macros:{errorCode:"ERRORCODE"}}))),Q(e))throw new Jn(e);throw _r};class rs extends Ve{constructor(t){let{slot:e,macroValues:i={}}=t;super(),this.slot=e,this.macroValues=i,this.shouldStopExecution=!1}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.adTagFeed=t,this.currentIndex=0,this.videoplazaWaterfallManager=null;const{requestTimeout:i,googleIMA:r}=e;this.googleIMA=r,this.requestTimeout=t=>n(i)?i(t):i}stopExecution(){this.shouldStopExecution=!0}validateExecution(){if(this.shouldStopExecution)throw new Error("Load ads canceled")}nextAdTag(){try{const t=this.adTagFeed[this.currentIndex],{url:e}=t;return this.currentIndex+=1,!1===e.startsWith("https")?this.nextAdTag():t}catch(t){return!1}}async loadAds(){if(this.validateExecution(),zr(this.slot),null!=this.videoplazaWaterfallManager)if(this.videoplazaWaterfallManager.hasNext()){const t=await this.videoplazaWaterfallManager.loadAds();if(t)return t;this.videoplazaWaterfallManager=null}else this.videoplazaWaterfallManager.fireEmptyWaterfallError();const t=this.nextAdTag();return!1===t?(this.emit(Ai),null):(this.adTag=t,this.emit(vi,this.adTag),this.fetchAds(this.adTag.url))}async fetchAds(t){var e;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.validateExecution(),Qr+=1,Qr>5e3)throw new Error(Wn);const{url:n,tagMacros:r}=Hr({macroValues:this.macroValues,adTagUrl:t});if(qr.info("tag with macros replaced",n,r),null!==(e=this.googleIMA)&&void 0!==e&&e.enabled&&kr(n)){var s;return{linearCreative:xr.imaWrapperFactory(n,null===(s=this.googleIMA)||void 0===s?void 0:s.encapsulateIMA),adTrackingEvents:Xn(),adData:{fromTag:n},initialAdTag:this.adTag}}let o;try{const t=this.requestTimeout(n);try{o=await ee.get(n,{withCredentials:!0,timeout:t})}catch(e){qr.error(gi,e),o=await ee.get(n,{withCredentials:!1,timeout:t})}}catch(t){return this.emit(gi,this.adTag),qr.error(gi,t),this.loadAds()}this.validateExecution();try{const t=await this.setVast(n,o.data,i);return P(t)&&r&&Object.assign(t,{tagMacros:r}),t}catch(t){return qr.warning(t.message,t),this.loadAds()}}setVast(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qr.info("setVast",e,i);const{companionAds:n={},trackingEvents:r,clickThroughUrl:s}=i,o=Xn();kt(r)&&(qr.info("update ad tracker events with trackers from wrapper",r),o.concat(r));const{VAST:a=[]}=e;0===a.length&&ns({code:101,trackingEvents:o});const{Ad:d,Error:l=[]}=a;return ts({event:Yi,node:l,trackingEvents:o}),j(d)&&ns({trackingEvents:o}),this.filterAdPod(t,d,{trackingEvents:o,clickThroughUrl:s,companionAds:n})}filterAdPod(t,e,i){qr.info("filterAdPod",e);const n=[],r=[];let s=null;return x(e,(t=>{const{sequence:e=""}=t.$;""===e?r.push(t):n.push(t)})),0===n.length&&r.length>0?(qr.info("not in an ad pod - we only load the first standalone ad"),s=r.shift()):n.length>0&&(qr.info("ad pod detected"),n.sort(Jr),s=n.shift()),Z(s)&&ns({code:200,trackingEvents:i.trackingEvents}),this.setAd(t,s,i)}setAd(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qr.info("setAd",e);const{InLine:n=[],Wrapper:r=[],$:s={}}=e,{companionAds:o={},clickThroughUrl:a,trackingEvents:d}=i;0===n.length&&0===r.length&&ns({code:101,trackingEvents:d});let l,c=!1;r.length>0?(c=!0,l=r.shift()):l=n.shift();const{VASTAdTagURI:h=[],AdSystem:u=[],AdTitle:p=[],Impression:m=[],AdServingId:A=[],Category:v=[],Description:g=[],Advertiser:f=[],Pricing:b=[],Expires:y=[],Error:E=[],Creatives:C=[],ViewableImpression:I=[]}=l,{id:T}=s,w={fromTag:t,adId:T};h.length>0&&(w.vastAdTagURI=Br(h.shift())),u.length>0&&(w.adSystem=Br(u.shift())),p.length>0&&(w.adTitle=Br(p.shift())),A.length>0&&(w.adServingId=Br(A.shift())),v.length>0&&(w.category=Br(v.shift())),g.length>0&&(w.description=Br(g.shift())),f.length>0&&(w.advertiser=Br(f.shift())),b.length>0&&(w.pricing=Br(b.shift())),y.length>0&&(w.expires=Br(y.shift())),ts({event:Yi,node:E,trackingEvents:d}),ts({event:Zi,node:m,trackingEvents:d}),I[0]&&(ts({event:qi,node:I[0].Viewable,trackingEvents:d,isUrl:!1}),ts({event:_i,node:I[0].NotViewable,trackingEvents:d,isUrl:!1}),ts({event:Qi,node:I[0].ViewUndetermined,trackingEvents:d,isUrl:!1})),c&&!w.vastAdTagURI&&ns({code:101,trackingEvents:d});const{Creative:S=[]}=(null==C?void 0:C.shift())||{};return c||0!==S.length||ns({code:101,trackingEvents:d}),this.setCreatives({parentWrapper:{companionAds:o,trackingEvents:d,clickThroughUrl:a},creativeArr:S,isWrapper:c,adData:w})}async setCreatives(t){let{creativeArr:e,parentWrapper:i={},isWrapper:n,adData:r}=t;qr.info("setCreatives",e);const{trackingEvents:s}=i;let{companionAds:o={},clickThroughUrl:a}=i,d=null;const l=t=>{let{ClickThrough:e=[],ClickTracking:i=[]}=t;e.length>0&&(a=Br(e.shift(),!0)),ts({event:$i,node:i,trackingEvents:s});const n=new RegExp(`\\be=${Bn}\\b`,"g");ts({event:un,node:i.filter((t=>t._.includes(Un)&&!!t._.match(n))).map((t=>({...t,_:t._.replace(n,`e=${zn}`)}))),trackingEvents:s})};for(let t=0;t<e.length;t+=1){const{Linear:i=[],CompanionAds:n=[]}=e[t];if(n.length>0&&(o=is(n.shift())),i.length>0){d=i.shift();const{TrackingEvents:t=[],VideoClicks:e=[]}=d;es({node:t.shift(),trackingEvents:s}),e.length>0&&x(e,l)}}if(n){qr.info("following wrapper");const{vastAdTagURI:t}=r,e={url:t};if(ar.isNoVideoReminder(e)){const t=await xr.reminderWrapperFactory(e);return{isNoVideoReminder:!0,initialAdTag:this.adTag,linearCreative:t,adClickThroughUrl:a,adTrackingEvents:s,adCompanions:o,adData:r,adConfig:Kr(r)}}if(null!==t){const e={clickThroughUrl:a,trackingEvents:s,companionAds:o},i=this.fetchAds(t,e);return i.initialAdTag=this.adTag,i}ns({code:300,trackingEvents:s})}return this.setLinearMediaFile({linear:d,companionAds:o,trackingEvents:s,clickThroughUrl:a,adData:r})}async setLinearMediaFile(t){let{linear:e,companionAds:i,trackingEvents:n,clickThroughUrl:r,adData:s}=t;this.validateExecution(),qr.info("setLinearMediaFile",e);let o,a,d="";try{const{AdParameters:t=[],MediaFiles:i=[]}=e;t.length>0&&(d=Br(t.shift()));const{InteractiveCreativeFile:n=[],MediaFile:r=[]}=i.shift();if(o=n.length>0?(t=>{const{apiFramework:e,type:i}=t.$;return{apiFramework:e,type:i,url:Br(t,!0)}})(n.shift()):$r(r),!o||0===o.length)throw new Error}catch(t){ns({code:101,trackingEvents:n})}if(ar.isVideoplaza(o)){qr.info("DETECTED Videoplaza Waterfall");const t=rs.create({macroValues:this.macroValues,slot:this.slot}),e={[gi]:I};yn(this)(t,{logWrapper:Yr,propagate:!0}).subscribe(e),this.videoplazaWaterfallManager=new sr({adData:s,fromAdTag:this.adTag,adParametersData:d,vastManager:t}),a=await this.videoplazaWaterfallManager.loadAds(),this.validateExecution(),t.offAll(),a||ns({trackingEvents:n});a=((t,e)=>{const{clickThroughUrl:i,companionAds:n,adData:r,trackingEvents:s}=e,o=t;return o.adClickThroughUrl=!t.adClickThroughUrl&&i?i:t.adClickThroughUrl,o.adCompanions=0===t.adCompanions.length&&n?n:t.adCompanions,o.adData=!t.adData&&r?r:t.adData,o.adTrackingEvents.trackers=[...t.adTrackingEvents.trackers,...s.trackers],o})(a,{clickThroughUrl:r,companionAds:i,adData:s,trackingEvents:n})}else{let t;try{t=await xr.vpaidWrapperFactory({adMedia:o,adParameters:d,slot:this.slot})}catch(t){ns({code:101,trackingEvents:n})}this.validateExecution(),a={linearCreative:t,adParametersData:d,adClickThroughUrl:r,adTrackingEvents:n,adCompanions:i,adData:s,adConfig:Kr(s),initialAdTag:this.adTag}}return a}static create(t){let{slot:e,macroValues:i}=t;return new rs({slot:e,macroValues:i})}}const ss={vastManagerFactory:t=>rs.create(t)},os=k(3,((t,e,i)=>t(i)?e(i):i)),as=1e3,ds=0,ls=1,cs=2,hs=3,us=-1;const ps=[{hiddenProperty:"hidden",visibilityEvent:"visibilitychange"},{hiddenProperty:"msHidden",visibilityEvent:"msvisibilitychange"},{hiddenProperty:"mozHidden",visibilityEvent:"mozvisibilitychange"},{hiddenProperty:"webkitHidden",visibilityEvent:"webkitvisibilitychange"}],ms=["onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur"],As=()=>"visible"===document.visibilityState;function vs(t){const e=()=>{As()&&(ms.forEach((t=>{document[t]=null})),t())};ms.forEach((t=>{document[t]=e}))}class gs extends Rn{hasNativeSupport(){return!0}createObserver(t){const{timeRequirement:e}=this.options,i=this.getTarget(),n=new IntersectionObserver((i=>{i.forEach((i=>{i.intersectionRatio<.5?this.timer=clearTimeout(this.timer):this.timer||(this.timer=setTimeout(t,e))}))}),{threshold:[0,.5,1]});return n.observe(i),n}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new gs(...e)}}const fs=[u.TYPES.VIDEO],bs=[u.TYPES.SCROLLER,u.TYPES.IMAGE,u.TYPES.DISPLAY],ys=[u.TYPES.SOCIAL,u.TYPES.SCROLLER,u.TYPES.DISPLAY,u.TYPES.PROGRAMMATIC_DISPLAY,u.TYPES.SURVEY],Es=["counter","label","play","skip","videoPlayer","volume"];function Cs(t){let{provider:e,type:i,ava:n,transparentBackground:r,controls:s={}}=t;const o={};if(e!==u.PROVIDER)return o;const a=t=>t.includes(i);a(fs)&&(o.ratio="16:9"),se(n)&&(o.ava=n),(r||a(bs))&&(o.referenceBackground="transparent");const d=i===u.TYPES.VIDEO;return Es.forEach((t=>{o[t]=d})),d&&(o.skip={enabled:!0,style:{left:"8.5%"}},o.label={enabled:!0,style:{left:"1.5%"}}),a(ys)&&(o.skip={enabled:!0,class:Hn}),{...o,...s}}function Is(t){if(a(t)){let e=!1;(window.document.hasFocus()||window.parent&&window.parent.document.hasFocus())&&(e=!0),e&&window.open(t)}}const Ts="AD",ws="UI",Ss="CONTROLLER",ks=C.wrapWithName(Ss);class Rs extends Ve{constructor(t){let{macroValues:e,vastManager:i,playerUI:n}=t;super(),this.macroValues=e,this.vastManager=i,this.playerUI=n,this.options={},this.bannedSizes=[],this.onVideoElemPlaying=this.onVideoElmPlaying.bind(this),this.eventSubscriberFactory=yn(this),this.currentAdSubscriber=null,this.viewabilitySubscription=null,this.cmpValues=ni.getState(f)||{}}resetAdState(t){this.options=t||this.options,this.adRatio=this.options.ratio,this.currentAd=null,this.adStarted=!1,this.adImpression=!1,this.adViewableImpression=!1,this.videoStarted=!1,this.firstQuartileFired=!1,this.midpointFired=!1,this.thridQuartileFired=!1,this.videoCompleted=!1,this.adStopped=!1,this.skipBtnDisplayed=!1,this.adTimeCounter=function(t){let{period:e=as,context:i,args:s=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(n(t)))return null;let o=null,a=null,d=0,l=null,c=0;function h(){l=Date.now(),t.apply(i,s)}function u(){d+=e,h()}function p(){clearInterval(o),clearTimeout(a)}function m(t){return new Promise((e=>{a=setTimeout(e,t)}))}return{state:ds,getCurrentTime:()=>d,set(){this.state!==ls&&(o=setInterval(u,e),l=Date.now(),this.state=ls)},start(){this.state!==ls&&(h(),this.set())},pause(){this.state!==ls&&this.state!==hs||(c=e-(Date.now()-l),p(),this.state=cs)},async resume(){this.state===cs&&(this.state=hs,await m(c),u(),this.set(),c=0)},reset(){p(),this.state=ds,d=0,this.set()},restart(){p(),this.state=ds,d=0,this.start()},cancel(){p(),this.state=us,x(this,((t,e)=>{n(this[e])&&(this[e]=I)}))}}}(this.setRemainingTime,{period:1e3,context:this}),this.emitAdSkippedTimeout=null,this.emitVideoCompleteTimeout=null,this.emitAdStoppedTimeout=null}start(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.resetAdState(e),this.bannedSizes=i,this.playerUI.init(e),this.subscribeToUIEvents(),this.subscribeToVastManagerEvents(),this.vastManager.init(t,this.options),this.loadAds()}continueLoadingAds(){return this.clearAd(),this.resetAdState(),this.loadAds()}loadAds(){return this.playerUI.resetVideoPlayer(this.options),this.playerUI.displayMediaLayer(),this.vastManager.loadAds().then((t=>{if(this.currentAd=t,null!=this.currentAd){var e,i;this.subscribeToCurrentAdEvents();const t={AdParameters:this.currentAd.adParametersData,macros:this.currentAd.tagMacros,...(null===(e=this.cmpValues)||void 0===e?void 0:e.vendor)&&this.cmpValues.purpose&&{tcData:{purpose:this.cmpValues.purpose,vendor:this.cmpValues.vendor}}},n={slot:this.playerUI.getSlot(),videoSlot:this.playerUI.getVideoSlot(),bannedSizes:this.bannedSizes};null!=this.currentAd.linearCreative.vpaidSlot&&(n.slot=this.currentAd.linearCreative.vpaidSlot),this.updateOptions(null===(i=this.currentAd)||void 0===i?void 0:i.adConfig);try{const{width:e,height:i}=this.macroValues;this.currentAd.linearCreative.initAd(e,i,"normal",500,t,n)}catch(t){return ks.warning(t.message,t),this.continueLoadingAds()}}return t})).catch((t=>{ks.error("Loading ads",t),(null==t?void 0:t.message)===Wn&&this.emit(fi)}))}obtainPlayerDimensions(){const t=this.playerUI.$adContainer.clientWidth;return{width:t,height:Tn("height")(t,this.adRatio)}}subscribeToUIEvents(){const t={logWrapper:ws,propagate:!0},e=this.eventSubscriberFactory(this.playerUI,t),i={[Ln]:this.onUIPlayClicked,[On]:this.onUIVolumeChanged};e.subscribe(i);const n={[Nn]:this.onUISkipClicked};e.subscribeOnce(n)}subscribeToVastManagerEvents(){const t={logWrapper:ws,propagate:!0},e=this.eventSubscriberFactory(this.vastManager,t),i={[vi]:I,[gi]:I,[Ai]:I};e.subscribe(i)}subscribeToCurrentAdEvents(){const t={logWrapper:Ts,propagate:!0};this.currentAdSubscriber=this.eventSubscriberFactory(this.currentAd.linearCreative,t);const e={[Wi]:this.onAdPaused,[Hi]:this.onAdPlaying,[Mi]:this.onAdVolumeChange,[Ti]:this.onAdSkippableStateChange,[ki]:this.onAdDurationChange,[Fi]:this.onAdClickThru,[Ri]:this.onAdExpandedChange,[xi]:this.onAdInteraction,[Si]:I,[wi]:I,[Ui]:this.onAdUserAcceptInvitation,[Bi]:this.onAdUserMinimize,[zi]:this.onAdUserClose,[Gi]:this.onAdLog};this.currentAdSubscriber.subscribe(e);const i={[ji]:this.onAdError,[yi]:this.onAdLoaded,[Ei]:this.onAdStarted,[Pi]:this.onAdImpression,[Di]:this.onAdVideoStart,[Ci]:this.onAdStopped,[Ii]:this.onAdSkipped,[Li]:this.onAdVideoFirstQuartile,[Ni]:this.onAdVideoMidpoint,[Oi]:this.onAdVideoThirdQuartile,[Vi]:this.onAdVideoComplete,[ui]:this.onAdFactory,[pi]:this.onAdFactoryProgrammaticDisplay};this.currentAdSubscriber.subscribeOnce(i)}hasActuallyStarted(){return this.adStarted&&(this.adImpression||this.videoStarted)}startAd(){var t;this.adStarted||r(null===(t=this.currentAd)||void 0===t?void 0:t.linearCreative)||(this.adStarted=!0,this.currentAd.linearCreative.startAd())}resizeAd(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";Q(t)&&Q(e)&&this.currentAd&&this.currentAd.linearCreative&&this.currentAd.linearCreative.resizeAd(t,e,i)}setSkipDivVisibility(){var t;if(r(null===(t=this.currentAd)||void 0===t?void 0:t.linearCreative))return;this.currentAd.linearCreative.getAdSkippableState()?(this.playerUI.displaySkipControl(),this.skipBtnDisplayed=!0):this.playerUI.hideSkipControl()}trySetAdDuration(){var t;r(null===(t=this.currentAd)||void 0===t?void 0:t.linearCreative)||this.currentAd.duration||(this.currentAd.duration=this.currentAd.linearCreative.getAdDuration()||this.currentAd.linearCreative.getAdRemainingTime()||null)}shouldTryDisplaySkipBtn(t){const e=this.currentAd.duration-this.options.skipTime;return this.options.skip&&!this.skipBtnDisplayed&&tt(t)&&tt(e)&&t<=e}setRemainingTime(){var t;if(this.trySetAdDuration(),r(null===(t=this.currentAd)||void 0===t?void 0:t.linearCreative)||!this.currentAd.duration)return;const e=this.currentAd.linearCreative.getAdRemainingTime();this.playerUI.updateRemainingTime(e),this.shouldTryDisplaySkipBtn(e)&&this.setSkipDivVisibility(),e<=1&&!this.emitVideoCompleteTimeout&&(this.emitVideoCompleteTimeout=setTimeout((()=>{this.currentAdSubscriber.emitEvent(Vi)}),3500))}fireTrackingEvent(t){this.currentAd&&null!=this.currentAd.adTrackingEvents&&this.currentAd.adTrackingEvents.fire(t).then((e=>{ks.info("FIRE TRACKER",t,e)})).catch((e=>{ks.warning("FIRE TRACKER",t,e.message)}))}fireNotViewableTrackingEvent(){var t;null===(t=this.viewabilitySubscription)||void 0===t||t.unsubscribe(),this.adViewableImpression||this.fireTrackingEvent(_i)}onVideoElmPlaying(){this.currentAd&&null!=this.currentAd.linearCreative&&!this.adStarted&&this.currentAd.linearCreative.pauseAd()}onUIPlayClicked(){this.currentAd&&null!=this.currentAd.linearCreative&&this.currentAd.linearCreative.resumeAd()}onUISkipClicked(){this.skipAd()}onUIVolumeChanged(t){let{muted:e}=t;this.currentAd&&this.currentAd.linearCreative&&(this.lastVolume=this.currentAd.linearCreative.getAdVolume(),this.currentAd.linearCreative.setAdVolume(e?0:1))}onAdFactory(t){try{if(r(t&&t.provider===u.PROVIDER))throw new Error("Wrong eventData received for adFactory");if(this.currentAd.isAdFactory=!0,this.currentAd.linearCreative.isAdFactory=!0,this.currentAd.isProgrammaticDisplay=t.type===u.TYPES.PROGRAMMATIC_DISPLAY,this.currentAd.adFactory=t,r(t.width&&t.height)){r([u.TYPES.VIDEO,u.TYPES.PROGRAMMATIC_DISPLAY,u.TYPES.NO_VIDEO_REMINDER].includes(t.type))&&({width:this.currentAd.adFactory.width,height:this.currentAd.adFactory.height}=this.currentAd.linearCreative.adMedia||{})}this.validateAdFactoryDimensions(),this.currentAd.linearCreative.adFactoryInitialize({SMContainer:this.playerUI.$mediaLayer,plugin:!0}),S(this.updateOptions.bind(this),Cs)(this.currentAd.adFactory)}catch(t){this.currentAdSubscriber.emitEvent(ji,t)}}onAdFactoryProgrammaticDisplay(t){try{const{w:e,h:i}=t,n=Tn("ratio")(e,i)||this.options.programmaticDisplayRatio;this.currentAd.dimensions={width:e,height:i,ratio:n},this.emit(mi)}catch(t){ks.error(t)}}validateAdFactoryDimensions(){const{adFactory:t={},isProgrammaticDisplay:e,isNoVideoReminder:i,adCompanions:n}=this.currentAd;if(t.type===u.TYPES.VIDEO||e)return;const r=t=>{var e;let{width:i,height:n}=t;return i&&n&&(null===(e=this.bannedSizes)||void 0===e?void 0:e.includes(`${i}x${n}`))};if(i){if(n.endcardCompanions=L(r,n.endcardCompanions),oe(n.endcardCompanions))throw new Error("the noVideoReminder dimensions are not allowed")}else if(r(t))throw new Error("the ad dimensions are not allowed",t)}setAdDimensions(){let t,e;({width:t,height:e}=this.currentAd.isAdFactory?this.currentAd.adFactory:this.currentAd.linearCreative.adMedia||{});t&&e&&(this.currentAd.isAdFactory||e>t)?this.adRatio=Tn("ratio")(t,e):(t=null,e=null),this.currentAd.dimensions={width:t,height:e,ratio:this.adRatio}}onAdLoaded(){const{isProgrammaticDisplay:t,isNoVideoReminder:e}=this.currentAd;r(t||e)&&this.setAdDimensions(),this.emit(hi),this.playerUI.$video.addEventListener("playing",this.onVideoElemPlaying)}onAdStarted(){this.adStarted=!0,ks.info("trackingEvents",this.currentAd.adTrackingEvents),this.fireTrackingEvent(Xi);const{$adContainer:t}=this.playerUI,e={timeRequirement:2e3};this.viewabilitySubscription=gs.createObservable(t,e).subscribeOnce((()=>{this.fireTrackingEvent(qi),this.adViewableImpression=!0})),this.currentAd.isNoVideoReminder||(this.adTimeCounter.start(),this.playerUI.displayInitialControls())}onAdStopped(){this.adStopped||(r(this.videoCompleted)&&r(this.currentAd.isNoVideoReminder)&&this.currentAdSubscriber.emitEvent(Vi,{close:!1}),this.clearAd(),this.adStopped=!0)}onAdSkipped(){this.fireTrackingEvent(dn),this.fireNotViewableTrackingEvent(),this.clearAd()}onAdVolumeChange(){const t=this.currentAd.linearCreative.getAdVolume();let e=null;0===t&&this.lastVolume>0&&(e=rn),t>0&&0===this.lastVolume&&(e=sn),e&&this.fireTrackingEvent(e)}onAdSkippableStateChange(){r(this.adStarted)||this.skipBtnDisplayed||this.setSkipDivVisibility()}onAdDurationChange(){this.adTimeCounter.restart(),this.currentAd.duration=this.currentAd.linearCreative.getAdDuration()}onAdImpression(){this.adImpression||(this.fireTrackingEvent(Zi),this.adImpression=!0)}async onAdClickThru(t){this.fireTrackingEvent($i),this.adPausedByClick=!0,this.currentAd.linearCreative.pauseAd();if(!1!==(null==t?void 0:t.playerHandles)){const e=j(t)||P(t)?(null==t?void 0:t.url)||this.currentAd.adClickThroughUrl:t;os(Gt,Is)(e)}t&&t.playing&&(await new Promise((t=>{const e=()=>t(),{visibilityEvent:i}=ps.find((t=>t.hiddenProperty in document))||{};i?wn(document,i,e,As):vs(e)})),this.onUIPlayClicked())}onAdExpandedChange(){this.currentAd.isAdFactory&&(this.currentAd.expanded=this.currentAd.linearCreative.getAdExpanded())}onAdInteraction(){this.fireTrackingEvent(un)}onAdUserAcceptInvitation(){this.fireTrackingEvent(hn)}onAdUserMinimize(){this.fireTrackingEvent(cn)}onAdUserClose(){this.fireTrackingEvent(ln)}onAdVideoStart(){this.videoStarted||(this.fireTrackingEvent(Ki),this.videoStarted=!0)}onAdVideoFirstQuartile(){this.firstQuartileFired||(this.onAdVideoStart(),this.fireTrackingEvent(Ji),this.firstQuartileFired=!0)}onAdVideoMidpoint(){this.midpointFired||(this.onAdVideoFirstQuartile(),this.fireTrackingEvent(tn),this.midpointFired=!0)}onAdVideoThirdQuartile(){this.thridQuartileFired||(this.onAdVideoMidpoint(),this.fireTrackingEvent(en),this.thridQuartileFired=!0)}onAdVideoComplete(t){this.videoCompleted||(clearTimeout(this.emitVideoCompleteTimeout),this.adTimeCounter.pause(),this.currentAdSubscriber.unsubscribe(Wi),this.onAdVideoThirdQuartile(),this.fireTrackingEvent(nn),this.videoCompleted=!0,!1!==(null==t?void 0:t.close)&&(this.fireNotViewableTrackingEvent(),this.emitAdStoppedTimeout=setTimeout((()=>{this.currentAdSubscriber.emitEvent(Ci)}),1e3)))}onAdPaused(){this.fireTrackingEvent(on),this.adPausedByClick&&this.playerUI.displayPlayControl(),this.adTimeCounter.pause()}onAdPlaying(){this.fireTrackingEvent(an),this.playerUI.hidePlayControl(),this.adPausedByClick=null,this.adTimeCounter.resume()}onAdError(){this.fireTrackingEvent(Yi),this.hasActuallyStarted()&&(this.fireNotViewableTrackingEvent(),this.clearAd())}onAdLog(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];ks.info(...e,this)}updateOptions(t){r(Object.keys(t||{}).length)||(t.ratio&&(this.adRatio=t.ratio),this.playerUI.updateVideoPlayer(t),this.emit(bi,t))}skipAd(){var t;null!==(t=this.currentAd)&&void 0!==t&&t.linearCreative&&(this.emitAdSkippedTimeout=setTimeout((()=>{this.currentAdSubscriber.emitEvent(Ii)}),1e3),this.currentAd.linearCreative.skipAd())}clearAd(){var t,e;this.adTimeCounter.cancel(),clearTimeout(this.emitAdStoppedTimeout),clearTimeout(this.emitAdSkippedTimeout),clearTimeout(this.emitVideoCompleteTimeout),this.playerUI.hideControls(),this.playerUI.hideMediaLayer(),this.playerUI.resetVideoSource(),this.playerUI.$video.removeEventListener("playing",this.onVideoElemPlaying),null===(t=this.viewabilitySubscription)||void 0===t||t.unsubscribe(),null===(e=this.currentAdSubscriber)||void 0===e||e.unsubscribeAll()}destroy(){this.vastManager.stopExecution(),this.clearAd(),this.currentAd=null,this.playerUI.destroy()}}const Ms=t=>{let{$adContainer:e,$videoSlot:i,macroValues:n={}}=t;const r=_n.playerUIFactory({$adContainer:e,$videoSlot:i}),s=ss.vastManagerFactory({slot:r.getSlot(),macroValues:n});return new Rs({playerUI:r,vastManager:s,macroValues:n})},Ps={"200x200":{reduceAvaWidth:{mobile:.66,desktop:!1},overlapPlacement:{position:"center"}},"300x50":{reduceAvaWidth:{mobile:!0,desktop:!1}},"300x100":{reduceAvaWidth:{mobile:!0,desktop:!1}},"300x250":{reduceAvaWidth:{mobile:.66,desktop:!1},overlapPlacement:{position:"center"}},"300x600":{reduceAvaWidth:{mobile:.5,desktop:!0}},"320x50":{reduceAvaWidth:{mobile:!0,desktop:!1}},"320x100":{reduceAvaWidth:{mobile:!0,desktop:!1}},"320x480":{reduceAvaWidth:{mobile:.66,desktop:!0},overlapPlacement:{position:"center"}},"450x563":{reduceAvaWidth:{mobile:.66,desktop:!0},overlapPlacement:{position:"center"}},"450x800":{reduceAvaWidth:{mobile:.5,desktop:!0}},"640x360":{reduceAvaWidth:{mobile:.66,desktop:!1}},"720x720":{reduceAvaWidth:{mobile:.66,desktop:!0}},"728x90":{},"800x600":{reduceAvaWidth:{mobile:.66,desktop:!1},overlapPlacement:{position:"center"}},"970x250":{reduceAvaWidth:{mobile:!0,desktop:!1}},"980x90":{}},Ds={AD_CONTAINER:`\n    .${g}-ad-container {\n      position: absolute;\n      visibility: hidden;\n    }`},Ls={STARTED:"ReminderStarted",CLICK:"ReminderClick",ENDED:"ReminderEnded",ERROR:"ReminderError",SKIPPED:"ReminderSkipped"},Ns={VIDEO_REMINDER:2e4,NO_VIDEO_REMINDER:3e4},Os={RESTART:"RESTART",CLOSE:"CLOSE"},Vs=1,Fs=2,xs=3,Us=4,Bs=5,zs=6,Ws=7,Hs=8,Gs=9,js="initialPosition",Zs="mainPosition",$s="avaPosition",Ys="expandedPosition",qs="styles";class _s extends Rn{hasNativeSupport(){const{ResizeObserver:t}=window;return kt(t)}getElementDimensions(){return At(this.getTarget())}createInterval(t){return setInterval((()=>t(this.getElementDimensions())),arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}createObserver(t){const e=this.getTarget(),i=new ResizeObserver((e=>{var i;const{width:n,height:r}=(null===(i=e[0])||void 0===i?void 0:i.contentRect)??this.getElementDimensions()??{};t({width:n,height:r})}));return i.observe(e),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new _s(...e)}}const Qs="always",Xs="empty",Ks="fixed",Js="ava",to="AlternativeMounted",eo="AlternativeContentLoaded",io="AlternativeEnded",no="AlternativeError",ro={publisher:"publisherId"},so={FIXED:{NO_IFRAME:{MAIN:{display:"block",overflow:"hidden",position:"relative",top:"50%",transform:"translateY(-50%)","margin-left":"auto","margin-right":"auto","text-align":"center"},CONTAINER_ADAPTS:{top:"unset",transform:"unset"}},IN_IFRAME:{MAIN:{display:"block",overflow:"hidden",position:"relative",top:"50%","margin-left":"50%",transform:"translate(-50%, -50%)"},CONTAINER_ADAPTS:{top:"unset",transform:"translateX(-50%)"}},CONTENT_LOADED:{"max-height":"100%"}},AVA:{display:"block",overflow:"hidden",position:"fixed","z-index":"99999"},IFRAME:{display:"block",position:"absolute",top:"0px",left:"0px",height:"100%",border:"0px"},CLOSE:{display:"none",position:"absolute",top:"10px",right:"10px",width:"26px",height:"26px","background-image":"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAAAkFBMVEUAAAAAAAD+/v4rKyv8/Pz39/f8/Pz39/eLi4vR0dH+/v7V1dWKioqFhYV/f3/////Nzc0AAAD+/v78/Pz9/f3u7u7s7Ozr6+vp6ekSEhL+/v7w8PB0dHT39/fS0tKnp6f19fXu7u7z8/Pv7+/MzMzJyckAAADy8vLi4uL4+Pjv7+8AAADZ2dnDw8OdnZ1fX18QcjD1AAAAMHRSTlMmEvgt7tbr2EZ7/IJFREH9eAH77fS1saynKfnAPtp/Vs+2yLl1cx/DmN66CoZtUDim/7c5AAABu0lEQVRIx+2V126DMBiFARtjhg0OEGYYCWlWx/u/XX9HbRSIw1CvWtVXCPTpyGcITejaovMihAbIUkhbfvR/5qcMorTsf+x/UzE03qb0CWMftq6S2UYkVkIo2EREyZQpWeGYKRDbzA3zTekBjbFDEv7ABKZhWK7aN4BAqSiHKhvDMG30zGuWYD9MvN67SqrYI/nwInRIy+9UOsvILReNZVomxAnbm1LmSpX9RA+8FpSS7zvtLbiLm011h7dkFRZcPiIXEKtD033zktDHCZPpS5VqVkfLAnKKKURp5Bsbzes1ByNwfJQqwewtMGhEFOUyyvn7oW3k+/4pQEs29wqM0/AFO0WVmfuOH57ZfKaC65+a0MFrbyaDgmst6RmvyJrOYrJr+kGmsTVMY+fNYfam3EsmG7GGcFM+ySB3AypfudAdKB34FBOY9+l7KfZx6o0yyLagY3cT4wcwYkdHmMyWKr2J8ZQMLdd7SCAdG0zM20nLmZqR14daPnSMSssLpmY6GeVwYjfLmZI54siqkGoaRRg1tZpptp265SxtCjXzXtegoobq+uO3/Rv/CPOymLloYimkC00IfdG5CPEJRJcY90Ps4pAAAAAASUVORK5CYII=')","background-size":"contain","background-repeat":"no-repeat","z-index":5e4,cursor:"pointer"}};function oo(t,e){const i=ut({content:e}),{children:n}=or(i,!0);pt(t,Array.from(n))}class ao extends Ve{constructor(t){super(),({api:this.api,config:this.config,instanceIndex:this.instanceIndex,availablePositions:this.availablePositions,wind:this.wind,macroValues:this.macroValues,device:this.device,playedAdCount:this.playedAdCount}=t);const{mainPosition:e,avaPosition:i}=this.availablePositions;this.position=i?{$container:i.$container,getStyles:i.getPositionStyles,closeButton:so.CLOSE,containerAdpatsToContent:!1,isAva:!0}:{$container:e.$container,getStyles:e.getPositionStyles,closeButton:e.closeButton?{...so.CLOSE,...e.closeButton}:null,containerAdpatsToContent:Boolean(e.containerAdpatsToContent),isMain:!0},this.alternativeConfig=this.config.alternative,this.$alternative=null,this.$iframe=null,this.$close=null,this.onIframeLoaded=this.onIframeLoaded.bind(this),this.closeAlternative=this.closeAlternative.bind(this),this.getIframeDimensions=this.getIframeDimensions.bind(this)}replaceContentMacros(t){return S((t=>_({str:t,values:this.macroValues})),(t=>_({str:t,values:this.config,macros:ro})))(t)}init(){try{if(r(ao.hasAlternativeToDisplay(this.config,this.playedAdCount)))throw new Error("It has no alternative to display");this.build()}catch(t){this.emit(no,t)}}build(){this.$alternative=this.createAlternativeElement(),pt(this.position.$container,this.$alternative),this.emit(to,this.position),this.alternativeConfig.iframe?this.loadAlternativeInFrame():this.loadAlternative()}createAlternativeElement(){if(this.position.closeButton){const t={name:"close",style:this.position.closeButton,events:{click:this.closeAlternative}};this.$close=ut(t)}return ut({name:"alternative",id:this.api,style:this.getAlternativeStyles(),attributes:{data:{it:this.config.it,index:this.instanceIndex,device:this.device}},children:this.$close})}getAlternativeStyles(){const{getStyles:t,isAva:e,containerAdpatsToContent:i}=this.position,{position:r,margin:s,bottom:o,iframe:a}=this.alternativeConfig;if(n(t))return t();const d=a?"IN_IFRAME":"NO_IFRAME";return e?{...so.AVA,[r]:s,bottom:o}:{...so.FIXED[d].MAIN,...i&&so.FIXED[d].CONTAINER_ADAPTS}}loadAlternative(){const t=this.replaceContentMacros(this.alternativeConfig.content);oo(this.$alternative,t),this.alternativeResizeSubscription=_s.createObservable(this.$alternative).subscribe((t=>{null!=t&&t.height&&(this.alternativeResizeSubscription.unsubscribe(),this.onContentLoaded(t))}))}async loadAlternativeInFrame(){const t=`\n      <script>var inDapIF = true;<\/script>\n      ${this.replaceContentMacros(this.alternativeConfig.content)}\n    `;this.$iframe=ut({type:"iframe",style:so.IFRAME,attributes:{scrolling:"no"}}),pt(this.$alternative,this.$iframe);try{this.$iframe.contentWindow.__tcfapi=window.top.__tcfapi}catch{}await this.loadIFrame(t),this.onIframeLoaded()}async loadIFrame(t){const e=t=>new Promise((e=>{wn(this.$iframe,"load",(()=>e()));const i=(this.$iframe.contentDocument||this.$iframe.contentWindow.document).open();t&&i.write(`<body>${t}</body>`),i.close()}));try{await Ht(e(),1e3);const i=this.$iframe.contentDocument||this.$iframe.contentWindow.document;oo(null==i?void 0:i.body,t)}catch{await e(t)}}async onIframeLoaded(){try{const t=this.$iframe.contentDocument||this.$iframe.contentWindow.document;it(null==t?void 0:t.body,{margin:0});const e=await Ir(this.getIframeDimensions,{attempts:121});this.onContentLoaded(e)}catch(t){C.info("Failed to get alternative iframe dimensions")}}getIframeDimensions(){return new Promise(((t,e)=>{const{width:i,height:n}=function(t){if(r(K(t)&&"IFRAME"===t.nodeName))return null;const{scrollHeight:e=0,scrollWidth:i=0}=t.contentDocument.body||{};return{height:e,width:i}}(this.$iframe);r(i)||r(n)?e():t({width:i,height:n})}))}onContentLoaded(t){let{width:e,height:i}=t;it(this.$alternative,{width:e,height:i,...this.position.isMain&&so.FIXED.CONTENT_LOADED}),this.alternativeConfig.iframe&&it(this.$iframe,{width:"100%"}),this.$close&&it(this.$close,{display:"block"}),this.emit(eo,this.position)}closeAlternative(){J(this.$alternative),this.emit(io,{userInteraction:!0})}static hasAlternativeToDisplay(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Boolean(null===(t=e.alternative)||void 0===t?void 0:t.content)&&(e.alternative.schedule===Qs||e.alternative.schedule===Xs&&0===i)}static isDisplayAva(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==e||null===(t=e.alternative)||void 0===t?void 0:t.display)===Js}}const lo={create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ao(t)},hasAlternativeToDisplay:ao.hasAlternativeToDisplay,isDisplayAva:ao.isDisplayAva};class co extends Rn{hasNativeSupport(){return!0}createObserver(t){const e=this.getTarget(),i=this.options||{threshold:[0,1]},n=new IntersectionObserver((e=>{const[i,...n]=e;t(i)}),i);return n.observe(e),n}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new co(...e)}}function ho(t){const e=function(t){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=Object.create(t.methods||null);return Object.assign(r,t.props),(t.init||[]).forEach((t=>{t.call(r,...i)})),r}}(t);return e.compose=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return po.apply(this,e)},Object.assign(e.compose,t),e}function uo(t,e){const i=n(s=e)&&n(s.compose)?e.compose:e;var s;return r((t=>P(t)||n(t))(i))||(t.props=Jt(t.props,i.props),t.methods=Object.assign(t.methods||{},i.methods),t.init=(t.init||[]).concat(i.init||[])),t}function po(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];M(this)&&e.unshift(this);const n=e.reduce(uo,{});return ho(n)}const mo=po,Ao=mo({init(){this.emitter=Object.create(new Ve)},methods:{emit(t,e){this.emitter.emit(t,e)}}}),vo={REMINDER:`\n    .${g}-companion-container {\n      display: none;\n      margin: 0;\n    }\n\n    .${g}-companion-container.${g}-main {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      background-color: #ffffff;\n    }\n    .${g}-companion-container.${g}-overlap {\n      position: absolute;\n      visibility: visible;\n    }\n    .${g}-companion-container.${g}-ava {\n      overflow: hidden;\n      position: fixed;\n    }\n    .${g}-companion-container[data-type='Main'] {\n      z-index: 99999;\n    }\n    .${g}-companion-container[data-type='Remember'] {\n      z-index: 99998;\n    }\n    \n    ${`\n  .${g}-companion-container .${g}-controls.${g}-companion-close {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF5GlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDUgNzkuMTY0NTkwLCAyMDIwLzEyLzA5LTExOjU3OjQ0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjIuMSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIxLTAyLTA4VDEyOjI2OjMyKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMSIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkRvdCBHYWluIDE1JSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NWJiY2M0YjQtMjY1Zi00YzgyLWJiNWMtZjljNzEzNjRlNDZiIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YmJjYzRiNC0yNjVmLTRjODItYmI1Yy1mOWM3MTM2NGU0NmIiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMDk6Mjc6MDcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OGMyMTEwZS1iYzQ2LTRhNzAtOWVkMy0zN2NjYTJhZDU3MTAiIHN0RXZ0OndoZW49IjIwMjEtMDItMDhUMTI6MjY6MzIrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMi4xIChNYWNpbnRvc2gpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9bcmgAAACdSURBVDiN7ZNLEoMgEERfUzmZ4KUjHE06C81GUPPZpFLOcmoezXSDzPsVPmAu6Cvotm0kZ0Yt6QkDwXfQoZKVmGxgBRukfz0likWggieitgMNVDBBickVnBnVnttRKswEJeRCFNRXIBAzXhdxZ2THcrlQlSj21oVdyJkokEZK5++o7S1JgTEg53PLB2eGFQmAFJ+RHSmd14+/8n+EHjIPOOda016cAAAAAElFTkSuQmCC');\n    background-repeat: no-repeat;\n    background-size: contain;\n    box-sizing: border-box;\n    cursor: pointer;\n    display: none;\n    float: none;\n    position: absolute;\n    z-index: 12;\n  }\n`}\n\n    .${g}-companion-container .${g}-resource-container {\n      width: 100%;\n      height: 100%;\n    }\n    .${g}-companion-container .${g}-resource-container iframe {\n        border: none;\n    }\n    .${g}-companion-container .${g}-companion-click-layer {\n        background: transparent;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        z-index: 10;\n        cursor: pointer;\n    }\n    .${g}-companion-container .${g}-controls.${g}-companion-close {\n      right: 5px;\n      top: 5px;\n    }\n  `,CLOSE:{WIDTH:25,HEIGHT:25}};function go(t){const e=mo({init(t){({companion:this.companion,$container:this.container,getPositionStyles:this.getPositionStyles,options:this.options,device:this.device,ava:this.ava,it:this.it,maxDimensions:this.maxDimensions}=t),this.onClickThrough=this.onClickThrough.bind(this),this.onSkip=this.onSkip.bind(this),this.dimensions=this.getDimensions()},methods:{start(){if(!this.dimensions)return C.error("Reminder missing dimensions"),void this.emit(Ls.ERROR);this.createReminderElements(),mt("reminder-styles",vo.REMINDER),this.appendReminderElements(),this.companion.loadAd(this.$resourceContainer).then((()=>{this.displayCloseButton(),this.companion.trackingEvents.fire(Xi),this.emit(Ls.STARTED)})).catch((t=>{C.error("Starting reminder",t),this.destroy(),this.emit(Ls.ERROR)}))},createReminderElements(){const{dimensions:t,it:e,device:i,companion:n}=this,r={name:"companion-container",style:t,attributes:{class:this.getContainerClass(),data:{it:e,device:i,type:n.id}}};this.$companionContainer=ut(r);const s={events:{click:this.onClickThrough}},o={name:"resource-container",attributes:{alt:n.altText||""},...s};this.$resourceContainer=ut(o);const a={name:"companion-close",style:{width:`${vo.CLOSE.WIDTH}px`,height:`${vo.CLOSE.HEIGHT}px`},attributes:{class:"sm-controls"},events:{click:this.onSkip}};if(this.$close=ut(a),n.clickThroughUrl){const t={name:"companion-click-layer",...s};this.$clickLayer=ut(t)}},onClickThrough(){Is(this.companion.clickThroughUrl),this.companion.trackingEvents.fire($i),this.emit(Ls.CLICK)},onSkip(){this.emit(Ls.SKIPPED)},async displayCloseButton(){var t,e,i,n;-1!==(null===(t=this.options)||void 0===t||null===(e=t.reminder)||void 0===e?void 0:e.displayCloseBtnTime)&&(await Sn(null===(i=this.options)||void 0===i||null===(n=i.reminder)||void 0===n?void 0:n.displayCloseBtnTime),it(this.$close,{display:"block"}))},appendReminderElements(){const{container:t,$close:e,$clickLayer:i,$resourceContainer:n,$companionContainer:r}=this,s=[n,e];i&&s.push(i),pt(r,s),pt(t,r)},destroy(){J(this.$companionContainer)},show(){it(this.$companionContainer,{display:"block"})},hide(){it(this.$companionContainer,{display:"none"})}}});return e.compose(t,Ao)}function fo(t){let{dimensions:e={},maxWidth:i,maxHeight:n}=t;const{ratio:s}=e,o={...e};return r(s)||(Rt(i)&&o.width>i&&(o.width=i,o.height=Tn("height")(i,s)),Rt(n)&&o.height>n&&(o.width=Tn("width")(n,s),o.height=n)),o}function bo(t,e){let{maxWidth:i,maxHeight:n}=e;const s={...t};r(s.width&&s.height)&&(s.width=i,s.height=Tn("height")(i,s.ratio));const o=fo({dimensions:s,maxWidth:i,maxHeight:n});return{width:kn(o.width,2),height:kn(o.height,2),ratio:o.ratio}}const yo=go({methods:{getDimensions(){var t,e;const{width:i,height:n}=this.companion;let s;const{width:o,height:a}=At(this.container);if(r(Rt(i)&&Rt(n))){const{mainRatio:t}=this.options.reminder;s={ratio:t,width:o,height:Tn("height")(o,t)}}else s={width:i,height:n,ratio:Tn("ratio")(i,n)};const d=bo(s,{maxWidth:Math.min(o,(null===(t=this.maxDimensions)||void 0===t?void 0:t.width)||1/0),maxHeight:Math.min(a,(null===(e=this.maxDimensions)||void 0===e?void 0:e.height)||1/0)});return{width:d.width,height:d.height}},getContainerClass:()=>`${g}-main`}});function Eo(t,e){var i;let{maxWidth:n,defaultRatio:s,forceSize:o,device:a}=e;const d={...t},l=Ps[`${d.width}x${d.height}`];if(r(l)||o){r(d.width&&d.height)&&(d.width=n,d.height=Tn("height")(n,d.ratio));return fo({dimensions:d,maxWidth:n,maxHeight:Tn("height")(n,s)})}const c=null==l||null===(i=l.reduceAvaWidth)||void 0===i?void 0:i[a];if(c){const t=tt(c)?n*c:.5*d.width;d.width=kn(t),d.height=Tn("height")(d.width,d.ratio)}return fo({dimensions:d,maxWidth:n})}const{REMEMBER:Co}={REMEMBER:{WIDTH:250,HEIGHT:300}},Io=go({init(t){({ava:this.ava}=t)},methods:{getDimensions(){var t,e;let{width:i,height:n}=this.companion;const{maxWidth:s,forceSize:o}=this.ava,{ratio:a}=this.options;if(r(Rt(i)&&Rt(n)))if("Main"===this.companion.id){const{mainRatio:t}=this.options.reminder;i=s,n=Tn("height")(s,t)}else i=Co.WIDTH,n=Co.HEIGHT;const d=fo({dimensions:Eo({width:i,height:n,ratio:Tn("ratio")(i,n)},{maxWidth:s,forceSize:o,defaultRatio:a,device:this.device}),maxWidth:(null===(t=this.maxDimensions)||void 0===t?void 0:t.width)||1/0,maxHeight:(null===(e=this.maxDimensions)||void 0===e?void 0:e.height)||1/0}),{bottom:l,position:c,margin:h}=this.ava,[u,p]=c.split("_");return{width:d.width,height:d.height,[u]:l,[p]:h}},getContainerClass:()=>`${g}-ava`}}),To=go({methods:{getDimensions(){const{width:t,height:e,isRemember:i}=this.companion,n=Tn("ratio")(t,e),{mainRatio:r}=this.options.reminder,s=this.maxDimensions;return i&&s?{...s,...fo({dimensions:{width:t,height:e,ratio:n},maxWidth:s.width,maxHeight:s.height})}:this.getPositionStyles({width:t,height:e,ratio:n||r})},getContainerClass:()=>`${g}-overlap`}});class wo extends Ve{constructor(t){var e,i;super(),this.kwargs=t,({ava:this.ava,companionAds:this.companionAds,availablePositions:this.availablePositions}=this.kwargs),this.mainCompanion=null===(e=this.companionAds)||void 0===e?void 0:e.find((t=>t.isEndcard&&!t.isRemember)),this.rememberCompanion=null===(i=this.companionAds)||void 0===i?void 0:i.find((t=>t.isEndcard&&t.isRemember)),this.main=null,this.remember=null,this.eventLog={},this.viewportPosSubscription=null,this.eventSubscriberFactory=yn(this),this.start=this.start.bind(this),this.toggleAvaReminder=this.toggleAvaReminder.bind(this),this.durationTimeout=null,this.duration=t.isNoVideoReminder?Ns.NO_VIDEO_REMINDER:Ns.VIDEO_REMINDER}init(){try{if(!this.mainCompanion&&!this.rememberCompanion)throw new Error("No reminders found");this.build(),this.start()}catch(t){this.emit(Ls.ERROR,t)}}build(){const{mainPosition:t,avaPosition:e,overlapPosition:i}=this.availablePositions||{};if(r(t||e||i))this.emit(Ls.ERROR);else{if(this.mainCompanion){const n={...this.kwargs,companion:this.mainCompanion};e&&r(t||i)?this.main=Io({...n,...e}):t?this.main=yo({...n,...t}):i&&(this.main=To({...n,...i})),this.subscribeToMainEvents()}if(this.rememberCompanion){const n=r((t||i)&&e)&&this.main?this.main.dimensions:void 0,s={...this.kwargs,companion:this.rememberCompanion,maxDimensions:n};e?this.remember=Io({...s,...e}):t?this.remember=yo({...s,...t}):i&&(this.remember=To({...s,...i})),this.subscribeToRememberEvents()}}}start(){var t,e;null===(t=this.main)||void 0===t||t.start(),null===(e=this.remember)||void 0===e||e.start()}subscribeToMainEvents(){const t=this.eventSubscriberFactory(this.main.emitter);t.subscribeOnce({[Ls.STARTED]:this.onMainStarted,[Ls.SKIPPED]:this.onSkipped,[Ls.ERROR]:this.onMainError}),t.subscribe({[Ls.CLICK]:()=>this.emit(Ls.CLICK)})}subscribeToRememberEvents(){const t=this.eventSubscriberFactory(this.remember.emitter);t.subscribeOnce({[Ls.STARTED]:this.onRememberStarted,[Ls.SKIPPED]:this.onSkipped,[Ls.ERROR]:this.onRememberError}),t.subscribe({[Ls.CLICK]:()=>this.emit(Ls.CLICK)})}onMainStarted(){this.setDurationTime(),this.emitEventOnce(Ls.STARTED),this.main.show()}onMainError(){delete this.main,this.remember||this.emit(Ls.ERROR),clearTimeout(this.durationTimeout)}onRememberStarted(){this.setDurationTime(),this.emitEventOnce(Ls.STARTED);const{avaPosition:t,mainPosition:e,overlapPosition:i}=this.availablePositions;t&&(e||i)&&this.main?this.viewportPosSubscription=co.createObservable((null==e?void 0:e.$container)||(null==i?void 0:i.$container)).subscribe(this.toggleAvaReminder):this.remember.show()}toggleAvaReminder(){let{intersectionRatio:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};1===t?this.remember.hide():this.remember.show()}onRememberError(){delete this.remember,this.main||this.emit(Ls.ERROR),clearTimeout(this.durationTimeout)}onSkipped(){this.destroyReminders(),clearTimeout(this.durationTimeout),this.emitEventOnce(Ls.SKIPPED)}setDurationTime(){this.durationTimeout||(this.durationTimeout=setTimeout((()=>this.stopReminders()),this.duration))}stopReminders(){this.destroyReminders(),clearTimeout(this.durationTimeout),this.emitEventOnce(Ls.ENDED)}destroyReminders(){var t,e,i;null===(t=this.main)||void 0===t||t.destroy(),delete this.main,null===(e=this.remember)||void 0===e||e.destroy(),null===(i=this.viewportPosSubscription)||void 0===i||i.unsubscribe(),delete this.remember}emitEventOnce(t){this.eventLog[t]||(this.eventLog[t]=!0,this.emit(t))}}const So={createController:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new wo(t)}};class ko{constructor(t,e){({api:this.api,macroValues:this.macroValues,integrationScript:this.integrationScript,instanceIndex:this.instanceIndex,config:this.config,appTrackingEvents:this.appTrackingEvents}=t),this.hooksManager=new si(this),this.plugin=e()(this),this.environmentVars=null,this.freezedOriginalConfig=null,this.state=Vs,this.wind=window,this.device=qe,this.adPosition=null,this.displayRestart=this.config.options.restart,this.adControllerInstance=null,this.adCtrlSubscriber=null,this.eventSubscriberFactory=yn(this),this.movingTimeout=null,this.$adContainer=null,this.adContainerCurrentStyles=null,this.sunmediaRequestCount=0,this.clientRequestCount=0,this.sunmediaAdCount=0,this.clientAdCount=0,this.adEnded=!1,this.loopIntents=1,this.start=this.start.bind(this),this.restart=this.restart.bind(this),this.windowHeight=ft(),ni.register(this)}updateMacroValues(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.macroValues={...this.macroValues,...t}}setDefaultDimensionMacroValues(){var t;const e=(null===(t=At(this.$adContainer))||void 0===t?void 0:t.width)||Math.min(gt(),640),i=Tn("height")(e,this.config.options.ratio);this.macroValues={width:kn(e),height:kn(i),...this.macroValues}}reset(){this.config=Ut(this.freezedOriginalConfig),this.adEnded=!1,this.adPosition=null,this.plugin.reset()}async init(t){try{this.environmentVars=t,this.hooksManager.beforeInit(),await this.build(),await this.manageStart()}catch(t){t.extra?C.info("Plugin stopped by extra"):C.error("Initializing outstream plugin",t),this.close({err:t})}}async build(){this.hooksManager.beforeBuild(),await this.plugin.build(),this.hooksManager.beforeMount(),this.mountComponent(),this.hooksManager.mounted()}async manageStart(){"mobile"===this.device&&this.config.options.touchstart?wn(this.wind,"touchstart",this.start):await this.start()}async start(){try{this.setDefaultDimensionMacroValues(),this.initAdController(),this.state=Fs,this.plugin.createObservables(),this.freezedOriginalConfig=Object.freeze(Ut(this.config)),this.startAdController()}catch(t){C.error("Starting outstream plugin",t),this.close({err:t})}}async restart(){try{this.wind.removeEventListener("scroll",this.restart,!0),this.loopIntents+=1,this.appTrackingEvents.setLoop(this.loopIntents),this.mountAdContainer(),this.initAdController(),this.state=Fs,this.startAdController()}catch(t){C.error("Start outstream plugin",t),this.close({err:t})}}mountComponent(){const{it:t,options:e}=this.config;mt(`styles-${t}`,e.css),mt(qs,Ds.AD_CONTAINER),this.plugin.mount(),this.mountAdContainer()}mountAdContainer(){this.$adContainer=this.createAdContainer(),this.insertAdContainer(),this.plugin.adContainerMounted()}unmountAdContainer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r(Z(this.$adContainer))){let e=this.$adContainer;this.$adContainer=null,this.adContainerCurrentStyles=null;it(e,{height:0,margin:0,visibility:"hidden"}),this.plugin.adContainerUnmounted();Sn(t?0:this.config.options.removeMs).then((()=>{J(e),e=null}))}}createAdContainer(){return ut({name:"ad-container",id:`${this.api}-${this.loopIntents}`,attributes:{data:{it:this.config.it,index:this.instanceIndex,device:this.device}}})}insertAdContainer(){pt(this.plugin.getAdContainerParent(),this.$adContainer),this.plugin.updateAdPosition(js)}moveAdContainer(t){clearTimeout(this.movingTimeout),ci(this.$adContainer,"add","sm-moving");try{t()}catch(t){C.warning(t)}this.movingTimeout=setTimeout((()=>{ci(this.$adContainer,"remove","sm-moving")}),200)}batchMoveAdChanges(t,e){mn(this.adContainerCurrentStyles,t)||(this.moveAdContainer(e),this.adContainerCurrentStyles=t)}getPlayedAdCount(){return this.sunmediaAdCount+this.clientAdCount}disableAva(){this.config.ava.enabled=!1,this.config.ava.forceStart=!1}restoreAva(){this.config.ava=Ut(this.freezedOriginalConfig.ava)}stopLoop(){this.loopIntents=this.config.loop.times}itShouldLoop(t){const{enabled:e,times:i,onlyOneVideo:n}=this.config.loop;return e&&(0===i||this.loopIntents<i)&&r(t&&n)}itShouldDisplayRestart(){return this.displayRestart&&this.getPlayedAdCount()>0}initAdController(){var t;this.adControllerInstance=Ms({$adContainer:this.$adContainer,macroValues:this.macroValues,$videoSlot:null===(t=this.environmentVars)||void 0===t?void 0:t.videoSlot}),this.subscribeToAdControllerEvents(),this.plugin.initAdController()}async startAdController(){const{adTags:t,options:e,bannedSizes:i}=this.config;await this.adControllerInstance.start(t,e,i)}subscribeToAdControllerEvents(){var t;null===(t=this.adCtrlSubscriber)||void 0===t||t.unsubscribeAll(),this.adCtrlSubscriber=this.eventSubscriberFactory(this.adControllerInstance,{emitHooks:!0});const e={[vi]:this.onAdRequest,[gi]:I,[Ai]:this.onSDKNoMoreTags,[bi]:this.onSDKUpdateOptions,[hi]:this.onAdPreload,[mi]:this.onResizeProgrammaticDisplay,[yi]:this.onAdLoaded,[Ei]:this.onAdStarted,[Wi]:this.onAdPaused,[Hi]:this.onAdPlaying,[Fi]:I,[Pi]:I,[Di]:I,[Li]:I,[Ni]:I,[Oi]:I,[Vi]:this.onAdVideoComplete,[Ii]:this.onAdSkipped,[Ci]:this.onAdStopped,[ji]:this.onAdError,[Ri]:this.onAdExpandedChange};this.adCtrlSubscriber.subscribe(e);const i={[fi]:this.onSMMaxRequestsReached};this.adCtrlSubscriber.subscribeOnce(i)}onAdRequest(t){Z(null==t?void 0:t.isSunmedia)||(t.isSunmedia?this.sunmediaRequestCount+=1:this.clientRequestCount+=1)}onSMMaxRequestsReached(){this.stopLoop(),this.displayRestart=!1,this.endAd()}onSDKNoMoreTags(){this.adControllerInstance.currentAd=null,this.endAd()}onSDKUpdateOptions(t){this.plugin.updateConfigOptions(t)}onAdPreload(){this.plugin.adPreload()}onAdLoaded(){this.state=xs;const{currentAd:t}=this.adControllerInstance;t.isProgrammaticDisplay?this.startAd():this.plugin.startAd()}startAd(){this.state>=Us||(this.state=Us,this.adControllerInstance.startAd())}onAdStarted(){this.state=Bs,this.adControllerInstance.currentAd.initialAdTag.isSunmedia?this.sunmediaAdCount+=1:this.clientAdCount+=1,this.plugin.adStarted()}onAdPaused(){this.state=Ws}onAdPlaying(){this.state=zs}onAdVideoComplete(){this.state=Hs}onAdSkipped(){this.endAdByUserInteraction()}endAdByUserInteraction(){this.stopLoop(),this.endAd({userInteraction:!0})}onAdStopped(){var t;const{currentAd:e}=this.adControllerInstance||{},i=null==e||null===(t=e.adCompanions)||void 0===t?void 0:t.endcardCompanions;if(null!=i&&i.length)return this.plugin.adStoppedWithReminder(),this.unsubscribeAll(),this.unmountAdContainer(e.isNoVideoReminder),void this.displayReminder(i);this.endAd()}onAdError(t){this.adControllerInstance.hasActuallyStarted()?this.endAd({adError:t}):(this.reset(),this.plugin.updateAdPosition(js),this.adControllerInstance.continueLoadingAds())}onAdExpandedChange(){this.plugin.adExpandedChange()}onResizeProgrammaticDisplay(){this.plugin.programmaticDisplayLoaded()}endAd(){let{userInteraction:t=!1,adError:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.adEnded)return;this.hooksManager.beforeEndAd({userInteraction:t,adError:e}),this.adEnded=!0;const{currentAd:i}=this.adControllerInstance||{},n=r(Z(i));if(this.itShouldLoop(n))return this.reset(),this.unmountAdContainer(),void(!n||this.config.loop.autoStart?this.restart():this.wind.addEventListener("scroll",this.restart,!0));const s=this.getPlayedAdCount();return lo.hasAlternativeToDisplay(this.config,s)?(this.displayRestart=!1,this.unmountAdContainer(),void this.displayAlternative(n)):this.itShouldDisplayRestart()?(this.reset(),this.unmountAdContainer(),void this.plugin.displayRestart().then((t=>{let{action:e}=t;switch(e){case Os.RESTART:this.restart();break;case Os.CLOSE:this.displayRestart=!1,this.close({adHasBeenPlayed:!1,userInteraction:!0})}})).catch((t=>{this.close({adHasBeenPlayed:!1,err:t})}))):void this.close({adHasBeenPlayed:n,userInteraction:t,err:e})}close(){var t;let{adHasBeenPlayed:e,userInteraction:i,err:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state!==Gs&&(this.hooksManager.beforeClose({adHasBeenPlayed:e,err:n}),this.state=Gs,this.unsubscribeAll(),null===(t=this.adControllerInstance)||void 0===t||t.destroy(),this.unmountAdContainer(),this.removeElements(i),this.unregister(),this.hooksManager.afterClose())}unsubscribeAll(){this.wind.removeEventListener("touchstart",this.start,!1)}displayReminder(t){var e,i=this;const{it:n,ava:r,options:s}=this.config,{adTrackingEvents:o,isNoVideoReminder:a}=(null===(e=this.adControllerInstance)||void 0===e?void 0:e.currentAd)||{},d=this.plugin.getAvailablePositions({hasAva:r.enabled,isReminder:!0}),l=function(){let{userInteraction:t,err:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&C.error("Creating the reminder",e),t?i.endAdByUserInteraction():i.endAd()},c=So.createController({companionAds:t,it:n,ava:r,options:s,isNoVideoReminder:a,availablePositions:d,device:this.device}),h=this.eventSubscriberFactory(c,{emitHooks:!0});h.subscribeOnce({[Ls.STARTED]:I,[Ls.SKIPPED]:()=>l({userInteraction:!0}),[Ls.ENDED]:()=>l(),[Ls.ERROR]:t=>l({err:t})}),h.subscribe({[Ls.CLICK]:()=>{o.fire($i)}}),c.init()}displayAlternative(t){var e=this;const i=this.getPlayedAdCount(),n=lo.isDisplayAva(this.config),r=this.plugin.getAvailablePositions({hasAva:n,isAlternative:!0}),s=function(){let{userInteraction:i,err:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&C.error("Creating Alternative",n),delete e.config.alternative,e.state<Gs?e.close({adHasBeenPlayed:t}):e.removeElements(i)},o=lo.create({api:this.api,wind:this.wind,config:this.config,instanceIndex:this.instanceIndex,device:this.device,macroValues:this.macroValues,playedAdCount:i,availablePositions:r});this.eventSubscriberFactory(o,{emitHooks:!0}).subscribeOnce({[to]:()=>{this.close({adHasBeenPlayed:t})},[eo]:I,[io]:function(){s(...arguments)},[no]:t=>{s({err:t})}}),o.init()}removeElements(t){this.plugin.removeElements(t),this.cleanAllElements(),this.noMoreContentAvailable()&&Sn(this.config.options.removeMs).then((()=>{this.hooksManager.noMoreContentAvailable()}))}noMoreContentAvailable(){const t=this.getPlayedAdCount();return r(lo.hasAlternativeToDisplay(this.config,t))&&r(this.itShouldDisplayRestart())&&this.plugin.hasEffectiveTrackerBeenFired()}cleanAllElements(){try{const t=`.${g}-companion-container.${g}-ava[data-it="${this.config.it}"]`;J(this.wind.document.querySelector(t))}catch{}}unregister(){try{ni.removeByApi(this.api),C.info("Instance closed",this)}catch(t){C.error("On instance close",t)}}}const Ro=function(t){return{create:e=>new ko(e,t)}},Mo={get(t){const e=Wt(JSON.parse,T(le));try{return e(localStorage.getItem(t))}catch{return null}},save(t,e){if(!Z(t))try{localStorage.setItem(t,JSON.stringify(e))}catch{}},remove(t){try{localStorage.removeItem(t)}catch{}}},Po={get:t=>Promise.resolve(Mo.get(t)),save(t,e){Mo.save(t,e)},remove(t){Mo.remove(t)}};async function Do(defaultConfig){const t=(null==defaultConfig?void 0:defaultConfig.DEBUG)||await Po.get(b.DEBUG);C.setMode(t),C.info("DEBUG",t)}const Lo=new Error("Ad blocker detected!"),No=new Error("Ad blocker request error!"),Oo=new Error("Blacklisted!");function Vo(){return new Promise(((t,e)=>{const i=ut({type:"script",id:"adblocker-detector",attributes:{src:Yt("https://static.sunmedia.tv/AdBlockDetection/adblockDetector.min.js",{abf:["-adserver-","-doubleclick.js","-google-ad.","-google-adsense."].join("|"),ref:window.location.href})},events:{error:()=>e(No),load:()=>{j(window.adblockDetector)?e(Oo):window.adblockDetector.init({debug:!1,fireNow:!0,complete:i=>i?e(Lo):t()})}}});pt(document.head,i)}))}const Fo="expirationTime";function xo(){return Math.floor(Date.now()/1e3)}const Uo=t=>a(t)?window.btoa(t):t,Bo=t=>a(t)?window.atob(t):t,zo=nt(((t,e)=>localStorage.setItem(e,t))),Wo=t=>localStorage.getItem(t),Ho=t=>localStorage.removeItem(t);function Go(t){try{return S(Ho,Uo)(t),!0}catch(e){return C.error(`removing ${t} from the cache`,e),!1}}const jo={set:function(t,e,i){if(r(t&&e&&i))return C.error("an argument is missing setting to the cache",{key:t,value:e,timeToExpire:i}),!1;try{const n=S(Uo,JSON.stringify),r=function(t){return xo()+t}(i),s=n({...e,[Fo]:r});return S(zo(s),Uo)(t),!0}catch(e){return C.error(`setting ${t} to cache`,e),!1}},get:function(t){try{const e=S(JSON.parse,Bo,Wo,Uo)(t);return r(e)?null:xo()>=e.expirationTime?(Go(t),null):(delete e.expirationTime,e)}catch(e){return C.error(`getting ${t} from cache`,e),Go(t),null}},remove:Go};const Zo=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=mo({init(t){let{httpClient:e}=t;this.httpClient=e},methods:{transformResponse:(t,e)=>({key:t,data:e}),async fetch(t){let e={};if(r(a(t)))return e;try{({data:e}=await this.httpClient.get(t))}catch{}return e}}});return e.compose(t)},$o="geoTarget",Yo=Zo({methods:{async fetchGeolocation(){var t,e,i,n;let s=jo.get($o);return r(s)&&(s=await this.fetch("https://services.sunmedia.tv/geotarget/geocity.php"),jo.set($o,s,3600)),this.transformResponse($o,{...s,country:null===(t=s)||void 0===t||null===(e=t.city)||void 0===e?void 0:e.country,eu_country:null===(i=s)||void 0===i||null===(n=i.city)||void 0===n?void 0:n.EU})}}}),qo=Yo({httpClient:ee});qo.create=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yo(t)};const _o=qo,Qo=(t,e)=>a(t)&&a(e)?`https://static.sunmedia.tv/SMSdk/tracker/${t}/${e}`:null,Xo=Zo({methods:{async fetchDefaultTrackers(t,e){const i=Qo(t,e),n=await this.fetch(i);return this.transformResponse("defaultTrackers",n.default_tracker)},async fetchDefaultTags(t,i){const n=Qo(t,i),r=await this.fetch(n),{device:s}=e,o=s.toUpperCase();return this.transformResponse("defaultTags",r[o])}}}),Ko=Xo({httpClient:ee});Ko.create=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Xo(t)};const Jo=Ko;function ta(t){const{client:e,defaultTrackers:i,defaultTags:n,defaultTrackersPath:s,defaultTagsPath:o,options:a}=t,d=[()=>_o.fetchGeolocation()];return r(i)&&d.push((()=>Jo.fetchDefaultTrackers(e,s))),r(n||(null==a?void 0:a.ignoreDefaultTags))&&d.push((()=>Jo.fetchDefaultTags(e,o))),d}const ea=["safeframe.googlesyndication.com"],{REFERRER_URL:ia}=U,na={hooks:{beforeInit(t){const e=window.location.href,i=t.macroValues[ia]||e;var n;if(n=i,ea.some((t=>n.includes(t))))throw new Error(`The referrer ${i} is not allowed`)}}},ra=["517","438","45","165","755"];function sa(t){if(r(ra.every((e=>null==t?void 0:t[e]))))throw new Error("Not all of the mandatory vendors are authorized")}const{CONSENT_STRING:oa,GDPR_APPLIES:aa}=U,da=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;try{if(n(e[t]))return e[t]}catch{return null}return e===e.top?null:da(t,e.parent)},la=function(){let{cmpFunctionState:t,gdprApplies:e,consentString:i,areVendorsAuthorized:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{cmpFunctionState:t,...kt(e)&&{[aa]:e?m:A},...kt(i)&&{[oa]:i},...i&&{areVendorsAuthorized:n}}},ca=t=>{S(k(2,ni.setState.bind(ni))(f),la)(t)},ha=(t,e)=>{if(r(e&&t))return void ca({cmpFunctionState:v.FOUND});const{gdprApplies:i,tcString:n,vendor:s}=t;let o=!1;try{sa(null==s?void 0:s.consents),o=!0}catch{}ca({cmpFunctionState:v.FOUND,gdprApplies:i,consentString:n,areVendorsAuthorized:o})};const ua={hooks:{async beforeCreate(t){const{timeToFindCmpFunction:e}=t.userConsentSettings;if(!Boolean(ni.getState(f))){ca({cmpFunctionState:v.SEARCHING});try{await async function(t,e){await Ir((()=>new Promise(((e,i)=>{const s=da("__tcfapi");r(n(s))?i(new Error("No consent data function found")):(s("addEventListener",2,t),e())}))),{...e})}(ha,e)}catch(t){ca({cmpFunctionState:v.NOT_FOUND}),C.warning(t)}}}}},pa=[/(https:\/\/vod\.addevweb\.com)(.*)(3CQHtX)/i,/(https:\/\/search\.spotxchange\.com\/vast\/2\.0\/270673)(.*)/i,/(https:\/\/tpc\.googlesyndication\.com\/ima3vpaid)(.*)(https%3A%2F%2Fpubads\.g\.doubleclick.net)(.*)(iu%3D%2F143394101%2Fca-video-pub-8221793852898543-tag%2FADXPEPSISONIDOON)/i],ma={hooks:{beforeAdLoaded(t){if("mobile"===t.device){var e;const{adData:i={}}=(null===(e=t.adControllerInstance)||void 0===e?void 0:e.currentAd)||{},{fromTag:n}=i;pa.some((t=>null!=n.match(t)))&&(t.config.options.up=!0,t.config.ava.enabled=!0,t.config.ava.forceStart=!0,t.config.ava.position="top",t.config.ava.procterApplies=!0)}},beforeAdStarted(t){if(!0===t.config.ava.procterApplies){const{playerUI:e}=t.adControllerInstance;e.updateVideoPlayer({skip:!1}),setTimeout((()=>{var i,n,r;e.isMuted&&(e.isMuted=e.onStateChange(e.isMuted,"sm-volume-off"),null==t||null===(i=t.adControllerInstance)||void 0===i||null===(n=i.currentAd)||void 0===n||null===(r=n.linearCreative)||void 0===r||r.setAdVolume(.001))}),2e3)}}}},Aa=["https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077366525","https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077415223","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403384/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545832","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403385/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545833","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403386/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545827","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403387/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545830","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403388/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545831","https://vast.adsafeprotected.com/vast/fwjsvid/st/937094/60403389/skeleton.js?includeFlash=false&originalVast=https://bs.serving-sys.com/Serving/adServer.bs?c=23&cn=display&pli=1077545829","https://vast.adsafeprotected.com/vast/fwjsvid/st/993018/61657046/skeleton.js?includeFlash=false&originalVast=https://vast.doubleverify.com/v3/vast?_media=3&ctx=16043422&cmp=1074419567&sid=1073896534&plc=1077755571&adsrv=166&psf=0&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1077755571","https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074465222&sid=1073896534&plc=1078055832&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078055832","https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074481446&sid=1073896534&plc=1078146694&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078146694","https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074481446&sid=1073896534&plc=1078146693&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078146693","https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074492740&sid=1073896534&plc=1078210600&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078210600","https://unified.adsafeprotected.com/v2/1121766/64788599?mon=64788600&omidPartner=[OMIDPARTNER]&apiframeworks=[APIFRAMEWORKS]&bundleId=[BUNDLEID]&ias_xappb=[ctv_appid]&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074497591&sid=1073896534&plc=1078234684&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078234684","https://unified.adsafeprotected.com/v2/1121766/64788601?mon=64788602&omidPartner=[OMIDPARTNER]&apiframeworks=[APIFRAMEWORKS]&bundleId=[BUNDLEID]&ias_xappb=[ctv_appid]&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074497591&sid=1073896534&plc=1078234681&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078234681","https://unified.adsafeprotected.com/v2/1121766/64788603?mon=64788604&omidPartner=[OMIDPARTNER]&apiframeworks=[APIFRAMEWORKS]&bundleId=[BUNDLEID]&ias_xappb=[ctv_appid]&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074497591&sid=1073896534&plc=1078234682&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078234682","https://unified.adsafeprotected.com/v2/1121766/64788605?mon=64788606&omidPartner=[OMIDPARTNER]&apiframeworks=[APIFRAMEWORKS]&bundleId=[BUNDLEID]&ias_xappb=[ctv_appid]&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074497591&sid=1073896534&plc=1078234683&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078234683","https://vast.adsafeprotected.com/vast/fwjsvid/st/1128364/64872841/skeleton.js?includeFlash=false&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074501115&sid=1073896534&plc=1078260277&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078260277","https://vast.adsafeprotected.com/vast/fwjsvid/st/1192201/66038785/skeleton.js?includeFlash=false&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074530845&sid=1073896534&plc=1078438382&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078438382","https://vast.adsafeprotected.com/vast/fwjsvid/st/1210419/66328133/skeleton.js?includeFlash=false&originalVast=https://ads-dv.serving-sys.com/v3/vast?_media=3&ctx=16043422&cmp=1074530845&sid=1073896534&plc=1078462534&advid=129625&adsrv=115&_vast=https%3A%2F%2Fbs.serving-sys.com%2FServing%2FadServer.bs%3Fc%3D23%26cn%3Ddisplay%26pli%3D1078462534"];const va={hooks:{beforeAdLoaded(t){if("mobile"===t.device){var e;const{it:i}=t.config,{adData:n={}}=(null===(e=t.adControllerInstance)||void 0===e?void 0:e.currentAd)||{},{fromTag:r}=n;Aa.filter((t=>r.indexOf(t)>-1)).length>0&&(function(t){const e=`div[data-id="${t}"], div[class*="${t}"], script[src*="${t}"]`;[...document.querySelectorAll('div[id^="google_ads_"], div[aria-roledescription="Publicidad"]')].forEach((t=>{const i=t.querySelectorAll(e);t&&t.parentNode&&0===i.length&&t.parentNode.removeChild(t)}))}(i),function(t){[...document.querySelectorAll('div[id*="_frame_"][data-device="mobile"], div[class*="-reference-"]')].forEach((e=>{let i=!1;const n=e.getAttribute("data-id");i=n?n===t:e.getAttribute("class").indexOf(t)>-1,e.parentNode&&!i&&e.parentNode.removeChild(e)}))}(i))}}}},ga=["https://creatives.sunmedia.tv/4bb1abdf-2900-44ba-aff8-fc19bc118f4c/4bb1abdf-2900-44ba-aff8-fc19bc118f4c.xml","https://vast.sunmedia.tv/creatives/4bb1abdf-2900-44ba-aff8-fc19bc118f4c","https://creatives.sunmedia.tv/377fe620-b364-4b06-a489-77924d04e3f2/377fe620-b364-4b06-a489-77924d04e3f2.xml","https://vast.sunmedia.tv/creatives/377fe620-b364-4b06-a489-77924d04e3f2"];function fa(t){var e;let{adControllerInstance:i}=t;const{fromTag:n}=(null==i||null===(e=i.currentAd)||void 0===e?void 0:e.adData)||{};return ga.some((t=>n.includes(t)))}const ba={hooks:{beforeAdLoaded(t){fa(t)&&t.disableAva()},beforeAdError(t){fa(t)&&t.restoreAva()}}};const ya=k(2,((t,e)=>{const i=["desktop","mobile"];if(!i.includes(t))throw Error("The provided device does not exist");return function e(r){let s;return s=R(r)?N((t=>e(t)),r):n(r)?void 0:M(r)?function(n){let r=n.constructor?new n.constructor:{};return x(n,((n,s)=>{const o=null==s?void 0:s.toLowerCase();o===t?r=e(n):i.includes(o)||(r[s]=e(n))})),r}(r):r,s}(e)}));function Ea(t){const{inblock:e,options:i}=t,n=i.inblock||e.enabled;return{...t,inblock:{...e,enabled:n}}}function Ca(t){const e=t.priority===c.SUNMEDIA;return{...t,isSunmediaPriority:e}}const Ia=t=>{let{css:e}=t;return a(e)?e.replace(/\r?\n|\r/g,""):e},Ta=t=>{let{margin:e}=t;return tt(e)&&e>0?e:0},wa=t=>{let{class:e}=t;return a(e)?e.trim().split(","):e},Sa=t=>{let{reminder:e,skipReminder:i,skipReminderTime:n}=t;const r=i&&Q(n)?n:e.displayCloseBtnTime;return{...e,displayCloseBtnTime:1e3*r}};function ka(t){const{options:e}=t,i={...e,css:Ia(e),muted:!!e.autoplay||e.muted,..."margin"in e&&{margin:Ta(e)},..."class"in e&&{classList:wa(e)},..."reminder"in e&&{reminder:Sa(e)}};return delete i.skipReminder,delete i.skipReminderTime,{...t,options:i}}function Ra(t){const e=t.length;let i=0;return e>1&&(i=Math.floor(Math.random()*e)),t[i]}const Ma=t=>R(t)?t:[t],Pa=t=>{let e=null;return V(null==t?void 0:t.content)?e=t.content:V(t)&&(e=t),{content:e,iframe:(null==t?void 0:t.iframe)??!1}},Da=t=>({...t,content:null!=t&&t.content?G.decode(t.content):null==t?void 0:t.content});function La(t){const e=(t=>{let{alternative:e,banner:i={}}=t;return Jt(e,i)})(t),i=S(Da,Pa,Ra,Ma)(e.tag);return{...t,alternative:{...e,tag:void 0,...i}}}const Na=k(2,((t,e)=>{const{tags:i={},defaultTags:n={},priority:r=c.SUNMEDIA,options:s={},bannedSizes:o=[]}=e,{TYPE:a,MODE:d}=h,{sm:l=[],client:p=[]}=i||{},{BANNER:m=[],VAST:A=[]}=s.ignoreDefaultTags?{}:n||{},v=function(t){const[e]=t.toLowerCase();return(t,i)=>function(t,e,i){return(n,r)=>{const{type:s,trafficType:o,position:a=r+1}=n,[d]=o.toLowerCase(),l=s||`${t}${e}${i}${a}`;return{...n,pbt:d,pbid:l,isSunmedia:!0}}}(t,i,e)}(t),g=A.map(v(a.DEFAULT,d.VAST)),f=l.map(v(a.INTEGRATION,d.VAST)),b=m.map(v(a.DEFAULT,d.BANNER)),y={[c.SUNMEDIA]:[...g,...f,...b],[c.CLIENT]:[...p.map((t=>({url:t,isSunmedia:!1})))]},E=r!==c.SUNMEDIA?c.SUNMEDIA:c.CLIENT,C=S(L(function(t){const{SIZE:e}=u.TAG_PARAMS;return i=>{let{url:n}=i;const r=pe(n);return Boolean((t=>t.startsWith("https://vast.sunmedia.tv/creatives"))(n)&&r[e]&&t.includes(r[e]))}}(o)),D((t=>{let{url:e}=t;return e&&e.length>0})))([...y[r],...s.pod?y[E]:[]]);return{...e,adTags:C}}));function Oa(t){return{adTags:[{url:t,trafficType:"DIRECT",isSunmedia:!0}],loop:{enabled:!1}}}const Va=k(2,((t,e)=>{const i=(null==t?void 0:t.split("#")[1])||"";let n={};i.split("&").forEach((t=>{const[e,i]=t.split("="),r=decodeURIComponent(null==i?void 0:i.trim());n={...n,...l.TAGS.includes(e)&&{...Oa(r)},...l.DEBUG.includes(e)&&{DEBUG:!0}}}));const{adTags:r,loop:s,DEBUG:o}=n;return{...e,...o&&{DEBUG:o},...r&&{adTags:r},...s&&{loop:s}}}));function Fa(t,e){return`\n    div.sm-ad-container[data-it="${t}"],\n    div.sm-it-main-container[data-it="${t}"] .sm-reference,\n    div.sm-companion-container[data-it="${t}"][data-type='Main'],\n    div.sm-companion-container[data-it="${t}"][data-type='Remember'] {\n      opacity: 0;\n    }\n    div.sm-ad-container[data-it="${t}"],\n    div.sm-companion-container[data-it="${t}"][data-type='Main'] {\n      z-index: ${e} !important;\n    }\n    div.sm-companion-container[data-it="${t}"][data-type='Remember'] {\n      z-index: ${e-1} !important;\n    }`}function xa(t){return t.inblock&&!0===t.inblock.enabled&&!t.inblock.exceptCountries.includes(t.geoTarget.country)}function Ua(t){var e;if(r(xa(t)))return t;const i=Tn("height")(t.ava.width,t.options.ratio);let n=Fa(t.it,-5e4);const s=t.integrationInstances.map(((e,r)=>{if(0===r)return{...e};const s=i*r+t.inblock.avaMargin;return n+=e.css||"",{...e,config:{...e.config,ava:{bottom:s},silentTrackers:!0,alternative:{content:null}}}}));return{...t,integrationInstances:s,options:{...t.options,css:`${(null===(e=t.options)||void 0===e?void 0:e.css)||""} ${n}`},ava:{...t.ava,enabled:!0,forceStart:!0,position:"bottom_left"}}}async function Ba(t){return Jt(t,await Po.get(b.CONFIG))}function za(t){const{options:e}=t;if(se(e.forceSize))return t;const{enabled:i,ratio:n}=e.forceSize;return{...t,options:{...e,forceSize:i,...i&&{ratio:n}}}}const Wa=k(3,((t,e,i)=>{const{ava:n,options:r,geoTarget:s}=i,o=n.enabled&&r.up,a=function(t){return["left","right"].includes(t)?`bottom_${t}`:t}(n.position),d=0!==n.bottom?n.bottom:e[t].bottom,l=function(t){let{ava:e,geoTarget:i}=t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const{width:s,margin:o,position:a,widthCoefficient:d}=e;if(Rt(s))return s;if("desktop"===n)return 0;const l=r.screen.width,[,c]=(null==a?void 0:a.split("_"))||[];let h;h=c?l*("ES"===(null==i?void 0:i.country)?d.spain:d.generic):l-2*o;return kn(h)}({ava:n,geoTarget:s},t,rt());return{...i,ava:{...n,forceStart:o,position:a,bottom:d,maxWidth:l}}}));function Ha(t){const{sizes:e}=t,i=R(e)?S(L((t=>e.includes(t))),Object.keys)(Ps):[];return{...t,bannedSizes:i}}const Ga={DEBUG:!1,path:"outstream-sdk-js/intext",geoTarget:{},integrationInstances:null,seekerSettings:{maxIntents:20,findTimeout:500},userConsentSettings:{timeToWaitForUserConsent:{attempts:5,delay:500},timeToFindCmpFunction:{attempts:11,delay:200}},it:null,client:null,publisher:null,category:null,gfkCategory:null,sdkType:null,defaultTrackers:null,defaultTrackersPath:null,defaultTags:null,defaultTagsPath:null,options:{skip:!0,skipTime:20,skipReminder:!1,skipReminderTime:0,ignoreDefaultTags:!1,pod:!1,fold:!1,forceSize:{enabled:!1,ratio:"4:3"},restart:!1,inblock:!1,audio:!1,up:!1,classMandatory:!1,class:[],classPosition:0,adPosition:null,margin:0,genericExtras:[],extra:null,callback:"",css:"",reminder:{mainRatio:"16:9",displayCloseBtnTime:10},strictPosition:!1,excludeNodeTagNames:["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","u"],autoplay:!0,muted:!0,touchstart:!1,ratio:"4:3",mainContainer:{ratio:"4:3",foldHeight:0,marginTop:10,marginBottom:20,expandAlways:!1},reference:{backgroundColor:"#e7e7e7"},useSaferWayToFindPosition:!1,windowHeightPadding:40,programmaticDisplayRatio:"16:9",removeMs:8e3,adContainerParent:null,containingBlock:null,allowDuplicates:!1,googleIMA:{enabled:!0,encapsulateIMA:!0}},inblock:{enabled:!1,items:3,exceptCountries:["ES","MX","CO"],avaMargin:10},sizes:null,tags:{client:{desktop:[],mobile:[]},sm:{desktop:[],mobile:[]}},priority:{desktop:"",mobile:""},ava:{desktop:{enabled:!1,forceSize:!1,width:420,position:"bottom_right",margin:20,bottom:60},mobile:{enabled:!1,forceSize:!1,position:"bottom_right",margin:20,bottom:60,widthCoefficient:{generic:.5,spain:.63}}},loop:{desktop:{enabled:!1,times:3,autoStart:!0,onlyOneVideo:!1},mobile:{enabled:!1,times:3,autoStart:!0,onlyOneVideo:!1}},alternative:{desktop:{tag:[],schedule:"empty",display:"fixed",position:"right",margin:20,bottom:20},mobile:{tag:[],schedule:"empty",display:"fixed",position:"right",margin:20,bottom:20}}};const ja=k(2,((t,e)=>{const i=Number(e);if(i<0||r(tt(i)))throw new RangeError("n must be a non-negative number");const n=new Array(i);for(let e=0;e<i;e+=1)n[e]=t(e);return n}));function Za(t,e){return`.sm-it-main-container[data-it="${t}"][data-index="${e}"] {\n    display: none !important;\n  }`}function $a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Xe(t,"adPosition"),Xe(e,"instanceIndex"),-1===t)return t;const i=t+e-1;return i<0?0:i}function Ya(t){if(t.options.allowDuplicates)return;if(ni.fetchInstancesOfIntegration(t.it).some((function(e){return e.wind===window&&e.config.options.classPosition===t.options.classPosition})))throw new Error("Integration canceled since it is duplicated")}function qa(t){var e;const{it:i,options:n,inblock:s}=t;let o=null;const a=ni.nextInstanceIndex(i),d=(t,e)=>({index:a+e,config:{options:{domPosition:t}}}),l=(t,e)=>({...t,...e>0&&{css:Za(i,t.index)}}),c=null!==(e=n.adPosition)&&void 0!==e&&e.length?n.adPosition.sort(((t,e)=>t-e)):[function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(K(t)&&K(t.parentElement)))return-1;const i=i=>{var n;return i!==t&&(null==e||null===(n=e.excludeNodeTagNames)||void 0===n?void 0:n.includes(i.tagName.toLowerCase()))};return S((n=t,t=>t.findIndex((t=>t===n))),L(i),Array.from)(t.parentElement.children||[])+1;var n}(null===(h=ve(t))||void 0===h?void 0:h.$element,t.options)];var h;if(xa(t)){const t=c[0],e=s.items||1;o=ja((()=>t),e).map($a).map(d).map(l)}else o=c.map($a).map(d);return{...t,integrationInstances:o}}function _a(t,e){const{integrationInstances:i,inblock:n}=t,s={ava:{},alternative:{},...((i||[]).find((t=>t.index===e))||{}).config};return r(n.enabled)&&(ni.fetchAllInstances().some((t=>{let{config:e}=t;return e.ava.enabled}))&&(s.ava.enabled=!1),ni.fetchAllInstances().some((t=>{let{config:e}=t;return e.alternative.display===Js}))&&(s.alternative.display=Ks)),Jt(t,s)}const Qa={async beforeCreate(defaultConfig){const{device:t}=e,{location:{href:i}}=document,{ava:n}=Ga,r=await function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return function(){const e=t(...arguments);return i.reduce((async(t,e)=>e(await t)),e)}}(Ba,ya(t),Ea,Ca,ka,za,qa,Wa(t,n),La,Ha,Na(t),Va(i),Ua)(defaultConfig);Object.assign(defaultConfig,r),delete defaultConfig.tags,delete defaultConfig.defaultTags,delete defaultConfig.priority}},Xa={hooks:Qa},Ka={hooks:{beforeCreate(t){const{options:e}=t;e.mainContainer.marginBottom=0,e.mainContainer.marginTop=0},beforeMount(t){const{plugin:e,config:{options:i}}=t,{width:n,height:r}=At(e.$mainPositionParent)||{};n&&r&&(i.ratio=`${Math.round(n)}:${Math.round(r)}`)}}},Ja={hooks:{beforeInit(t){const{options:e,ava:i}=t.config;i.enabled&&e.up&&(i.forceStart=!1)},afterAdLoaded(t){const{options:e,ava:i}=t.config;i.enabled&&e.up&&(i.forceStart=!0,setTimeout((()=>{t.state>=Us||(t.plugin.fireTracker(Lt.EFFECTIVE),t.onAdLoaded())}),5e3))}}},td=k(2,((t,e)=>N((e=>function(){t(...arguments)||e(...arguments)}),e))),ed={HEIGHT:22,WIDTH:84,SVG:'    \n    <svg width="84" height="11" viewBox="0 0 84 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g clip-path="url(#clip0_7_52)">\n        <rect width="84" height="11" fill="white" />\n        <path d="M43.8253 8.28426C42.3579 8.28426 41.0808 7.9594 40.868 6.69357H42.033C42.2458 7.28728 42.974 7.3769 43.9598 7.3769C45.1584 7.3769 45.7745 7.17526 45.7745 6.53674V6.45833C45.7745 6.23429 45.6961 6.06626 45.5504 5.95424C45.4048 5.84222 45.1136 5.78621 44.6879 5.7638L43.0076 5.69659C41.6073 5.64058 41.0472 5.17009 41.0472 4.19552V4.13951C41.0472 2.87367 41.9882 2.36958 43.7469 2.36958H43.9261C45.3488 2.36958 46.5362 2.75045 46.7715 3.99388H45.6065C45.4384 3.41137 44.7439 3.26575 43.7917 3.26575C42.5819 3.26575 42.1674 3.51219 42.1674 4.03869V4.07229C42.1674 4.29633 42.2458 4.46437 42.3803 4.57639C42.5259 4.6772 42.8171 4.74442 43.254 4.76682L44.9343 4.82283C46.3346 4.87884 46.8835 5.34933 46.8835 6.3239V6.42472C46.8835 7.84738 45.7521 8.28426 44.0046 8.28426H43.8253Z" fill="black" />\n        <path d="M47.6451 3.85954H48.6532V6.37999C48.6532 7.25375 49.1349 7.39938 49.7734 7.39938C50.1655 7.39938 50.4792 7.32097 50.692 7.15294C50.9161 6.9849 51.0393 6.66005 51.0393 6.20076V3.85954H52.0587V8.19473H51.0393V7.45539H50.9945C50.7928 7.93708 50.3335 8.27314 49.4486 8.27314C48.3956 8.27314 47.6339 7.89227 47.6339 6.58163V3.85954H47.6451Z" fill="black" />\n        <path d="M57.3573 8.19468H56.3491V5.67422C56.3491 4.80046 55.8787 4.65483 55.2289 4.65483C54.8369 4.65483 54.5232 4.73325 54.2992 4.91248C54.0751 5.08051 53.9631 5.39417 53.9631 5.86465V8.20588H52.9437V3.85949H53.9631V4.59882H54.0079C54.232 4.11714 54.6688 3.78107 55.5538 3.78107C56.618 3.78107 57.3685 4.15074 57.3685 5.47258V8.19468H57.3573Z" fill="black" />\n        <path d="M66.3749 8.19463H65.2771V3.44496H65.2323L62.9134 8.19463H61.8156L59.5192 3.44496H59.4744V8.19463H58.3766V2.47038H60.3146L62.3981 6.79437H62.4429L64.5489 2.47038H66.3749V8.19463V8.19463Z" fill="black" />\n        <path d="M71.8528 6.95125C71.6287 7.81381 70.9678 8.2843 69.6124 8.2843H69.4667C68.0105 8.2843 67.1591 7.7354 67.1591 6.14471V5.92066C67.1591 4.32997 68.0105 3.78107 69.4667 3.78107H69.6012C71.0574 3.78107 71.8976 4.30757 71.8976 5.88706V6.25673H68.1897C68.2233 7.29852 68.7162 7.46655 69.5452 7.46655C70.2621 7.46655 70.643 7.34332 70.8334 6.94005H71.8528V6.95125ZM68.2009 5.5734H70.8894V5.53979C70.8894 5.14772 70.7662 4.87887 70.5085 4.73325C70.2621 4.59882 69.9372 4.52041 69.534 4.52041C68.761 4.52041 68.2569 4.67724 68.2009 5.5734Z" fill="black" />\n        <path d="M77.3418 8.19463H76.3336V7.5113H76.3C76.076 7.99299 75.6391 8.28424 74.6869 8.28424H74.5637C73.3091 8.28424 72.4129 7.80256 72.4129 6.17826V5.88701C72.4129 4.26271 73.3091 3.78102 74.5637 3.78102H74.6869C75.6391 3.78102 76.076 4.07228 76.3 4.55396H76.3336V2.47038H77.3418V8.19463ZM76.3224 6.11105V5.95422C76.3224 4.83401 75.8071 4.64358 74.8773 4.64358C73.9364 4.64358 73.4323 4.83401 73.4323 5.95422V6.09984C73.4323 7.22005 73.9364 7.41048 74.8773 7.41048C75.8071 7.41048 76.3224 7.22005 76.3224 6.11105Z" fill="black" />\n        <path d="M79.1117 2.47038V3.27693H78.0923V2.47038H79.1117ZM79.1117 3.85944V8.19463H78.0923V3.85944H79.1117Z" fill="black" />\n        <path d="M84.2981 8.19468H83.2899V7.50015H83.2563C83.0547 7.97064 82.5618 8.27309 81.5088 8.27309C80.3438 8.27309 79.694 7.82501 79.694 6.92885V6.88404C79.694 6.06629 80.1645 5.64061 81.1727 5.59581L83.2787 5.50619V5.42777C83.2787 4.67724 82.8754 4.52041 82.0689 4.52041C81.3744 4.52041 81.0495 4.68844 80.8927 5.11412H79.8621C80.0637 4.21795 80.691 3.78107 82.0577 3.78107H82.1921C83.626 3.78107 84.2869 4.19555 84.2869 5.51739V8.19468H84.2981ZM80.7246 6.89524C80.7246 7.37693 81.1167 7.56737 81.8 7.56737C82.7522 7.56737 83.2787 7.17529 83.2787 6.48077V6.18951L81.5088 6.26793C80.9599 6.29033 80.7246 6.45836 80.7246 6.86164V6.89524V6.89524Z" fill="black" />\n        <path d="M38.3923 4.6325H34.9869C34.6284 4.6325 34.4156 4.22923 34.6172 3.92677L36.6896 1.05905C36.824 0.857413 36.7792 0.56616 36.5664 0.431735L36.0511 0.0844721C35.8494 -0.0499524 35.5694 -0.00514438 35.4237 0.207694L33.0713 3.48989C32.8921 3.75874 32.5 3.75874 32.3208 3.48989L29.9347 0.196493C29.8003 -0.00514421 29.5091 -0.0611547 29.3074 0.0732698L28.7921 0.420533C28.5905 0.554958 28.5345 0.846211 28.6689 1.04785L30.7749 3.91557C30.9765 4.21802 30.7637 4.6213 30.4052 4.6213H26.9998C26.7534 4.6213 26.5517 4.82294 26.5517 5.06938V5.69669C26.5517 5.94314 26.7534 6.14478 26.9998 6.14478H30.4052C30.7637 6.14478 30.9765 6.54805 30.7749 6.85051L28.7025 9.69582C28.5681 9.89746 28.6129 10.1887 28.8257 10.3231L29.341 10.6704C29.5427 10.8048 29.8227 10.76 29.9684 10.5472L32.3208 7.28738C32.5 7.01853 32.8921 7.01853 33.0713 7.28738L35.4237 10.5472C35.5582 10.7488 35.8494 10.8048 36.0511 10.6704L36.5664 10.3231C36.768 10.1887 36.824 9.89746 36.6896 9.69582L34.6172 6.87291C34.4156 6.57045 34.6284 6.16718 34.9869 6.16718H38.3923C38.6387 6.16718 38.8404 5.96554 38.8404 5.7191V5.08058C38.8404 4.83414 38.6387 4.6325 38.3923 4.6325ZM33.3738 5.49506L32.2872 6.12237C32.2088 6.16718 32.0967 6.11117 32.0967 6.01035V4.75572C32.0967 4.6549 32.1976 4.59889 32.2872 4.6437L33.3738 5.27102C33.4634 5.32703 33.4634 5.45025 33.3738 5.49506Z" fill="url(#paint0_linear_7_52)" />\n        <path d="M12.6125 6.72271V5.71718H16.4896V6.72271H12.6125ZM11.154 8L13.9079 2.13894H15.2123L17.9934 8H16.6799L14.2702 2.71871H14.85L12.4585 8H11.154ZM20.8307 8.09965C20.3777 8.09965 19.9671 8.00302 19.5987 7.80976C19.2363 7.61047 18.9494 7.33569 18.7381 6.98541C18.5267 6.6291 18.421 6.21843 18.421 5.75341C18.421 5.27631 18.5237 4.86263 18.729 4.51235C18.9404 4.16208 19.2272 3.89031 19.5896 3.69706C19.952 3.49776 20.3656 3.39812 20.8307 3.39812C21.2353 3.39812 21.5795 3.45851 21.8634 3.57929C22.1472 3.70008 22.3767 3.86918 22.5518 4.08659C22.727 4.29796 22.8538 4.54557 22.9323 4.82941C23.0169 5.11325 23.0591 5.42125 23.0591 5.75341C23.0591 6.01914 23.0169 6.2909 22.9323 6.56871C22.8478 6.84047 22.7179 7.09412 22.5428 7.32965C22.3676 7.55914 22.1382 7.74635 21.8543 7.89129C21.5705 8.0302 21.2293 8.09965 20.8307 8.09965ZM21.2111 7.19376C21.5674 7.19376 21.8754 7.13337 22.1351 7.01259C22.3948 6.8918 22.5941 6.72271 22.733 6.50529C22.8719 6.28788 22.9414 6.03725 22.9414 5.75341C22.9414 5.44541 22.8689 5.18573 22.724 4.97435C22.5851 4.75694 22.3858 4.59086 22.1261 4.47612C21.8724 4.36137 21.5674 4.304 21.2111 4.304C20.7099 4.304 20.3203 4.43686 20.0425 4.70259C19.7647 4.96831 19.6258 5.31859 19.6258 5.75341C19.6258 6.04329 19.6923 6.29694 19.8251 6.51435C19.958 6.72573 20.1422 6.8918 20.3777 7.01259C20.6193 7.13337 20.8971 7.19376 21.2111 7.19376ZM22.9414 1.686H24.119V8H23.0229C23.0048 7.8611 22.9867 7.68294 22.9685 7.46553C22.9504 7.24208 22.9414 7.03373 22.9414 6.84047V1.686Z" fill="black" />\n      </g>\n      <defs>\n        <linearGradient id="paint0_linear_7_52" x1="26.549" y1="5.38782" x2="38.8382" y2="5.38782" gradientUnits="userSpaceOnUse">\n          <stop stop-color="#FF6800" />\n          <stop offset="1" stop-color="#FF9000" />\n        </linearGradient>\n        <clipPath id="clip0_7_52">\n          <rect width="84" height="11" fill="white" />\n        </clipPath>\n      </defs>\n    </svg>'},id={hooks:td((t=>xa((null==t?void 0:t.config)||t)),{mounted(t){const{fold:e,margin:i}=t.config.options;t.$label=ut({id:t.api,name:"it-label",style:{visibility:"hidden",position:"relative",height:e?0:`${ed.HEIGHT}px`,margin:`auto ${i/2}px`},content:ed.SVG}),t.plugin.$mainContainer.insertAdjacentElement("afterend",t.$label),it(t.$label.firstElementChild,{width:`${ed.WIDTH}px`,height:`${ed.HEIGHT}px`,position:"absolute",right:0});const n=_s.createObservable(t.plugin.$mainContainer);t.mainContainerWidthChangeSubscription=n.subscribe(os((t=>null==t?void 0:t.width),(e=>it(t.$label,{width:e.width})))),t.mainContainerHeightChangeSubscription=n.subscribe(os((t=>null==t?void 0:t.height),(()=>{t.mainContainerHeightChangeSubscription.unsubscribe();const{style:e}=t.plugin.$mainContainer;it(t.$label,{visibility:"visible",height:`${ed.HEIGHT}px`,"margin-top":`-${e.marginBottom}`})})))},afterRemoveMainContainer(t){t.mainContainerWidthChangeSubscription.unsubscribe(),t.mainContainerHeightChangeSubscription.unsubscribe(),J(t.$label)}})},nd={hooks:{beforeCreate(t){let e=null;for(let i=0;i<t.options.classList.length&&(e=document.querySelectorAll(t.options.classList[i]).length,!e);i+=1);e&&Object.assign(t.options,{classPosition:e-1})}}},rd={hooks:{beforeCreate(t,e){let{deviceDetector:i}=e;const{options:n}=t;n.margin="desktop"===i.device?n.margin:0}}},sd={extra:!0},od={beforeInit(t,e){let{globalObject:i}=e;const n=i.fetchInstancesOfPlugin(t.config.sdkType);if((null==n?void 0:n.length)>1)throw sd}},ad={hooks:od},dd={hooks:{beforeInit(t){Object.assign(t,{wind:t.wind.parent})}}},ld="30px",cd={hooks:td((t=>xa((null==t?void 0:t.config)||t)),{beforeCreate(t){t.options.mainContainer.marginTop=0},mounted(t){t.$label=ut({id:t.api,name:"it-label",prefix:"sunmedia",style:{visibility:"hidden",position:"relative",width:"100%",height:t.config.options.fold?0:ld,"text-align":"center",margin:"0 auto","line-height":"normal"}}),t.$label.innerHTML="Publicidad",t.plugin.$mainContainer.parentNode.insertBefore(t.$label,t.plugin.$mainContainer),t.mainContainerHeightChangeSubscription=_s.createObservable(t.plugin.$mainContainer).subscribe(os((t=>null==t?void 0:t.height),(()=>{t.mainContainerHeightChangeSubscription.unsubscribe(),it(t.$label,{visibility:"visible",height:ld})})))},afterRemoveMainContainer(t){t.mainContainerHeightChangeSubscription.unsubscribe(),J(t.$label)}})};const hd={beforeCreate(t,e){let{globalObject:i}=e;const{options:n}=t,r=i.fetchInstancesOfIntegration(t.it);n.classPosition=r.length},beforeInit(t){const{options:e}=t.config;e.reference.backgroundColor="transparent",e.ratio="53:24",e.mainContainer.marginTop=0,e.mainContainer.marginBottom=0,e.windowHeightPadding=4,e.css="",t.disableAva()},beforeMount(t){const{plugin:{$mainPositionParent:e},config:{options:i}}=t;i.ratio=function(t){const{width:e}=At(t)||{},i=e||300,n=(ft()||100)-4;return Tn("ratio")(i,n)}(e)}},ud={hooks:hd},pd={hooks:{beforeCreate(t){const{options:e}=t||{};e.allowDuplicates=!0}}},md={hooks:{beforeCreate(t){var e;const{region:i}=(null===(e=t.geoTarget)||void 0===e?void 0:e.city)||{};if("FL"===i)throw new Error("Integration blocked for all traffic comming from Florida")}}},Ad={hooks:{beforeCreate(){if(_e())throw new Error("Integration blocked for iOs")}}},vd=["ES"],gd={hooks:{beforeCreate(t){const{country:e}=t.geoTarget||{};if(vd.includes(e))throw new Error(`Integration blocked for the country ${e}`)}}},fd="bottom_right",bd=["MADRID","BARCELONA","MIAMI"];function yd(t){return V(t)&&r(bd.includes(t))}function Ed(){return r(Math.floor(3*Math.random()))}const Cd={hooks:{beforeCreate(t){var e;const{it:i,ava:n,options:r,geoTarget:s}=t;yd(null==s||null===(e=s.city)||void 0===e?void 0:e.findname)&&(n.enabled=!0,n.forceStart=!0,n.position=fd,r.up=!0,r.css+=Fa(i,-1))}}},Id={hooks:{beforeCreate(t){var e;const{it:i,ava:n,options:r,geoTarget:s}=t;yd(null==s||null===(e=s.city)||void 0===e?void 0:e.findname)&&(n.enabled=!0,n.forceStart=!0,n.position=fd,r.up=!0,r.css+=Fa(i,-5e4))}}},Td={hooks:{beforeCreate(t){var e;const{it:i,ava:n,options:r,geoTarget:s}=t;yd(null==s||null===(e=s.city)||void 0===e?void 0:e.findname)&&Ed()&&(n.enabled=!0,n.forceStart=!0,n.position=fd,r.up=!0,r.css+=Fa(i,-5e4))}}},wd="sm-es",Sd={CERRAR:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAABlCAYAAACvIk18AAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZgamFmaGZsZmgMxiM8FAEi2FMk61EMyAAANzUlEQVR4nO3dTUwbZxoH8MeOwfgD4yRGWEFg7aEJElFVxeqh7iXCORApJzikB1cKh3BDVUsqIU9AFcQoUqFVlRscGilUXaSG00rhEFe9lB5W9qGqBVWKVsRN1qiQYENjD5kMezD2jmcM+GPmnYH8fxJS+Iif8Qvzn5n3Y8ZEpU4R0WkichBRIxGZCABOqj0i2iWiHSLaIqI3hW9Id3wnEXmJyMx00wDACEQiSlE+JOjU/hedRHSOcIYA8LYyEVEzEfFEtGumfDh4dd0kADAKLxGdOkVEZyjfpwAAYCLK9yc4dd4QADAWh5nyow8AAAWNZkKHIwCUMmFoEgAUEAwAoIBgAAAFBAMAKCAYAEABwQAACggGAFBAMACAAoIBABQQDACggGAAAAUEAwAoIBgAQAHBAAAKCAYAUEAwAIACggEAFBAMAKCAYAAABQQDACggGABAAcEAAAoIBgBQsOi9ASdBLBYLSD9fWFj4LRKJZPTaHoB6mYjovN4bcZxwHOcaHBy8eubMmYDdbg+YzWbXQT+bzWaXMpnM0uPHjxdDoVCy0hobGxu37HZ7tzpbTPTq1auEx+OZUrtOJpNZSiQSS8FgMFHN/9Or7lFWVlZ6Ozs7r0vreL3e2Xpf16jv9zAIhgpxHOcaGhq63traOnhYGBwkm80uLS8vz/r9/qWjfvbVq1ff2my2wFE/V01tu90+oFWdbDa79Msvv0xV+oerV91qt0sQhGRDQ8MVtV+3Vmq/38Ogj6ECa2tr18fHx6NtbW23agkFIiKbzRa4dOnSt9vb299wHFfTaxiVzWYLXL58+f7Kykrvca07NzfXId95LRZLB+v3dBiW7axJH0Mul/uXyWSyhMPhG9PT0yktakgNDw97Jycn7+/t7QlNTU3X1Hztra2t8ZaWluvyr4uimNne3n6Uy+WSz549K0lwh8Ph8ng8F51OZ8BqtZacQjqdzt7x8fFAT0/PjUqSXxCE5Obm5nw974Hn+SP7O6qp43A4LjY1NXVbLJaOwtfMZrPrnXfemYhGo8lqjmh61ZW7cuVK2Z2tvb39KhEt1vq6ckZ5v0fR5FKC5/nFxsbGf+zu7j4Nh8MfaxkO+6HwoLGxsXN3d/c/VqtVtTQtFwqCICSfP38+6/P5Kvrlzs3NdVy7du1muXB5+vTpWLnXkZ56HnQZoIZ668RisUB3d/ctafhV8jp61T3M69evH0t3QKnbt2+/X09nshHf71E0uZQIh8M3dnd3nzY2NnZOTk4+GB4e9mpRRxYKT8Ph8A21XrtcKKyvr081NDRcqTQUiIhCoVDS7XaPfffdd1ey2WxJ/0JLS4tqHYx68Pv9SxMTEzd4ni8euWw2W0A+SmP0uisrK73SUNjc3CzpcBwaGlKEOkt6tLMmwTA9PZ0Kh8MfaxkOZUJBtTOTVCpVcoQXRTETj8cH6umhDoVCSbvdPpBOp+eJiNLp9Lzb7R5TY3v1FIlEMj/88MMn0q+dP39e8x1Jzbper7e4g4mimPn6669npDvh2bNndQ0GIvbtrFnno5bhoGUoRKPR7ra2tluFz0VRzPz00083KhlNqITb7R6Lx+MDJyEUCkKhULIQeET5fpTjUpfjOJf0ILC9vf0oEolktra2HhW+ZrFYOqLRqO5ndyzbWdNRCS3CQctQICL64IMPbkk///PPP1UfHlIrZIwklUqVvCetLyfUqiu/TIjFYvNERPfu3Su5XPT7/bqfNRCxa2fNhyvVDAetQ2Ftbe26dMhqZ2dnsZr+hLfZgwcPSv5gHQ4HkyHZeuu63e6rhX8LglDs6Y9EIhnp0bm5ufmqEYaZWbUzk3kMaoSD1qFARNTa2lo8NRNFMXP37t1RNV//JJP32rvd7rI9/EaqG41Gu6U9/fJhROnR2Ww2uwYHB6+Szli1M7MJTvWEA4tQkE9wefny5TzWO5xs8ssD+eVDV1fXoiAIxans0gPHScd05mMt4cAiFIiUE1wWFxdxCXHCNTc3F88AdnZ2FssdCKRnETabLTA3N8fkTEhvzKdEVxMOrEKBKD/LrPBvQRCS1Sx6AmUnmHw2qNHqrq2tXZdOb3/27Nmjcj/3+PHjklmPvb29unZCsmpnXdZKVBIOLEOBiMhutxcbPJ1OqzYF9m3h8/kUS8+NXFd6WSAIQrKrq6vs7zwUCiWlE9NaWlp0vZxg1c66LaI6LBxYhwJRvnOp8G9BENJa1jppOI5znT59ungk5Xk+waJ/pta68v6kow4Ef/31V/H7ei6sYtnOut6oZX9n/7gQApOTkw/8fv9n/f39X7EMBfnkFVanwZUwm80ttY5VLy8vM7kkGhkZmZAG6/r6OpP+mVrrVtuf5PP55t+8eVNcWav2wqpKsWxn3e/gJA+Hjz766J8mk8nCKhSIiNxud4vWNWpltVq7L1269G0t/7e9vX2KiOq+0chBOI5zjYyMTEhn4AmCkJyZmSl7vW6UutIpztlsdqmS8Nze3n5UmCHpdDp7OY5zsRq10qOddQ8Gonw4+P3+zwqhsLe3Jzx8+PAzFqEAeQ0NDR2pVOpmpT/vcDgulpuSu7q6OlXNDsO6rnzBlPQy4TCxWGy+p6enGChDQ0PXI5FI1aGrVztXyxDBMDw87O3v7/+qEAomk8nS39//1fDwMJMzhq2trbe+T8FisXRI14jUYn19feqgTjyj1JUvmKr0qBsMBhO5XC5RmBC1f9ZRdTDo1c7V0j0Y5B2NDx8+LPYxTE5OPiAizcMhGAwm9vb2ip97PB7DjFXzPJ9IJBKK+zVWYnl5mcmQqyiKmSdPnoxq/cdab92DFkxVWm9ra+tRW1tbN9H/F1axvA8jy3bWNRgOGn0YHh4u6ZAkBuEgimKm0LFjtVp1nxNfIIpi2oiLrgRBSOZyucSLFy+WZmZmqtrB9KorXzC1urpa1Q527969+Tt37hSP9vszJzVdJatXO+s2XHnYkCSL+znI8TxfHA92uVxMVgYaSTabXTKZTBfkH7dv335fOi2YiCgejw80NDRcaW5u/sTn89U1dZxlXfmCqWoDV42FVXq1c7V0CYZK5imwDodMJlP8I7HZbAEjrKQzgkgkkvn1119Ljorvvfee5je0VbuufMEUUf6Wa9V+OByO4kFDzYVVerXzQZgHQzWTl1iGQyKRKDl6GGElnVH4/f6l9fX1Yj+H2Wx2jYyMTBynuvIFUxaLpcNmswWq/ZDfF1LNhVV6tXM5TIOhlhmNrMIhGAwmpKdy586dq3hI6W3g9Xpnpbc7czqdvdUMu+ldV7pgSk1qL6zSq53lmHU+1jPNudwMSdKgQ/L58+eznZ2d40T5I0oqlbqpxpOIToqff/559PLly/cLnbStra2Dc3NzVT1lS4+68gVT6XR6PpfL1bzNFoul5ezZs8WddX9hVU0jR+Xo1c5STJ5EpdbaBxZrKKS3ES/c75HlkBSRsW8fn0qlbkrH4XmeTzQ1NfUZua60nlpPl8rlcguFPoujXlOvdq6H5pcSau7MLC4rVldXS67xPvzwwwm1O4COc8em1+ud3dnZKQ7zWa3WblaXFLXUrXbBVKWk6xS0WFilVzsXaBoMWhzhtQ6Hrq6uRemQlNVq7R4dHb2v1s68srLSOz4+Hl1bWzPEzUVrcffu3VFRFItDZ21tbbdY3Py1lrpa3YBnZmbmkXRb9hdWqUqvdibSMBi0PO3XOhy+/PLLKWkHkNVq7f7iiy8W6r2FeCqVunnhwoVvzGazq7Ozc/y4hkMkEsk8efKk5H6Y77777jiLIcxq60oXTPE8n1DrOj0SiWS2t7eL06kLC6vUeG1pDT3amUijYGDRF6BlOEQikYz8yT8Wi6Wjp6dnYWNj41a1v5hYLBbI5XIL8jnyx/lJVF1dXYvSJzZZLJaOzz//vK41AGrXlS+YUnuZsnzmpBZPrNKrnfHsykNwHOcaHR29L58YQ5S/R+CLFy+W/vjjj9/knZMcx7n6+vou+ny+QEtLS2+5ZyJubm7Oejyesj3Z8s6yeh9qS5S/RZn8aFlvJ2e59vn9998/OWouP6u60scMiqKYGRsbC6o9e1DaWX1QJ6Re7VwPTYLhJD3tmuM416effjooHZ6qRyULYaR/SGqJx+MD8inAaox+RKPR7p6enoXC56IoZr7//vu+w07ZWdTlOM51586dfxe+r9UjAeWjBz/++GOf/EChVzvXQ5NLiaampmtWq7WX1f0UpqenU1artVftUCDKX1Z4PJ6peDw+IH8obTVEUcysr69PjY2NBVmvQtRSMBhMyGfr9fX1jetdt94FU5WS3yxWqydWsW5n3RZRHTd+v3/JbrcPxOPxgXQ6PS/tLT4Mz/OJQiB4vd7Zk/isCq/XOysNTZvNFmA1hHlQ3XoXTFUqFAolpcOKWj6ximU7M5ngdFJFo9Hu9vb2DvnTgHiez2xsbGj2xwigNQQDACjgUgIAFBAMAKCAYAAABQQDACggGABAAcEAAAoIBgBQQDAAgAKCAQAUEAwAoIBgAAAFBAMAKCAYAEABwQAACggGAFBAMACAAoIBABQQDACggGAAAAUEAwAoIBgAQAHBAAAKCAYAUEAwAICCmYj29N4IADAU0UxEu3pvBQAYymszEe3ovRUAYCh/m4loi4hEvbcEAAxBJKKXpyjfx7BLRM36bg8AGMB/iYg/tf/J7v6Hg/JPwAaAt4tI+VDYIVKGwCkiOk35gGgs830AODlEInpNRH8T0UsielP4xv8AB+Ei/lKYXuMAAAAASUVORK5CYII=",PUBLICIDAD:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQYAAABlCAYAAACvIk18AAAABHNCSVQICAgIfAhkiAAAAF96VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAAImeNKT81LLcpMVigoyk/LzEnlUgADYxMuE0sTS6NEAwMDCwMIMDQwMDYEkkZAtjlUKNEABZgamFmaGZsZmgMxiM8FAEi2FMk61EMyAAAMsElEQVR4nO3dT2gaaR8H8F+mcVONUbexKG2Ml+5ml5RlSUoPwsJSe0ihl5WFUJLC5pDcSlnIwsJQWex6amApvaWHLqwlrxdhYWF7qCWwNJcXZQ8NtcteRpF3JGZXTeKfxEzegzVMZvJndMY40e8HAtUan5+j880zz8zz2EMHnSOiD4mon4g+IKIeAoBOtUdE20S0SUQ5Itqt/4d4xzcTkZOImFMtDQD0QCAinmohQefe32kmokuEHgJAt+ohogEiqhDRNkO1cHC2tSQA0AsnEZ07R0QXqDamAADQQ1QbTzC3uRAA0Jd+hmpnHwAA6j5gCAOOAHBQD05NAoAMggEAZBAMACCDYAAAGQQDAMggGABABsEAADIIBgCQQTAAgAyCAQBkEAwAIINgAAAZBAMAyCAYAEAGwQAAMggGAJBBMACADIIBAGQQDAAgg2AAABkEAwDIIBgAQKa33QWcNRzHTfb19VmIiCqVSsHtdoc7sc2zRryN0un06vj4+Eq7a2qF03qdCIYGXbx4ccJoNHqIiEql0goRtXwnbUebZ414GxHRAhF1ZDCc1utsSTBks9l5k8k02uzv7+7uFra2tt68fPnyxfT0dErL2jpZIpGYGB4eniQiSiaT4U8++eRFN9YA6rUkGEwm06go1ZpiNpsnpqam5m/fvh1+9OjRQjAYLGhVXydKJBITIyMjj+u3R0ZGPIlE4v5p7ph6qAG0ofvBR6vVOhkIBKLRaLTpHkg3uHz58i3pfU6nU1U4n8UaQBstH2OoVqup9fV1xcfEFovFYzAYXL29va76fQzDWL788sufWZb1oudwuEqlkjKbD35xeblcPtXDMD3UANpoeTDs7OyknE7n0wZ+5SlRbfR1aGhonmEYC1EtHL7//vuHwWDwfksKPeN++umnRZZlR8WDlE+ePDnVQUo91ADa0O2hhNvtDvv9fm+1Wt3/i2M2mydwSHG4YDBYMJlMM8+fP7/5/PnzmyaTaea0e1d6qAG0oevTlcFgsODz+fxjY2PP6veNj49PEpG/jWXpmh7O4uihBlBHtz2GuvHx8ZX35+6JiGhgYEA2wAUA2tJ9MBARra2t7Z/uYhjGgsMJgNY6E8Hw999/vxHfttls1nbVAtANzkQweL3eVfHt/v5+S7tqAegGuh58PIrNZnOJb8disf2LaN6+fZtqZvArGo2O1nsiuVwuLw0jpViWtczNzd3q7+93SS8LLxaLq1tbW6nFxcXfWzFar+Y1sCxruXv3rsdms7ksFsuBi5K2t7dT5XI5peQSdbXbMRQKub744gvPUdsvm82++eWXX1a03H7Ntil+rY1+7trxOhvRQ0Qfa/2kxWLxmfhctslkmlHzfKFQyDU1NfWyfjsej8+IZ5Xt7e29q/87k8ksNHjdREM1H/W4UCjkun379qzVap1U0l4+nw//9ttvT5V8mNTWdpx63QMDA7fq14wcp1Qqrbx9+/bpUbP6mn3vo9Ho6PXr1+fMZvPESY8VBKGwtra2+OTJk3B9xxG3q/Qz0C1tNuNMHEpcu3ZN14ONHMdN3rlzJ6I0FIhql3rfuXMnwnGc4t/RGs/zs/W6lYQCEZHRaPSMjY0929jYeMyyrCaHdDzPz964cSOiZGchqg1AOxyO+UAgEBX3FtGmds7EoYT0ens9zbXnOG5yeHg4cNj/iU+zEtV2KvFthmEsw8PDgWw267Lb7QutrFMql8sFjgoyad3SS9SJahebfffdd/lgMKjqmpJG6jhs+42NjT2LxWIN9Ui7pU01dB8MoVDIJd6gm5ubupmpZzAYXNJQKJVKK0dNN66PP1y6dGlWvKMNDg7O8jyfb1W3UOqwD+lxdRPV3oeJiYnJwcHBWSKiSqWy+ujRI1Vh1kwdHMdNSrff559//nhnZ0fR8X23tKmW7g8lvv7668fi2//8849uegviN00QhMK7d+/um0ymmaPe7GAwWHC73WGDwXBzfX39QAg4HI750+guJhKJCemHNJPJLBxXN1Htaka73b7w6tUrXz6fDz98+PAbNQNjPM/LxmOSyaT/pDrq2y+TyeyHEsMwlr6+vhMPN7ulTS3oNhhCoZCrXC5HxBuiUqms6nFZM0EQCsvLy980su6A3W5fSCaTB7rhn3322aGHJFphWdby0UcfPRTfl0wm/Y30VLxe76rNZvOrCQWWZS0XL16ck9bRyHvrdDqfSrcf2tROyw8lDAaDi+f52UZ+x2KxeA5b6OX169cPtKtMO3/++ef9Zk5vut3u8MbGhqc+GNXb2+tKJBITrVrY5N69ewcGGTOZzEI7glarOtxud5jneYvD4ZhHm9pqeTD09va6tHhByWTS3+y1Ba2Uz+fDagZDf/3114Wpqan9Uer3i520JBhsNtv+PJNqtdrodHjNDA4O7net1dbhdDqflsvlWyd1sbulTa3o9lCirlqtpuLx+IweDyGIiGKxmKq6pqenU+IBVZPJ1JJxhlAo5BJ/qBpZPEfrOsRjM/l8XnUIZjKZY19Lt7SpJV0GQ6VSWc3n8+F3797dNxgMN/V0elJMEISCFr2Yra2t/bkgDMNYQqGQ67jHN+PTTz898JzpdLotvS9pHRzHqX5v//jjj2Ofo1va1FLLg6FUKq309PSMNPJz/vx5n81m8+t9EdFKpfLm5EedTLqTSj9UWrh8+fKBLmi7wlZaRyQSUb0NT7p6tFva1JIuewzQPbSaC1CpVBT3gLqlTTUQDNARDAaD5r2sbm4TwaADpzGNvFKpHPiLpdU8B7V1aLXoznFzPbqlTS0hGFRQ+6U6dXa7/ar4diuO/7PZ7IHj07t377bl+x6kdVy5cuXqUY9V6qSdrlva1BKC4b1mu2iJRELRTLnjWK3W/edo1TGkNGza9UUw0jouXLiguo7R0dFjn6Nb2tRSRwSDeIl56SIjSkSj0VHp7EGl6t/T2CyO4ybFbW9ubrbsbIH4egmr1TrZitOijdZhNpsn1NTBsqxFfCFRt7eplY4IhnK5vP9X1mg0eho9fr5+/frcyY86nNFo9DS7pgLLspahoaEDV4W+ePGiZRex/PXXXwee2+fztXRuxlGkE+HU1PHtt9/OKQn1bmlTKx0RDNI34N69e4p3VI7jJpUunHGUoaGh+UaP/1iWtTx48OBn8WBSPp8Pt/JctXQpfqPR6Mnlcg1/WNUOXLrd7rD4kKnZOjiO258Gjja11RHBsLi4+LsgCPujwA6HY17JsT/P87NHLbLSCIZhLDdu3IgonSwWi8U8P/zww4GZo4IgFNSub6BEJBLxi7eV1WqdLJfLEaXdXJ7nZ3/88cf/ql15Sjohzmq1ThaLxWdK6mBZ1pLL5QLi9078mrq9TS10RDAEg8HC2traovi+kZGRxzzPz0rfgGg0Osrz/OzOzs5L8eQu8TiFUpVKZVX8F8HhcMzv7Oy8zGazsrUVWJa1JBKJiY2NjcdjY2PPpGs5LC8vq1rfQKnp6enU8vLyN+IPWF9f3+jU1NTLXC4XSCQSE9IeQSgUckm32fDwcEBNOHi93lXpdGKj0eg5ro5YLObJZrPzgUAgKl28R8lVqN3SplY+1vqnWCy+3nuvWCy+bkUbJ7XbCI7jHiitWfq4aDT61e7ubr6Zdvf29vZ2d3fz0Wj0Ky22ZyPbXW3de3t7e7lc7j9q33uO4x6oqaFcLr9hWfaauF2e5x+hTXU/HdFjqAsGg/el6+cdRxCEQqMLZ0h5vd5Vv9/vbaTdulKptLK0tORrx3Ryr9e7urS05GumbkEQCplMZsFms6leQMTtdodfvXrla+Y07fr6+tNmVpLqljbV6LRgKJhMpplkMuk/7tBAEIRCPp8PLy0t+bSYzl1vNx6PzyhZk3Jzc/NFPB6fMZlMM+38Atjp6elUI3VXq9VUJpNZ8Pv9Xi3XcvB6vavnz5/3JZNJv5IdJ5/Ph+Px+Izdbl9odmfpljab1ZLvldCLaDQ6euXKlat9fX37x3DpdHq11TMLWZa1+Hy+q9IZdul0ejUSibzR81fDx2Ixj7TuXC6XSqfTqdPq2Ry3/Vr13nVLm0p1dDAAQHM66lACALSBYAAAGQQDAMggGABABsEAADIIBgCQQTAAgAyCAQBkEAwAIINgAAAZBAMAyCAYAEAGwQAAMggGAJBBMACADIIBAGQQDAAgg2AAABkEAwDIIBgAQAbBAAAyCAYAkEEwAIAMggEAZBgi2mt3EQCgKwJDRNvtrgIAdGWHIaLNdlcBALqyxRBRjoiEdlcCALogENG/56g2xrBNRAPtrQcAdOB/RFQ59/7G9vuffqp9AzYAdBeBaqGwSSQPgXNE9CHVAuKDQ/4fADqHQEQ7RLRFRP8S0W79P/4PA4fOcaRQ4iAAAAAASUVORK5CYII="},kd=`${g}-controls.${g}-skip:not(.${`${g}-skip-cross`})`,Rd={hooks:{beforeCreate(t){const{options:e}=t;e.css+=`\n            .${wd} .${g}-ui-container .${kd} {\n              background-image: url('${Sd.CERRAR}');\n            }\n            .${wd} .${g}-ui-container .${g}-controls.${g}-label {\n              background-image: url('${Sd.PUBLICIDAD}');\n              padding-right: 0;\n              width: 16%;\n              min-width: 56px;\n              min-height: 26px;\n              max-width: 85px;\n              max-height: 40px;\n            }`},beforeAdStarted(t){var e;const{currentAd:i}=t.adControllerInstance,n=(null===(e=i.adFactory)||void 0===e?void 0:e.type)===u.TYPES.VIDEO;if(ci(t.$adContainer,"add",wd),n){it(document.querySelector(`.${wd} .${g}-ui-container .${kd}`),{left:"16.5%"})}}}},Md={hooks:{beforeCreate(t){const{ava:e}=t;e.forceSize=!0}}},{CONSENT_STRING:Pd}=U,Dd={adaptPlayerToSlot:Ka,adsBySunmedia:id,delayForceStart:Ja,infiniteScroll:nd,marginOnlyDesktop:rd,onePluginInstance:ad,parentWindow:dd,publicidad:cd,sticky:ud,allowDuplicates:pd,blockFlorida:md,blockIOS:Ad,blockSpain:gd,dixen1AndAva:Cd,dixen50kAndAva:Id,dixen50kRAndAva:Td,esControls:Rd,forceAvaSize:Md,richAudienceScript:{hooks:{beforeMount(t){let{macroValues:e}=t;pt(rt().document.body,{type:"script",attributes:{type:"text/javascript",async:"",src:Yt("https://s.richaudience.com/mgc/xRfOrRUyut/",{ord:O(),consentString:e[Pd]})}})}}},useSaferWayToFindPosition:{hooks:{beforeCreate(t){const{options:e}=t;e.useSaferWayToFindPosition=!0}}}};function Ld(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=t;return t<0?(i=e.length-1+t,i<0&&(i=0)):t>=e.length&&(i=e.length>0?e.length-1:0),i}function Nd(t){let{document:e}=t;return[t=>{const i=e.getElementById(t);return i?[i]:[]},t=>e.getElementsByClassName(t),t=>e.querySelectorAll(t),t=>[...e.querySelectorAll(`div[itemprop='${t}']`),...e.querySelectorAll(`article[itemprop='${t}']`)]]}function Od(t,e){let i=[];return e.some((e=>(i=S(function(t){return function(){let e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((i=>(e=Wt(i)(t)||[],Boolean(e.length)))),e}}(e.trim()),Nd)(t)||[],Boolean(i.length)))),i}function Vd(){let t,{wind:e=window,selectors:i=[],position:n=0,strictPosition:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=Od(e,i||[]);if(kt(s)){t=s[r?n:Ld(n,s)]}return t}class Fd extends Rn{hasNativeSupport(){return!0}createObserver(t){const e=this.getTarget(),i=new IntersectionObserver((i=>{i.forEach((i=>{let{isIntersecting:n}=i;const{isBelow:r}=bt(e);(n||r)&&t()}))}),{threshold:0});return i.observe(e),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Fd(...e)}}async function xd(t){if(r(t))return null;try{const{TCStringParse:e}=await re("https://static.sunmedia.tv/outstream-sdk-js/3p/tc-string-parser.js?v=v2022040401",7e3);return e(t)}catch{return null}}const Ud=new Error("No user consent"),{GDPR_APPLIES:Bd,CONSENT_STRING:zd}=U,Wd={[zd]:p,[Bd]:A};function Hd(){const t=ni.getState(f)||{};return t.cmpFunctionState===v.NOT_FOUND?Promise.resolve(null):V(t[zd])&&t.areVendorsAuthorized?Promise.resolve(t):Promise.reject(Ud)}async function Gd(){let{isInEuCountry:t,gdprMacroValues:e={},settings:i={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{attempts:n,delay:s}=i,o=ni.getState(f)||{},a=e[Bd]??o[Bd]??Number(t);if(kt(e[zd])){if(a){const{vendor:t}=await xd(e[zd])||{};sa(null==t?void 0:t.consents)}return{[zd]:e[zd],[Bd]:a}}const{cmpFunctionState:d}=o;if(d!==v.FOUND&&r(a))return Wd;let l=null;try{C.info("Fetching user consent."),l=await Ir(Hd,{attempts:a?-1:n,delay:s})}catch(t){if(a)throw t;return Wd}if(r(l))throw Ud;const c={[zd]:l[zd],[Bd]:e[Bd]??l[Bd]};return c}const jd={build:I,mount:I,adContainerMounted:I,adContainerUnmounted:I,initAdController:I,createObservables:I,getContainerWidth:()=>0,getAdContainerParent:I,updateAdPosition:I,adPreload:I,startAd:I,programmaticDisplayLoaded:I,adStarted:I,adStoppedWithReminder:I,updateConfigOptions:I,adExpandedChange:I,getAvailablePositions:I,displayRestart:()=>Promise.reject(),reset:I,removeElements:I};const Zd={init(){this.effectiveListener=this.effectiveListener.bind(this)},props:{$effectiveTarget:null,effectiveSubscription:null,fireRequestTried:!1,fireUnfilledTried:!1},methods:{setEffectiveTarget(t){this.$effectiveTarget=t},isAdCountEqualTo(t){return this.outstreamInstance.getPlayedAdCount()===t},isLookingForFirstAd(){return this.isAdCountEqualTo(0)},isPlayingFirstAd(){return this.isAdCountEqualTo(1)},isOnlyForSunMedia:t=>[Lt.OPPORTUNITY,Lt.REQUEST,Lt.EFFECTIVE,Lt.UNFILLED].includes(t),hasEffectiveTrackerBeenFired(){return this.outstreamInstance.appTrackingEvents.hasBeenFired(Lt.EFFECTIVE,1)},setEffectiveTrackerAsFired(){this.outstreamInstance.appTrackingEvents.firedTrackerByName[`${Lt.EFFECTIVE}-1`]=1},async fireTracker(t,e,i){try{const{adControllerInstance:n,appTrackingEvents:r,macroValues:s}=this.outstreamInstance,o={macroValues:s,errorMsg:i};if(Q(e))o.pb=e;else if(this.isOnlyForSunMedia(t))o.pb=1;else if(null!=n&&n.currentAd){const{currentAd:t}=n;o.pb=t.initialAdTag.isSunmedia?1:0,o.pbt=t.initialAdTag.pbt,o.pbid=t.initialAdTag.pbid,o.adDataValues=t.adData}await r.fire(t,o)}catch(e){C.error(`Firing the tracker ${t}`,e)}},createEffectiveObservable(){r(K(this.$effectiveTarget))?C.error("Trying to create EFFECTIVE observe without setting the $effectiveTarget element first"):this.effectiveSubscription=Fd.createObservable(this.$effectiveTarget).subscribeOnce(this.effectiveListener)},effectiveListener(){const{state:t}=this.outstreamInstance;this.fireTracker(Lt.EFFECTIVE),t===Gs&&(this.tryToFireUnfilled(),this.outstreamInstance.removeElements())},tryToFireUnfilled(){r(this.fireUnfilledTried)&&(this.fireUnfilledTried=!0,this.tryToFireUnfilledForClient(),this.tryToFireUnfilledForSunMedia())},tryToFireUnfilledForClient(){const{clientAdCount:t,clientRequestCount:e}=this.outstreamInstance;t>0||0===e||this.fireTracker(Lt.UNFILLED,0)},tryToFireUnfilledForSunMedia(){const{sunmediaAdCount:t,sunmediaRequestCount:e}=this.outstreamInstance;t>0||0===e||this.fireTracker(Lt.UNFILLED)}},hooks:{beforeInit(){const{appTrackingEvents:t,config:e}=this.outstreamInstance;t.setMode(e.silentTrackers)},beforeBuild(){this.fireTracker(Lt.OPPORTUNITY)},mounted(){var t;const{config:e}=this.outstreamInstance;null!==(t=e.ava)&&void 0!==t&&t.forceStart?this.fireTracker(Lt.EFFECTIVE):this.createEffectiveObservable()},beforeSMRequest(){this.fireRequestTried||(this.fireRequestTried=!0,this.fireTracker(Lt.REQUEST))},beforeSMRequestError(t,e,i){let{isSunmedia:n}=i;if(this.isLookingForFirstAd()){const t=n?1:0;this.fireTracker(Lt.REQUEST_ERROR,t)}},beforeAdImpression(){this.fireTracker(Lt.IMPRESSION)},beforeAdVideoStart(){this.isPlayingFirstAd()&&this.fireTracker(Lt.START)},beforeAdVideoFirstQuartile(){this.isPlayingFirstAd()&&this.fireTracker(Lt.FIRST_QUARTILE)},beforeAdVideoMidpoint(){this.isPlayingFirstAd()&&this.fireTracker(Lt.MIDPOINT)},beforeAdVideoThirdQuartile(){this.isPlayingFirstAd()&&this.fireTracker(Lt.THIRD_QUARTILE)},beforeAdVideoComplete(){this.isPlayingFirstAd()&&this.fireTracker(Lt.COMPLETE)},beforeAdClickThru(){this.fireTracker(Lt.CLICK)},beforeAdSkipped(){this.fireTracker(Lt.SKIP)},beforeClose(t,e,i){if(null==i?void 0:i.err){const t=1,e=G.encode(i.err);this.fireTracker(Lt.ERROR,t,e)}else this.hasEffectiveTrackerBeenFired()&&this.tryToFireUnfilled()},beforeAlternativeMounted(){const{appTrackingEvents:t}=this.outstreamInstance;t.logTracker(Lt.ALTERNATIVE)},beforeReminderStarted(){const{appTrackingEvents:t}=this.outstreamInstance;t.logTracker(Lt.REMINDER)},beforeReminderClick(){this.fireTracker(Lt.CLICK)}}};function $d(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(e.length<=1)return;const[n,r,...s]=e;pt(n,r),$d(r,...s)}async function Yd(){const t=Vd(...arguments);if(j(t))throw new Error("Container not found");return t}const qd=`\n    .${g}-it-main-container {\n      margin: auto;\n      position: relative;\n    }\n  `,_d=`\n    .${g}-reference {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      margin: auto;\n    }\n  `,Qd=`\n    .${g}-loading {\n      display: none;\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 64px;\n      height: 64px;\n      margin-top: -32px;\n      margin-left: -32px;\n      z-index: 20;\n    }\n    .${g}-loading div {\n      box-sizing: border-box;\n      display: block;\n      position: absolute;\n      width: 51px;\n      height: 51px;\n      margin: 6px;\n      border: 6px solid;\n      border-radius: 50%;\n      animation: SMLoading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      border-color: #ff8f00 transparent transparent transparent;\n    }\n    .${g}-loading div:nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    .${g}-loading div:nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    .${g}-loading div:nth-child(3) {\n      animation-delay: -0.15s;\n    }\n    @keyframes SMLoading {\n      0% {transform: rotate(0deg);}\n      100% {transform: rotate(360deg);}\n    }\n  `;const Xd={init(){const{config:t}=this.outstreamInstance;this.needToUnfold=t.options.fold},props:{needToUnfold:null,$mainPositionParent:null,$mainContainer:null,$reference:null,$loading:null},methods:{async setMainPositionParent(){const{config:t,integrationScript:e,wind:i}=this.outstreamInstance,{seekerSettings:n,options:r}=t;this.$mainPositionParent=await async function(t){let{wind:e,integrationScript:i={},placementOptions:n={},options:r={}}=t;const{classList:s,classPosition:o,classMandatory:a,strictPosition:d}=n,{maxIntents:l=20,findTimeout:c=500}=r;if(s.length>0)try{return await Ir(Yd,{args:[{wind:e,selectors:s,position:o,strictPosition:d}],attempts:l,delay:c})}catch{if(a)throw new Error("Container not found with class mandatory")}const{$container:h}=i;if(j(h))throw new Error("Container not found");return h}({wind:i,integrationScript:e,placementOptions:r,options:n})},mountMainPosition(){const{config:t}=this.outstreamInstance;mt(qs,`\n        ${qd}\n        ${_d}\n        ${Qd}\n      `,{concat:!0}),this.$mainContainer=function(t,e){let{api:i,config:n,device:r,instanceIndex:s}=t;return ut({name:"it-main-container",id:i,attributes:{data:{it:n.it,device:r,index:s}},style:e})}(this.outstreamInstance,{width:this.calculateMainContainerWidth(),height:t.options.mainContainer.foldHeight,...r(t.options.fold)&&this.getUnfoldStyles()}),this.$reference=function(t,e){let{api:i}=t;return ut({name:"reference",id:i,style:e})}(this.outstreamInstance,{"background-color":t.options.reference.backgroundColor}),this.$loading=function(t){let{api:e}=t;return ut({name:"loading",id:e,children:[{},{},{},{}]})}(this.outstreamInstance),$d(this.$mainContainer,this.$reference,this.$loading);const{domPosition:e=0,excludeNodeTagNames:i}=t.options,n=function(t,e){return r(X(t))?[]:S(os((()=>R(e)),L((t=>e.includes(t.tagName.toLowerCase())))),qt)(t)}(this.$mainPositionParent,i);this.$mainPositionParent.insertBefore(this.$mainContainer,n[e])},getUnfoldStyles(){const{config:{options:t}}=this.outstreamInstance,{mainContainer:{marginTop:e,marginBottom:i},forceSize:n}=t,r=this.getMainContainerDefaultHeight(),s=this.calculateAdDimensions(!1).height;return{height:n||this.hasToForceDefaultHeight()||s<=r?r:s,"margin-top":e,"margin-bottom":i,overflow:"hidden"}},unfoldMainContainer(t){if(r(this.needToUnfold))return;const e=this.getUnfoldStyles();it(this.$mainContainer,{...e,...t&&{height:"auto"}}),this.needToUnfold=!1},getMainContainerDefaultHeight(){var t;const{config:e,windowHeight:i}=this.outstreamInstance,{ratio:n}=e.options,r=(null===(t=this.getMainContainerDimensions())||void 0===t?void 0:t.width)||this.calculateMainContainerWidth(),s=Tn("height")(r,n);return Math.min(i,s)},hasToForceDefaultHeight(){const{config:t,adControllerInstance:e}=this.outstreamInstance,i=t.ava.enabled,{currentAd:n}=e||{};return r(n)||n.isNoVideoReminder||i&&n.isProgrammaticDisplay},calculateMainContainerWidth(){var t;const{config:e}=this.outstreamInstance,{margin:i}=e.options;return((null===(t=At(this.$mainPositionParent))||void 0===t?void 0:t.width)||this.getContainerWidth())-i},getMainContainerDimensions(){if(r(this.$mainContainer))return{};const t=parseFloat(this.$mainContainer.style.width),e=parseFloat(this.$mainContainer.style.height);return{width:t,height:e,ratio:Tn("ratio")(t,e)}},requestResizeMainContainer(t){var e;const{config:i}=this.outstreamInstance;if(this.needToUnfold)return this.unfoldMainContainer(),!0;if(i.options.forceSize)return!0;const{height:n}=this.getMainContainerDimensions();let s;if(tt(t))s=t;else{const{height:t}=this.calculateAdDimensions(!1),e=this.getMainContainerDefaultHeight();s=this.hasToForceDefaultHeight()||t<=e?e:t}if(s===n)return!0;return!r(i.options.mainContainer.expandAlways||(null===(e=bt(this.$mainContainer))||void 0===e?void 0:e.isAbove))&&(it(this.$mainContainer,{height:s}),!0)},updateMainContainerDimensions(){const t=this.getMainContainerDimensions(),e=this.calculateMainContainerWidth();t.width!==e&&it(this.$mainContainer,{width:e,height:Tn("height")(e,t.ratio)})},getReferencePosition(){const{config:t}=this.outstreamInstance;return t.options.useSaferWayToFindPosition?function(t,e){if(r(K(t)))return{};const i=Wt(de(document,document.querySelector))(e),n=t=>{if(r(t)||t===i)return{top:0,left:0};const e=t.offsetParent??t.parentNode,{top:s,left:o}=n(e);return{top:(t.offsetTop||0)+s,left:(t.offsetLeft||0)+o}},{top:s,left:o}=n(t),{width:a,height:d}=t.getBoundingClientRect();return{top:s,left:o,width:a,height:d}}(this.$reference,t.options.containingBlock):ct(this.$reference)},obtainAdMainPosition(){const{width:t,height:e}=this.calculateAdDimensions(!0),i=this.getReferencePosition(),{top:n,left:r}=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return{top:kn(t.top+(t.height-e.height)/2,i),left:kn(t.left+(t.width-e.width)/2,i)}}(i,{width:t,height:e});return{top:n,left:r,width:t,height:e,visibility:"visible"}},calculateAdDimensions(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{config:e,windowHeight:i,adControllerInstance:n}=this.outstreamInstance,{currentAd:s}=n||{};if(r(null==s?void 0:s.dimensions))return{width:0,height:0};const{width:o,height:a}=this.getMainContainerDimensions(),d=Math.min(i-e.options.windowHeightPadding,t?a:1/0);return bo(null==s?void 0:s.dimensions,{maxWidth:o,maxHeight:d})},showMainPositionBackground(){const{config:t}=this.outstreamInstance,{backgroundColor:e}=t.options.reference;it(this.$reference,{"background-color":e})},hideMainPositionBackground(){it(this.$reference,{"background-color":"transparent"})},showLoading(){it(this.$loading,{display:"block"})},hideLoading(){it(this.$loading,{display:"none"})},removeMainContainer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((e=>{var i;if(r(this.$mainContainer))return void e(!0);const n=t||(null===(i=bt(this.$mainContainer))||void 0===i?void 0:i.isAbove);n&&(J(this.$mainContainer),this.$mainContainer=null,this.outstreamInstance.hooksManager.afterRemoveMainContainer()),C.info(n?"Main container removed":"Remove main container is not possible without generating CLS"),e(n)})).catch((t=>C.error("Removing mainContainer",t)))}},hooks:{beforeEndAd(){const{adControllerInstance:t}=this.outstreamInstance,e=this.outstreamInstance.getPlayedAdCount(),i=r(Z(null==t?void 0:t.currentAd));this.outstreamInstance.itShouldLoop(i)&&e>0&&this.showLoading()},afterAlternativeMounted(t,e){let{isMain:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i&&this.needToUnfold&&it(this.$mainContainer,{height:"auto"})},afterAlternativeContentLoaded(t,e){let{isMain:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{config:n}=this.outstreamInstance;i&&this.unfoldMainContainer(r(n.options.forceSize))}}},Kd={AVA:`\n    .${g}-ad-container.ava {\n      position: fixed;\n      z-index: 99999;\n    }\n  `},Jd={props:{hasAvaPosition:!0},methods:{mountAvaPosition(){mt(qs,Kd.AVA,{concat:!0})},obtainAdAvaPosition(){var t;const{config:e,device:i,adControllerInstance:n}=this.outstreamInstance,{ratio:s}=e.options;let o={...null==n||null===(t=n.currentAd)||void 0===t?void 0:t.dimensions};const{bottom:a,position:d,margin:l,forceSize:c,maxWidth:h}=e.ava,[u,p]=d.split("_");o=Eo(o,{maxWidth:h,forceSize:c,defaultRatio:s,device:i});const m=r(p)?{left:"50%",transform:"translateX(-50%)"}:{[p]:l};return{width:o.width,height:o.height,[u]:a,...m,visibility:"visible"}},obtainDefaultAvaPosition(){const{config:t}=this.outstreamInstance,{ratio:e}=t.options,{bottom:i,position:n,margin:r,maxWidth:s}=t.ava,[o,a="left"]=n.split("_");return{width:s,height:Tn("height")(s,e),[o]:i,[a]:r}}}},tl={EXPANDED:`\n    .${g}-ad-container.expanded {\n      position: fixed;\n      top: 0;\n      left: 0;\n      z-index: 2147483647;\n    }\n  `},el={props:{hasExpandedPosition:!0},methods:{mountExpandedPosition(){mt(qs,tl.EXPANDED,{concat:!0})},obtainAdExpandedPosition:t=>({width:gt(t),height:ft(t),visibility:"visible"})}};const il={ATTRIBUTES:"attributes",CHARACTER_DATA:"characterData",CHILD_LIST:"childList"};function nl(t){return r(function(t){return[il.ATTRIBUTES,il.CHILD_LIST].includes(t)}(t))}function rl(t){return e=t,i=`${g}-`,Array.from((null==e?void 0:e.classList)||[]).some((t=>t.startsWith(i)));var e,i}function sl(t){let{type:e,addedNodes:i=[],removedNodes:n=[]}=t;return e===il.CHILD_LIST&&0===n.length&&r(function(t){return Array.from(t).some((t=>{if(r(t.style))return!0;if("none"===t.style.display)return!1;const{width:e,height:i}=t,n=parseFloat(e),s=parseFloat(i);return!!r(tt(n)||tt(s))||n>1||s>1}))}(i))}class ol extends Rn{hasNativeSupport(){return!0}createObserver(t){const e=this.getTarget(),i=new MutationObserver((e=>{e.some((e=>{const{type:i,target:n}=e;return!(nl(i)||rl(n)||sl(e))&&(t(),!0)}))}));return i.observe(e,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["id","class","style","height","width"]}),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new ol(...e)}}const al={init(){this.domChangeListener=function(t){var e=this;let i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Le(t,"func"),function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r&&i||(r||clearTimeout(i),i=setTimeout((()=>{i=null,t.apply(e,o)}),n))}}(this.domChangeListener.bind(this),200,!0)},props:{relocateAdTarget:null,beforeRelocateAdHook:null,domChangeSubscription:null},methods:{setRelocateAdTarget(t){this.$relocateAdTarget=t},relocateAdOnDomChange(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;const{wind:e}=this.outstreamInstance;this.beforeRelocateAdHook=t,this.domChangeSubscription=ol.createObservable(e.document.body).subscribe(this.domChangeListener),e.addEventListener("resize",this.domChangeListener,!1)},domChangeListener(){const{wind:t,state:e}=this.outstreamInstance;var i,n;[Gs].includes(e)||(r((i=this.$relocateAdTarget,n=t,!r(i)&&n.document.body.contains(i)))?this.outstreamInstance.close({adHasBeenPlayed:!1,err:new Error("target to relocate the adContainer gone")}):(this.beforeRelocateAdHook(),this.relocateAdContainer()))},relocateAdContainer(){const{adPosition:t}=this.outstreamInstance;t!==$s&&this.updateAdPosition(t,!0)},unsubscribeRelocateAd(){var t;const{wind:e}=this.outstreamInstance;null===(t=this.domChangeSubscription)||void 0===t||t.unsubscribe(),e.removeEventListener("resize",this.domChangeListener,!1)}},hooks:{afterClose(){this.outstreamInstance.noMoreContentAvailable()&&this.unsubscribeRelocateAd()},afterAlternativeEnded(){this.unsubscribeRelocateAd()}}},dl={RESTART:`\n    .${g}-restart-layer {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      display: block;\n      background: #000 no-repeat 50% 50%;\n      background-color: rgb(245, 245, 245);\n    }\n    .${g}-restart-layer div {\n      position: absolute;\n      background-size: contain;\n      background-repeat: no-repeat;\n      cursor: pointer;\n    }\n    .${g}-restart-layer .${g}-restart {\n      top: 50%;\n      left: 50%;\n      width: 23%;\n      height: 15%;\n      min-width: 100px;\n      min-height: 49px;\n      transform: translateY(-50%) translateX(-50%);\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAACDCAMAAAAJdXayAAAAwFBMVEUAAAD9/f38/PwAAAAHBwf7+/v4+PiIiIgZGRkiIiISEhL6+vr5+fnp6elLS0sqKirn5+fW1taAgID39/f19fXv7+/Dw8M9PT3y8vLu7u7f39+np6deXl7c3Ny/v7+tra3k5OTQ0NCUlJT29vbr6+sAAAAAAAAAAAAAAAAAAADw8PDi4uLMzMzIyMi6urp4eHgzMzMODg7FxcWbm5uOjo5vb2/Y2Nizs7NRUVFERESioqKfn59VVVVkZGT+/v7///8ErcY9AAAAPnRSTlOA/v0AhPz5roiKh/v66paN6Nuq+PXwzpL07+K+neDMwefXtPfseHBAIAjx5dTSyaePhtC3sKPdxZiUu7man5f3stsAAARKSURBVHja7dxZW9pQEAbgmUACgYQdZJdN2VTEglptv/n//6pA+6itymJOb07mveaG75lMhrNAiURiOr4k9anL8XQT0iaoyQWpvS4m26AmpA6aJGiq9XSEiymNSR1hTNrHj6ExKaWUUkoppZRSSimllEmZ9rdasTnv9ebF7uAxQ+q99LpbKDPe4nLYXWtab2VSnTLjIzzsL5akdh5rLymxO6wWer1CWB26/JJV9zspeuy72GIvrC18epUv1cKAAQiyVzmKudyVBwG43F+k6T0/1QmwVb6LdVX5rRlDwGFquad/NRgAz87TFFfrngPA6ZVor2SqsPtcs03xNPAAOIVNNR2SWYUMQSVFMZS/c0VQOfeP+/RDBYKg5lPc+PfutpxydKx2gUXcqyTFS24EIFtLn1KCNReC5hnFSW7Op7ec5LMHcYq3FB/+iAXlEp3qKYBwMz5jwm0HgrBNp1tUIdyPTVLXjqDcpq9IBRD3huJhkBVUSl8fviT4RnHQ9oBsir7qaROz90j28+cQ7ibpq5Y1FnRi0KZajmAU5XtmRoBr/8OXqwKVHEXxowJUrZ87r1icB4rmhsHXZLfHACjkKZr8CChbXlJFwElRVCtHcEU2y2UFvSVFtQyBrNUl1YVwiaJbMWDzfJ6pAyGZ0ABmFu+NlhhsZgJ6YvCCrFUEhj6ZcOvB4naeKQNFMqMD1K1dFv7JQInMWAGOtdvHN0A2TWbkHaBFlioAIZlSBZpkKQ/okil9oE52SjOwIFMGgGtpN/8BsE+mnIHZ0l8xAyBLxiQd5hJZ6QYYkjke8zlZyXD7rbOtq3f3wIjMaTDfk5WKZiefkNmuQcoR/CYb+MOjyArMc7IJyweyWlHvpPiDnBZGfsMUySbJO8g/UKPoKoBlb71lKP/o+RRdANg2R7U9+Qu3jUzmwJoscw55w0wh5AC27pRipiOvcE8mfAOy9q0e5OvyopojE4p2rkeVWP7gFBkxAzpkoZcZoZYkE25d+156O35DdhpkxhPg/iAb/fRkY7gmM3pA1b5evvMMU5PBRj4L1MhOyaJIJ0NmtAC29vre2ajhmwq9AplZ+uQZtYKl7zzD0gUgG787jqd7dsB3pA7JN4B6rK/3n3DOvEvqkHUQh5sL0eULEMf+uzCRJfssaFp8ItiUlgtUrT2UaDInkcDSUyymvNwpfiC1X3JVh/BVDK5/RtQKII5d28P/Q/rBgzh96/aoTPNrLoSLeVJ7tWcscO90gNrvrFuGYPigfXyvzHODAZRj+Y9kJ0jtYnI7urKyz21rBhHwaKCP3efyg2aALa+r6yqfSH4f9KsOdoJrHQreyd00C2Gj7jn4gxstfeg+UKowXnH9uq37dweCciqdVk5T+sxZqzif31+fl840I6WUUkoppZRSSimllIruktRRMY1JHWFM0wtSB11MKTEhddAkQYnERGvqgItJYhtUYjrWjr7H5Xi6CekXgBywZ8giZv8AAAAASUVORK5CYII=');\n    }\n    .${g}-restart-layer .${g}-close {\n      top: 10px;\n      right: 10px;\n      width: 26px;\n      height: 26px;\n      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAAAkFBMVEUAAAAAAAD+/v4rKyv8/Pz39/f8/Pz39/eLi4vR0dH+/v7V1dWKioqFhYV/f3/////Nzc0AAAD+/v78/Pz9/f3u7u7s7Ozr6+vp6ekSEhL+/v7w8PB0dHT39/fS0tKnp6f19fXu7u7z8/Pv7+/MzMzJyckAAADy8vLi4uL4+Pjv7+8AAADZ2dnDw8OdnZ1fX18QcjD1AAAAMHRSTlMmEvgt7tbr2EZ7/IJFREH9eAH77fS1saynKfnAPtp/Vs+2yLl1cx/DmN66CoZtUDim/7c5AAABu0lEQVRIx+2V126DMBiFARtjhg0OEGYYCWlWx/u/XX9HbRSIw1CvWtVXCPTpyGcITejaovMihAbIUkhbfvR/5qcMorTsf+x/UzE03qb0CWMftq6S2UYkVkIo2EREyZQpWeGYKRDbzA3zTekBjbFDEv7ABKZhWK7aN4BAqSiHKhvDMG30zGuWYD9MvN67SqrYI/nwInRIy+9UOsvILReNZVomxAnbm1LmSpX9RA+8FpSS7zvtLbiLm011h7dkFRZcPiIXEKtD033zktDHCZPpS5VqVkfLAnKKKURp5Bsbzes1ByNwfJQqwewtMGhEFOUyyvn7oW3k+/4pQEs29wqM0/AFO0WVmfuOH57ZfKaC65+a0MFrbyaDgmst6RmvyJrOYrJr+kGmsTVMY+fNYfam3EsmG7GGcFM+ySB3AypfudAdKB34FBOY9+l7KfZx6o0yyLagY3cT4wcwYkdHmMyWKr2J8ZQMLdd7SCAdG0zM20nLmZqR14daPnSMSssLpmY6GeVwYjfLmZI54siqkGoaRRg1tZpptp265SxtCjXzXtegoobq+uO3/Rv/CPOymLloYimkC00IfdG5CPEJRJcY90Ps4pAAAAAASUVORK5CYII=');\n    }\n    `},ll={methods:{mountRestartLayer:t=>new Promise(((e,i)=>{try{let i;mt(qs,dl.RESTART,{concat:!0});const n=ut({name:"close",events:{click:t=>{J(i),e({action:Os.CLOSE,event:t})}}}),r=ut({name:"restart",events:{click:t=>{J(i),e({action:Os.RESTART,event:t})}}});i=ut({name:"restart-layer",children:[r,n]}),pt(t,i)}catch(t){i(t)}}))}},cl={props:{optionsCallbackFired:{}},methods:{fireOptionsCallbackOnce(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=t,S(r,V)(i)||this.optionsCallbackFired[t])return;var i;this.optionsCallbackFired[t]=!0;const{options:n}=this.outstreamInstance.config;F(n,{...e,status:t})}},hooks:{afterAdImpression(){this.fireOptionsCallbackOnce("SunMediaStart")},beforeClose(t,e){var i;let{adControllerInstance:n}=t,{adHasBeenPlayed:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{mainPosition:s}=this.getAvailablePositions({hasAva:!1})||{};this.fireOptionsCallbackOnce("SunMediaEnd",{container:null==s||null===(i=s.$container)||void 0===i?void 0:i.parentElement,playerUI:null==n?void 0:n.playerUI,ads:r?1:0})}}},hl=["https://es-sunicontent.videoplaza.tv/proxy/distributor/v2?s=c8ba1857-134a-4378-b459-d43a880a6b0c&tt=p&rt=vast_2.0","https://vast.adsafeprotected.com/vast?anId=925802&campId=${ad.formattype}&chanId=${shares}&pubId=TEST_AARON_DAVID"];const ul={init(){this.playbackListener=this.playbackListener.bind(this)},props:{playbackSubscription:null},methods:{itShouldPlaybackOnScroll(){var t,e;const{currentAd:i}=(null===(t=this.outstreamInstance)||void 0===t?void 0:t.adControllerInstance)||{};return n=null==i||null===(e=i.adData)||void 0===e?void 0:e.fromTag,hl.some((t=>n.includes(t)));var n},playbackOnScroll(t){r(K(t))||r(this.itShouldPlaybackOnScroll())||(this.playbackSubscription=co.createObservable(t,{threshold:[.5]}).subscribe(this.playbackListener))},playbackListener(t){var e;let{intersectionRatio:i}=t;const{currentAd:n}=(null===(e=this.outstreamInstance)||void 0===e?void 0:e.adControllerInstance)||{};var r,s;i>.5?null==n||null===(r=n.linearCreative)||void 0===r||r.resumeAd():null==n||null===(s=n.linearCreative)||void 0===s||s.pauseAd()},unsubscribePlayback(){var t;null===(t=this.playbackSubscription)||void 0===t||t.unsubscribe()}}},{CONSENT_STRING:pl,GDPR_APPLIES:ml}=U,Al=()=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=[t,...t.mixins||[]];return mo({init(i){var n;this.outstreamInstance=i,this.name=null==i||null===(n=i.config)||void 0===n?void 0:n.sdkType,this.pluginDefinition=t;const r=ue(e,this);i.hooksManager.addMany(r)},methods:{...jd}}).compose(...e)}({mixins:[Zd,Xd,Jd,el,al,ll,cl,ul],init(){const{config:t,instanceIndex:e}=this.outstreamInstance;this.outstreamInstance.config=_a(t,e),this.startAdListener=this.startAdListener.bind(this),this.adPositionListener=this.adPositionListener.bind(this),this.resizeMainContainerListener=this.resizeMainContainerListener.bind(this),this.deleteMainContainerListener=this.deleteMainContainerListener.bind(this)},props:{viewportPosition$:null,startAdSubscription:null,adPositionSubscription:null,programmaticAvaSubscription:null,deleteMainContainerSusbcription:null,resizeMainContainerSusbcription:null,mainContainerResizeAllowed:!1},methods:{async build(){const{config:t,macroValues:e}=this.outstreamInstance;this.outstreamInstance.updateMacroValues({...await Gd({isInEuCountry:t.geoTarget.eu_country,gdprMacroValues:{[pl]:e[pl],[ml]:e[ml]},settings:t.userConsentSettings.timeToWaitForUserConsent})}),await this.setMainPositionParent()},mount(){this.mountMainPosition(),this.mountAvaPosition(),this.mountExpandedPosition(),this.setEffectiveTarget(this.$mainContainer),this.setRelocateAdTarget(this.$mainContainer)},getAdContainerParent(){const{config:{options:t},wind:e}=this.outstreamInstance;return(t.adContainerParent?Vd({wind:e,selectors:[t.adContainerParent],position:0}):void 0)||e.document.body},createObservables(){this.relocateAdOnDomChange(this.onBeforeRelocateAd),this.viewportPosition$=co.createObservable(this.$mainContainer)},onBeforeRelocateAd(){this.outstreamInstance.windowHeight=ft(),this.updateMainContainerDimensions()},startAdListener(t){let{isIntersecting:e}=t;var i;e&&(null===(i=this.startAdSubscription)||void 0===i||i.unsubscribe(),this.updateAdPosition(Zs),this.outstreamInstance.startAd())},adPositionListener(t){let{isIntersecting:e,intersectionRatio:i}=t;const{adPosition:n}=this.outstreamInstance;if(n===Ys)return;const r=e&&1===i?Zs:$s;this.updateAdPosition(r)},resizeMainContainerListener(){var t;(this.mainContainerResizeAllowed=this.requestResizeMainContainer(),this.mainContainerResizeAllowed)&&(null===(t=this.resizeMainContainerSusbcription)||void 0===t||t.unsubscribe(),this.outstreamInstance.adPosition===Zs&&(this.outstreamInstance.adPosition=null,this.updateAdPosition(Zs)))},deleteMainContainerListener(t){var e;let{isVisible:i}=t;const n=r(i)&&(null===(e=bt(this.$mainContainer))||void 0===e?void 0:e.isAbove);var s;(n||r(this.$mainContainer))&&(null===(s=this.deleteMainContainerSusbcription)||void 0===s||s.unsubscribe());n&&this.removeMainContainer()},updateAdPosition(t){var e;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:n,adControllerInstance:s,config:o,adPosition:a,$adContainer:d}=this.outstreamInstance;if(r(d))return;if(!r((null==s||null===(e=s.currentAd)||void 0===e?void 0:e.dimensions)&&n>Fs&&n<Gs)||t===js)switch(t){case js:{if(a===js&&r(i))break;const t=this.getReferencePosition();ci(d,"remove","ava"),it(d,t,!0),this.outstreamInstance.adPosition=js;break}case Zs:{if(a===Zs&&r(i))break;const t=this.obtainAdMainPosition();this.outstreamInstance.batchMoveAdChanges(t,(()=>{this.hideMainPositionBackground(),ci(d,"remove",["ava","expanded"]),it(d,t,!0),s.resizeAd(t.width,t.height)})),this.outstreamInstance.adPosition=Zs;break}case $s:{if(r(o.ava.enabled)||a===$s&&r(i))break;const t=this.obtainAdAvaPosition();this.outstreamInstance.batchMoveAdChanges(t,(()=>{this.showMainPositionBackground(),ci(d,"remove","expanded"),ci(d,"add","ava"),it(d,t,!0);const e=s.currentAd.isAdFactory?"ava":void 0;s.resizeAd(t.width,t.height,e)})),this.outstreamInstance.adPosition=$s;break}case Ys:{if(a===Ys&&r(i))break;const t=this.obtainAdExpandedPosition();this.outstreamInstance.batchMoveAdChanges(t,(()=>{ci(d,"remove","ava"),ci(d,"add","expanded"),it(d,t,!0),s.resizeAd(t.width,t.height)})),this.outstreamInstance.adPosition=Ys;break}}},displayRestart(){const t=this.$mainContainer;return this.hideLoading(),this.mountRestartLayer(t).then((t=>(t.action===Os.RESTART&&this.showLoading(),t))).catch((t=>{throw t}))},unsubscribeAll(){var t,e,i,n;null===(t=this.startAdSubscription)||void 0===t||t.unsubscribe(),null===(e=this.adPositionSubscription)||void 0===e||e.unsubscribe(),null===(i=this.programmaticAvaSubscription)||void 0===i||i.unsubscribe(),null===(n=this.resizeMainContainerSusbcription)||void 0===n||n.unsubscribe(),this.unsubscribePlayback()},adPreload(){const{adControllerInstance:{currentAd:t}}=this.outstreamInstance;r(null==t?void 0:t.isProgrammaticDisplay)&&(this.mainContainerResizeAllowed=this.requestResizeMainContainer())},programmaticDisplayLoaded(){const{config:t}=this.outstreamInstance;this.mainContainerResizeAllowed=this.requestResizeMainContainer(),t.ava.enabled&&(t.ava.forceStart||this.hasEffectiveTrackerBeenFired())?this.updateAdPosition($s):(this.updateAdPosition(Zs),t.ava.enabled&&(this.programmaticAvaSubscription=Fd.createObservable(this.$mainContainer).subscribeOnce((()=>this.updateAdPosition($s)))))},getAvailablePositions(t){let{hasAva:e}=t;const{config:{options:i}}=this.outstreamInstance;return{mainPosition:{$container:this.$mainContainer,containerAdpatsToContent:this.needToUnfold&&r(i.forceSize)},...e&&{avaPosition:{$container:this.getAdContainerParent()}}}},startAd(){const{config:t}=this.outstreamInstance,e=bt(this.$mainContainer),i=e.isIntersecting,n=t.ava.enabled&&(t.ava.forceStart||e.isBelow||this.hasEffectiveTrackerBeenFired());let r=null;if(i?r=Zs:n&&(r=$s),r)return this.updateAdPosition(r),void this.outstreamInstance.startAd();this.startAdSubscription=this.viewportPosition$.subscribe(this.startAdListener)},adStarted(){const{$adContainer:t,adControllerInstance:e,config:{ava:i}}=this.outstreamInstance,{isProgrammaticDisplay:n,isNoVideoReminder:s}=e.currentAd;this.hideLoading(),r(this.mainContainerResizeAllowed)&&(this.resizeMainContainerSusbcription=this.viewportPosition$.subscribe(this.resizeMainContainerListener)),i.enabled&&r(n||s)&&(this.adPositionSubscription=this.viewportPosition$.subscribe(this.adPositionListener)),r(i.enabled)&&this.playbackOnScroll(t)},updateConfigOptions(t){let{ava:e,restart:i,referenceBackground:n}=t;const{config:{options:r},state:s}=this.outstreamInstance;!1===e&&(this.outstreamInstance.disableAva(),s>=Bs&&this.updateAdPosition(Zs)),!1===i&&(this.outstreamInstance.displayRestart=!1),n&&(r.reference.backgroundColor=n)},adExpandedChange(){const{adControllerInstance:t,config:e}=this.outstreamInstance,{currentAd:i}=t||{};let n=null;if(null!=i&&i.expanded)n=Ys;else{const{isInViewport:t}=bt(this.$mainContainer);n=e.ava.enabled&&r(t)?$s:Zs}this.updateAdPosition(n,!0)},reset(){this.mainContainerResizeAllowed=!1},removeElements(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{config:e}=this.outstreamInstance;J(this.$reference),e.options.forceSize||r(this.outstreamInstance.noMoreContentAvailable())||this.removeMainContainer(t).then((t=>{var e;t?null===(e=this.deleteMainContainerSusbcription)||void 0===e||e.unsubscribe():this.deleteMainContainerSusbcription=this.deleteMainContainerSusbcription||this.viewportPosition$.subscribe(this.deleteMainContainerListener)})).catch((t=>C.error(t)))},adStoppedWithReminder(){this.unsubscribeAll(),this.hideMainPositionBackground()}},hooks:{beforeEndAd(){this.unsubscribeAll()},beforeClose(){this.unsubscribeAll()},beforeAdError(){this.unsubscribeAll()}}}),{currentScript:vl}=document;!async function(){let defaultConfig=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{
defaultConfig = {"it":"94bd3813-9f84-4f72-b389-6d6e4bf4888b","tags":{"client":{"mobile":["https:\/\/vast.sunmedia.tv\/creatives\/a6fbd6c3-06d1-43ec-b3f2-ffd4275e71fa?referrerurl=${request.referrerurl}&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&t=${VALUE}","https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F241667871%2Fsummediadeals%2FSM-GEB%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3D0%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","https:\/\/s.richaudience.com\/vid\/ql8eCQTioR\/${random}\/?hasConsent=1&consentString=${gdpr_consent}"],"desktop":["https:\/\/vast.sunmedia.tv\/creatives\/a6fbd6c3-06d1-43ec-b3f2-ffd4275e71fa?referrerurl=${request.referrerurl}&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&t=${VALUE}","https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F241667871%2Fsummediadeals%2FSM-GEB%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3D0%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","https:\/\/s.richaudience.com\/vid\/ql8eCQTioR\/${random}\/?hasConsent=1&consentString=${gdpr_consent}"]},"sm":{"mobile":[{"url":"https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F143394101%2C1018282%2Fca-video-pub-8221793852898543-tag%2FGenBeta_MCMVideo%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D400x300%257C640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3Dclick%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","trafficType":"DIRECT"},{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeblogsIT\/GenbetaMobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/ZXR10JH3KW\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"}],"desktop":[{"url":"https:\/\/tpc.googlesyndication.com\/ima3vpaid?vad_format=linear&correlator=${random}&adtagurl=https%3A%2F%2Fpubads.g.doubleclick.net%2Fgampad%2Fads%3Fiu%3D%2F143394101%2C1018282%2Fca-video-pub-8221793852898543-tag%2FGenBeta_MCMVideo%26description_url%3D${request.referrerurl}%26tfcd%3D0%26npa%3D0%26sz%3D400x300%257C640x480%26gdfp_req%3D1%26output%3Dvast%26unviewed_position_start%3D1%26env%3Dvp%26vpos%3Dpreroll%26vpmute%3D0%26vpa%3Dclick%26type%3Djs%26vad_type%3Dlinear%26gdpr_consent%3D${gdpr_consent}%26gdpr%3D${gdpr}%26addtl_consent%3DPLACEHOLDER_ADDITIONAL_CONSENT","trafficType":"DIRECT"},{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeblogsIT\/GenbetaDesktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/ZXR10JH3KW\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"}]}},"priority":{"desktop":"sm","mobile":"sm"},"options":{"skip":true,"skipTime":30,"skipReminder":false,"skipReminderTime":0,"classMandatory":true,"restart":false,"audio":false,"pod":true,"up":false,"fold":false,"class":[".article-content > .blob.js-post-images-container > p"],"classPosition":1,"adPosition":[],"margin":0,"extra":"weblogs\/general","inblock":false,"ignoreDefaultTags":false,"forceSize":{"enabled":true,"ratio":"4:3"},"genericExtras":[]},"ava":{"desktop":{"enabled":false,"position":"bottom_right","bottom":0},"mobile":{"enabled":false,"position":"bottom_right","bottom":0}},"loop":{"desktop":{"enabled":false,"times":1,"autoStart":false,"onlyOneVideo":false},"mobile":{"enabled":false,"times":1,"autoStart":false,"onlyOneVideo":false}},"whitelist":[],"mobileNetBlackList":[],"category":"Technolgy & Computer","client":"8254f813-df2e-4a55-b37f-75555aee94e8","publisher":"06bc430c-4bbf-4fe2-9dd1-1fe39a5b9be4","alternative":{"desktop":{"schedule":"always","display":"fixed","position":"right","cls":true,"tag":[{"content":"<div id=\"divVideoStepAdTop\" class=\"divVideoStep\"><\/div> <script type='text\/javascript'> (function(w,d) { var i=w.invibes=w.invibes||{}; i.uc=1; i.prod=3574; var s=d.createElement('script'); s.type='text\/javascript'; s.async=true; s.src='https:\/\/k.b26net.com\/GetLink'; d.head.appendChild(s); })(window,document); <\/script>","iframe":false},{"content":"<script async src=\"https:\/\/securepubads.g.doubleclick.net\/tag\/js\/gpt.js\"><\/script> <script>   window.googletag = window.googletag || {cmd: []};   googletag.cmd.push(function() {     googletag.defineSlot('\/143394101,1018282\/ca-pub-8221793852898543-tag\/Genbeta_IntextWeb', [[300, 250], [300, 600]], 'div-gpt-ad-1664276425908-${random}').addService(googletag.pubads()); \tgoogletag.pubads().set('page_url', 'www.genbeta.com');     googletag.pubads().enableSingleRequest();     googletag.enableServices();   }); <\/script>  <script>  !function(a9,a,p,s,t,A,g){  if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q(\"i\",arguments)},fetchBids:function(){q(\"f\",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}(\"apstag\",window,document,\"script\",\"\/\/c.amazon-adsystem.com\/aax2\/apstag.js\");    apstag.init({      pubID: 'bbbb77a7-1459-4c85-af82-cd7e0a773a21',       adServer: 'googletag',     bidTimeout: 2e3,  \tschain: {      complete: 1,          ver: '1.0',              nodes: [                  {                      asi: 'sunmedia.tv',                      sid: '06bc430c-4bbf-4fe2-9dd1-1fe39a5b9be4',                      hp: 1,                      rid: '',                      name: '',                      domain: ''                  }              ]      \t} });  apstag.fetchBids({      slots: [{slotID: 'div-gpt-ad-1664276425908-${random}',slotName: '\/143394101,1018282\/ca-pub-8221793852898543-tag\/Genbeta_IntextWeb',sizes: [[300, 600], [300, 250]]}] }, function(bids) {      googletag.cmd.push(function(){         apstag.setDisplayBids();  googletag.pubads().refresh();      }); });  <\/script>  <div id='div-gpt-ad-1664276425908-${random}' style='min-width: 300px; min-height: 250px;'>   <script>     googletag.cmd.push(function() { googletag.display('div-gpt-ad-1664276425908-${random}'); });   <\/script> <\/div>","iframe":true}]},"mobile":{"schedule":"always","display":"fixed","position":"right","cls":true,"tag":[{"content":"<div id=\"divVideoStepAdTop\" class=\"divVideoStep\"><\/div> <script type='text\/javascript'> (function(w,d) { var i=w.invibes=w.invibes||{}; i.uc=1; i.prod=3574; var s=d.createElement('script'); s.type='text\/javascript'; s.async=true; s.src='https:\/\/k.b26net.com\/GetLink'; d.head.appendChild(s); })(window,document); <\/script>","iframe":false},{"content":"<script async src=\"https:\/\/securepubads.g.doubleclick.net\/tag\/js\/gpt.js\"><\/script> <script>   window.googletag = window.googletag || {cmd: []};   googletag.cmd.push(function() {     googletag.defineSlot('\/143394101,1018282\/ca-pub-8221793852898543-tag\/Genbeta_IntextWeb', [[300, 250], [300, 600]], 'div-gpt-ad-1664276425908-${random}').addService(googletag.pubads()); \tgoogletag.pubads().set('page_url', 'www.genbeta.com');     googletag.pubads().enableSingleRequest();     googletag.enableServices();   }); <\/script>  <script>  !function(a9,a,p,s,t,A,g){  if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q(\"i\",arguments)},fetchBids:function(){q(\"f\",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}(\"apstag\",window,document,\"script\",\"\/\/c.amazon-adsystem.com\/aax2\/apstag.js\");    apstag.init({      pubID: 'bbbb77a7-1459-4c85-af82-cd7e0a773a21',       adServer: 'googletag',     bidTimeout: 2e3,  \tschain: {      complete: 1,          ver: '1.0',              nodes: [                  {                      asi: 'sunmedia.tv',                      sid: '06bc430c-4bbf-4fe2-9dd1-1fe39a5b9be4',                      hp: 1,                      rid: '',                      name: '',                      domain: ''                  }              ]      \t} });  apstag.fetchBids({      slots: [{slotID: 'div-gpt-ad-1664276425908-${random}',slotName: '\/143394101,1018282\/ca-pub-8221793852898543-tag\/Genbeta_IntextWeb',sizes: [[300, 600], [300, 250]]}] }, function(bids) {      googletag.cmd.push(function(){         apstag.setDisplayBids();  googletag.pubads().refresh();      }); });  <\/script>  <div id='div-gpt-ad-1664276425908-${random}' style='min-width: 300px; min-height: 250px;'>   <script>     googletag.cmd.push(function() { googletag.display('div-gpt-ad-1664276425908-${random}'); });   <\/script> <\/div>","iframe":true}]}},"sdkType":"intext-1-0","defaultTrackersPath":"outstream.json","defaultTagsPath":"intext-1-0.json","sizes":["200x200","300x50","300x100","300x250","300x600","320x50","320x100","320x480","450x563","450x800","640x360","720x720","728x90","800x600","970x250","980x90"],"gfkCategory":"08_05_06_00","defaultTags":{"DESKTOP":{"BANNER":[{"url":"https:\/\/vast.sunmedia.tv\/creatives\/377fe620-b364-4b06-a489-77924d04e3f2?referrerurl=${request.referrerurl}&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":1,"type":"dbd1"},{"url":"https:\/\/es-suncopperland.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Desktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":2,"type":"dbd2"},{"url":"https:\/\/pub.admanmedia.com\/?c=v&m=tag&placementId=3006&videotype=VAST&wPlayer=${request.width}&hPlayer=${request.height}&ip=[IP]&ua=[UA]&domain=${request.referrerurl}&page=${request.referrerurl}&secure=1&language=[BROWSER_LANGUAGE]&bidfloor=2.5&gdpr_consent=${gdpr_consent}&ccpa_consent=[CCPA_CONSENT]&mindur=1&maxdur=180&uid2=[UID2]&idx=[IDX]","trafficType":"DIRECT","position":3,"type":"dbd3"}],"VAST":[{"url":"https:\/\/search.spotxchange.com\/vast\/2.0\/267639?VPAID=JS&content_page_url=${request.referrerurl}&cb=${random}&player_width=${request.width}&player_height=${request.height}&custom_skin=1&ad_volume=0&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&custom[content_type][]=${VALUE}","trafficType":"DIRECT","position":1,"type":"dvd1"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/2cda9eed-462d-4d4c-a308-786a00b8bf95?schain=${supply_chain}&t=${VALUE}&gdpr_consent=${gdpr_consent}","trafficType":"DIRECT","position":2,"type":"dvd2"},{"url":"https:\/\/es-sunelespanol.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Desktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":3,"type":"dvd3"}]},"MOBILE":{"BANNER":[{"url":"https:\/\/vast.sunmedia.tv\/creatives\/377fe620-b364-4b06-a489-77924d04e3f2?referrerurl=${request.referrerurl}&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":1,"type":"dbm1"},{"url":"https:\/\/es-suncopperland.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Mobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":2,"type":"dbm2"},{"url":"https:\/\/pub.admanmedia.com\/?c=v&m=tag&placementId=3006&videotype=VAST&wPlayer=${request.width}&hPlayer=${request.height}&ip=[IP]&ua=[UA]&domain=${request.referrerurl}&page=${request.referrerurl}&secure=1&language=[BROWSER_LANGUAGE]&bidfloor=2.5&gdpr_consent=${gdpr_consent}&ccpa_consent=[CCPA_CONSENT]&mindur=1&maxdur=180&uid2=[UID2]&idx=[IDX]","trafficType":"DIRECT","position":3,"type":"dbm3"}],"VAST":[{"url":"https:\/\/vast.sunmedia.tv\/creatives\/7ca8ce72-29a8-45b0-a728-fe7a4043ee1e?referrerurl=${request.referrerurl}&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":1,"type":"dvm1"},{"url":"https:\/\/vast.sunmedia.tv\/creatives\/2cda9eed-462d-4d4c-a308-786a00b8bf95?schain=${supply_chain}&t=${VALUE}&gdpr_consent=${gdpr_consent}","trafficType":"DIRECT","position":2,"type":"dvm2"},{"url":"https:\/\/es-sunelespanol.videoplaza.tv\/proxy\/distributor\/v2?s=RONIT\/Mobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT","position":3,"type":"dvm3"}]}},"defaultTrackers":[{"type":"image","event":"request","data":"https:\/\/pixel.es-config.sensic.net\/tp?ty=IM&optin=false&m=adnetwork_sunmedia&c=0&cp_c1=0&cp_c9=${gfk_category}&pr=${random}&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}"},{"type":"script","event":"request","data":"<script>(function() {function loadScript () { if (window.document.body) window.document.body.appendChild(f); else if (current_intent < intent) { current_intent++; setTimeout(loadScript(), 1000); } } raEuconsent = '${gdpr_consent}'; raReferrer = '${request.referrerurl}'; var intent = 10; var current_intent = 0; var f = document.createElement('script'); f.src = 'https:\/\/sync.richaudience.com\/DF2886F390D432DF0C8E98D69702ED6F\/'; loadScript();})();<\/script>"},{"type":"script","event":"request","data":"<script type=\"text\/javascript\"> try{ var h = document.createElement(\"script\"); h.async = true; h.src = \"https:\/\/pghub.io\/js\/pandg-sdk.js\"; h.onload=function(){ var metadata = {gdpr: \"${gdpr}\", gdpr_consent: \"${gdpr_consent}\", ccpa: null, bp_id: \"sunmedia\"}; var config = {name: \"P&G\", pixelUrl: \"https:\/\/pandg.tapad.com\/tag\"}; var tagger = Tapad.init(metadata, config); var data = {category: \"${page_category}\"}; tagger.sync(data).then(console.log); }; document.body.appendChild(h); } catch(e){} <\/script>"},{"type":"script","event":"impression","data":"<script> window.sm_conscore_rnda = Math.floor(100000000 + Math.random() * 900000000); window.sm_conscore_rndb = Math.floor(1000000 + Math.random() * 9000000); var url = 'https:\/\/sb.scorecardresearch.com\/p?c1=2&c2=21892462&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[REPLACE1]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[REPLACE2]&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}'; url = url.replace('[REPLACE1]', window.sm_conscore_rnda); url = url.replace('[REPLACE2]', window.sm_conscore_rndb); var i = new Image(); i.src = url; i.alt = 'comscoreLoad'; document.body.appendChild(i).setAttribute('style', 'width: 1px !important; height: 1px !important;'); <\/script>"},{"type":"script","event":"complete","data":"<script> if(!window.sm_conscore_rnda)window.sm_conscore_rnda = Math.floor(100000000 + Math.random() * 900000000); if(!window.sm_conscore_rndb)window.sm_conscore_rndb = Math.floor(100000000 + Math.random() * 900000000); var url = 'https:\/\/sb.scorecardresearch.com\/p?c1=2&c2=21892462&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[REPLACE1]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=end&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[REPLACE2]&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}'; url = url.replace('[REPLACE1]', window.sm_conscore_rnda); url = url.replace('[REPLACE2]', window.sm_conscore_rndb); var i = new Image(); i.src = url; i.alt = 'comscoreComplete'; document.body.appendChild(i).setAttribute('style', 'width: 1px !important; height: 1px !important;'); <\/script>"}]};
const t=Jt(Ga,defaultConfig);await Do(t),await Vo();const e=await ai({config:t,pluginFactory:Ro(Al),services:[...ta(t)],components:[Xa,na,ua,ma,va,ba],genericExtras:Dd,currentScript:vl,validateIntegration:Ya});x((null==e?void 0:e.createPluginInstances())||[],(t=>t.init()))}catch(t){C.error(t)}}()})();
